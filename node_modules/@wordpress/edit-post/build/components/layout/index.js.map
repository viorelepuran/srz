{"version":3,"names":["_clsx","_interopRequireDefault","require","_editor","_data","_blockEditor","_plugins","_i18n","_element","_icons","_notices","_preferences","_commands","_coreCommands","_blockLibrary","_url","_htmlEntities","_coreData","_components","_compose","_backButton","_editorInitialization","_keyboardShortcuts","_initPatternModal","_browserUrl","_metaBoxes","_moreMenu","_welcomeGuide","_store","_lockUnlock","_useCommands","_usePaddingAppender","_useShouldIframe","_useNavigateToEntityRecord","_useMetaBoxInitialization","_jsxRuntime","getLayoutStyles","unlock","blockEditorPrivateApis","useCommands","coreCommandsPrivateApis","useCommandContext","commandsPrivateApis","Editor","FullscreenMode","NavigableRegion","editorPrivateApis","BlockKeyboardShortcuts","blockLibraryPrivateApis","DESIGN_POST_TYPES","useEditorStyles","additionalStyles","hasThemeStyleSupport","editorSettings","useSelect","select","editPostStore","isFeatureActive","editorStore","getEditorSettings","addedStyles","join","useMemo","_editorSettings$style","_editorSettings$defau","_editorSettings$style2","_editorSettings$style3","presetStyles","styles","filter","style","__unstableType","defaultEditorStyles","hasThemeStyles","length","disableLayoutStyles","push","css","selector","hasBlockGapSupport","hasFallbackGapSupport","fallbackGapValue","baseStyles","MetaBoxesMain","isOpen","openHeight","hasAnyVisible","get","preferencesStore","isMetaBoxLocationVisible","set","setPreference","useDispatch","metaBoxesMainRef","useRef","isShort","useMediaQuery","min","max","setHeightConstraints","useState","effectSizeConstraints","useRefEffect","node","container","closest","noticeLists","querySelectorAll","resizeHandle","querySelector","deriveConstraints","fullHeight","offsetHeight","nextMax","element","nextMin","observer","window","ResizeObserver","observe","disconnect","separatorRef","separatorHelpId","useId","isUntouched","setIsUntouched","applyHeight","candidateHeight","isPersistent","isInstant","nextHeight","Math","current","ariaValueNow","getAriaValueNow","updateSize","height","width","contents","jsxs","className","hidden","children","jsx","default","location","isAutoHeight","undefined","usedMax","round","usedAriaValueNow","toggle","onSeparatorKeyDown","event","delta","ArrowUp","ArrowDown","key","pane","resizable","fromHeight","preventDefault","paneLabel","__","Pane","paneProps","clsx","ResizableBox","as","ref","defaultSize","minHeight","maxHeight","enable","top","right","bottom","left","topLeft","topRight","bottomRight","bottomLeft","handleClasses","handleComponent","Fragment","Tooltip","text","role","onKeyDown","VisuallyHidden","id","onPointerDown","pointerId","target","parentElement","contains","setPointerCapture","onResizeStart","direction","elementRef","onResize","state","onResizeStop","onClick","Icon","icon","chevronUp","chevronDown","Layout","postId","initialPostId","postType","initialPostType","settings","initialEdits","useEditPostCommands","shouldIframe","useShouldIframe","createErrorNotice","noticesStore","currentPost","currentPostId","currentPostType","onNavigateToEntityRecord","onNavigateToPreviousEntityRecord","useNavigateToEntityRecord","isEditingTemplate","mode","isFullscreenActive","hasResolvedMode","hasActiveMetaboxes","hasBlockSelected","showIconLabels","isDistractionFree","showMetaBoxes","isWelcomeGuideVisible","templateId","enablePaddingAppender","_getPostType$viewable","hasMetaBoxes","canUser","getPostType","getTemplateId","coreStore","supportsTemplateMode","isViewable","viewable","canViewTemplate","kind","name","getBlockSelectionStart","isZoomOut","blockEditorStore","getEditorMode","getRenderingMode","getDefaultRenderingMode","isRenderingPostOnly","isNotDesignPostType","includes","isDirectlyEditingPattern","_templateId","defaultMode","useMetaBoxInitialization","paddingAppenderRef","paddingStyle","usePaddingAppender","commandContext","defaultRenderingMode","document","body","classList","add","remove","navigateRegionsProps","useNavigateRegions","onPluginAreaError","sprintf","createSuccessNotice","onActionPerformed","useCallback","actionId","items","href","addQueryArgs","trashed","post_type","type","ids","newItem","title","rendered","decodeEntities","actions","label","post","action","initialPost","backButton","useViewportMatch","SlotFillProvider","ErrorBoundary","canCopyContent","CommandMenu","forceIsDirty","contentRef","disableIframe","autoFocus","extraSidebarPanels","extraContent","PostLockedModal","isActive","UnsavedChangesWarning","AutosaveMonitor","LocalAutosaveMonitor","EditorKeyboardShortcutsRegister","PluginArea","onError","EditorSnackbars","_default","exports"],"sources":["@wordpress/edit-post/src/components/layout/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tAutosaveMonitor,\n\tLocalAutosaveMonitor,\n\tUnsavedChangesWarning,\n\tEditorKeyboardShortcutsRegister,\n\tEditorSnackbars,\n\tErrorBoundary,\n\tPostLockedModal,\n\tstore as editorStore,\n\tprivateApis as editorPrivateApis,\n} from '@wordpress/editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tprivateApis as blockEditorPrivateApis,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { PluginArea } from '@wordpress/plugins';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tuseCallback,\n\tuseMemo,\n\tuseId,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element';\nimport { chevronDown, chevronUp } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport {\n\tCommandMenu,\n\tprivateApis as commandsPrivateApis,\n} from '@wordpress/commands';\nimport { privateApis as coreCommandsPrivateApis } from '@wordpress/core-commands';\nimport { privateApis as blockLibraryPrivateApis } from '@wordpress/block-library';\nimport { addQueryArgs } from '@wordpress/url';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tIcon,\n\tResizableBox,\n\tSlotFillProvider,\n\tTooltip,\n\tVisuallyHidden,\n\t__unstableUseNavigateRegions as useNavigateRegions,\n} from '@wordpress/components';\nimport {\n\tuseMediaQuery,\n\tuseRefEffect,\n\tuseViewportMatch,\n} from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BackButton from '../back-button';\nimport EditorInitialization from '../editor-initialization';\nimport EditPostKeyboardShortcuts from '../keyboard-shortcuts';\nimport InitPatternModal from '../init-pattern-modal';\nimport BrowserURL from '../browser-url';\nimport MetaBoxes from '../meta-boxes';\nimport PostEditorMoreMenu from '../more-menu';\nimport WelcomeGuide from '../welcome-guide';\nimport { store as editPostStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport useEditPostCommands from '../../commands/use-commands';\nimport { usePaddingAppender } from './use-padding-appender';\nimport { useShouldIframe } from './use-should-iframe';\nimport useNavigateToEntityRecord from '../../hooks/use-navigate-to-entity-record';\nimport { useMetaBoxInitialization } from '../meta-boxes/use-meta-box-initialization';\n\nconst { getLayoutStyles } = unlock( blockEditorPrivateApis );\nconst { useCommands } = unlock( coreCommandsPrivateApis );\nconst { useCommandContext } = unlock( commandsPrivateApis );\nconst { Editor, FullscreenMode, NavigableRegion } = unlock( editorPrivateApis );\nconst { BlockKeyboardShortcuts } = unlock( blockLibraryPrivateApis );\nconst DESIGN_POST_TYPES = [\n\t'wp_template',\n\t'wp_template_part',\n\t'wp_block',\n\t'wp_navigation',\n];\n\nfunction useEditorStyles( ...additionalStyles ) {\n\tconst { hasThemeStyleSupport, editorSettings } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\thasThemeStyleSupport:\n\t\t\t\tselect( editPostStore ).isFeatureActive( 'themeStyles' ),\n\t\t\teditorSettings: select( editorStore ).getEditorSettings(),\n\t\t};\n\t}, [] );\n\n\tconst addedStyles = additionalStyles.join( '\\n' );\n\n\t// Compute the default styles.\n\treturn useMemo( () => {\n\t\tconst presetStyles =\n\t\t\teditorSettings.styles?.filter(\n\t\t\t\t( style ) =>\n\t\t\t\t\tstyle.__unstableType && style.__unstableType !== 'theme'\n\t\t\t) ?? [];\n\n\t\tconst defaultEditorStyles = [\n\t\t\t...( editorSettings?.defaultEditorStyles ?? [] ),\n\t\t\t...presetStyles,\n\t\t];\n\n\t\t// Has theme styles if the theme supports them and if some styles were not preset styles (in which case they're theme styles).\n\t\tconst hasThemeStyles =\n\t\t\thasThemeStyleSupport &&\n\t\t\tpresetStyles.length !== ( editorSettings.styles?.length ?? 0 );\n\n\t\t// If theme styles are not present or displayed, ensure that\n\t\t// base layout styles are still present in the editor.\n\t\tif ( ! editorSettings.disableLayoutStyles && ! hasThemeStyles ) {\n\t\t\tdefaultEditorStyles.push( {\n\t\t\t\tcss: getLayoutStyles( {\n\t\t\t\t\tstyle: {},\n\t\t\t\t\tselector: 'body',\n\t\t\t\t\thasBlockGapSupport: false,\n\t\t\t\t\thasFallbackGapSupport: true,\n\t\t\t\t\tfallbackGapValue: '0.5em',\n\t\t\t\t} ),\n\t\t\t} );\n\t\t}\n\n\t\tconst baseStyles = hasThemeStyles\n\t\t\t? editorSettings.styles ?? []\n\t\t\t: defaultEditorStyles;\n\n\t\tif ( addedStyles ) {\n\t\t\treturn [ ...baseStyles, { css: addedStyles } ];\n\t\t}\n\n\t\treturn baseStyles;\n\t}, [\n\t\teditorSettings.defaultEditorStyles,\n\t\teditorSettings.disableLayoutStyles,\n\t\teditorSettings.styles,\n\t\thasThemeStyleSupport,\n\t\taddedStyles,\n\t] );\n}\n\nfunction MetaBoxesMain() {\n\tconst [ isOpen, openHeight, hasAnyVisible ] = useSelect( ( select ) => {\n\t\tconst { get } = select( preferencesStore );\n\t\tconst { isMetaBoxLocationVisible } = select( editPostStore );\n\t\treturn [\n\t\t\tget( 'core/edit-post', 'metaBoxesMainIsOpen' ),\n\t\t\tget( 'core/edit-post', 'metaBoxesMainOpenHeight' ),\n\t\t\tisMetaBoxLocationVisible( 'normal' ) ||\n\t\t\t\tisMetaBoxLocationVisible( 'advanced' ) ||\n\t\t\t\tisMetaBoxLocationVisible( 'side' ),\n\t\t];\n\t}, [] );\n\tconst { set: setPreference } = useDispatch( preferencesStore );\n\tconst metaBoxesMainRef = useRef();\n\tconst isShort = useMediaQuery( '(max-height: 549px)' );\n\n\tconst [ { min, max }, setHeightConstraints ] = useState( () => ( {} ) );\n\t// Keeps the resizable area’s size constraints updated taking into account\n\t// editor notices. The constraints are also used to derive the value for the\n\t// aria-valuenow attribute on the separator.\n\tconst effectSizeConstraints = useRefEffect( ( node ) => {\n\t\tconst container = node.closest(\n\t\t\t'.interface-interface-skeleton__content'\n\t\t);\n\t\tconst noticeLists = container.querySelectorAll(\n\t\t\t':scope > .components-notice-list'\n\t\t);\n\t\tconst resizeHandle = container.querySelector(\n\t\t\t'.edit-post-meta-boxes-main__presenter'\n\t\t);\n\t\tconst deriveConstraints = () => {\n\t\t\tconst fullHeight = container.offsetHeight;\n\t\t\tlet nextMax = fullHeight;\n\t\t\tfor ( const element of noticeLists ) {\n\t\t\t\tnextMax -= element.offsetHeight;\n\t\t\t}\n\t\t\tconst nextMin = resizeHandle.offsetHeight;\n\t\t\tsetHeightConstraints( { min: nextMin, max: nextMax } );\n\t\t};\n\t\tconst observer = new window.ResizeObserver( deriveConstraints );\n\t\tobserver.observe( container );\n\t\tfor ( const element of noticeLists ) {\n\t\t\tobserver.observe( element );\n\t\t}\n\t\treturn () => observer.disconnect();\n\t}, [] );\n\n\tconst separatorRef = useRef();\n\tconst separatorHelpId = useId();\n\n\tconst [ isUntouched, setIsUntouched ] = useState( true );\n\tconst applyHeight = ( candidateHeight, isPersistent, isInstant ) => {\n\t\tconst nextHeight = Math.min( max, Math.max( min, candidateHeight ) );\n\t\tif ( isPersistent ) {\n\t\t\tsetPreference(\n\t\t\t\t'core/edit-post',\n\t\t\t\t'metaBoxesMainOpenHeight',\n\t\t\t\tnextHeight\n\t\t\t);\n\t\t} else {\n\t\t\tseparatorRef.current.ariaValueNow = getAriaValueNow( nextHeight );\n\t\t}\n\t\tif ( isInstant ) {\n\t\t\tmetaBoxesMainRef.current.updateSize( {\n\t\t\t\theight: nextHeight,\n\t\t\t\t// Oddly, when the event that triggered this was not from the mouse (e.g. keydown),\n\t\t\t\t// if `width` is left unspecified a subsequent drag gesture applies a fixed\n\t\t\t\t// width and the pane fails to widen/narrow with parent width changes from\n\t\t\t\t// sidebars opening/closing or window resizes.\n\t\t\t\twidth: 'auto',\n\t\t\t} );\n\t\t}\n\t};\n\n\tif ( ! hasAnyVisible ) {\n\t\treturn;\n\t}\n\n\tconst contents = (\n\t\t<div\n\t\t\t// The class name 'edit-post-layout__metaboxes' is retained because some plugins use it.\n\t\t\tclassName=\"edit-post-layout__metaboxes edit-post-meta-boxes-main__liner\"\n\t\t\thidden={ isShort && ! isOpen }\n\t\t>\n\t\t\t<MetaBoxes location=\"normal\" />\n\t\t\t<MetaBoxes location=\"advanced\" />\n\t\t</div>\n\t);\n\n\tconst isAutoHeight = openHeight === undefined;\n\tlet usedMax = '50%'; // Approximation before max has a value.\n\tif ( max !== undefined ) {\n\t\t// Halves the available max height until a user height is set.\n\t\tusedMax = isAutoHeight && isUntouched ? max / 2 : max;\n\t}\n\n\tconst getAriaValueNow = ( height ) =>\n\t\tMath.round( ( ( height - min ) / ( max - min ) ) * 100 );\n\tconst usedAriaValueNow =\n\t\tmax === undefined || isAutoHeight ? 50 : getAriaValueNow( openHeight );\n\n\tconst toggle = () =>\n\t\tsetPreference( 'core/edit-post', 'metaBoxesMainIsOpen', ! isOpen );\n\n\t// TODO: Support more/all keyboard interactions from the window splitter pattern:\n\t// https://www.w3.org/WAI/ARIA/apg/patterns/windowsplitter/\n\tconst onSeparatorKeyDown = ( event ) => {\n\t\tconst delta = { ArrowUp: 20, ArrowDown: -20 }[ event.key ];\n\t\tif ( delta ) {\n\t\t\tconst pane = metaBoxesMainRef.current.resizable;\n\t\t\tconst fromHeight = isAutoHeight ? pane.offsetHeight : openHeight;\n\t\t\tconst nextHeight = delta + fromHeight;\n\t\t\tapplyHeight( nextHeight, true, true );\n\t\t\tevent.preventDefault();\n\t\t}\n\t};\n\tconst className = 'edit-post-meta-boxes-main';\n\tconst paneLabel = __( 'Meta Boxes' );\n\tlet Pane, paneProps;\n\tif ( isShort ) {\n\t\tPane = NavigableRegion;\n\t\tpaneProps = {\n\t\t\tclassName: clsx( className, 'is-toggle-only' ),\n\t\t};\n\t} else {\n\t\tPane = ResizableBox;\n\t\tpaneProps = /** @type {Parameters<typeof ResizableBox>[0]} */ ( {\n\t\t\tas: NavigableRegion,\n\t\t\tref: metaBoxesMainRef,\n\t\t\tclassName: clsx( className, 'is-resizable' ),\n\t\t\tdefaultSize: { height: openHeight },\n\t\t\tminHeight: min,\n\t\t\tmaxHeight: usedMax,\n\t\t\tenable: {\n\t\t\t\ttop: true,\n\t\t\t\tright: false,\n\t\t\t\tbottom: false,\n\t\t\t\tleft: false,\n\t\t\t\ttopLeft: false,\n\t\t\t\ttopRight: false,\n\t\t\t\tbottomRight: false,\n\t\t\t\tbottomLeft: false,\n\t\t\t},\n\t\t\thandleClasses: { top: 'edit-post-meta-boxes-main__presenter' },\n\t\t\thandleComponent: {\n\t\t\t\ttop: (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Tooltip text={ __( 'Drag to resize' ) }>\n\t\t\t\t\t\t\t<button // eslint-disable-line jsx-a11y/role-supports-aria-props\n\t\t\t\t\t\t\t\tref={ separatorRef }\n\t\t\t\t\t\t\t\trole=\"separator\" // eslint-disable-line jsx-a11y/no-interactive-element-to-noninteractive-role\n\t\t\t\t\t\t\t\taria-valuenow={ usedAriaValueNow }\n\t\t\t\t\t\t\t\taria-label={ __( 'Drag to resize' ) }\n\t\t\t\t\t\t\t\taria-describedby={ separatorHelpId }\n\t\t\t\t\t\t\t\tonKeyDown={ onSeparatorKeyDown }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t<VisuallyHidden id={ separatorHelpId }>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'Use up and down arrow keys to resize the meta box panel.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t</>\n\t\t\t\t),\n\t\t\t},\n\t\t\t// Avoids hiccups while dragging over objects like iframes and ensures that\n\t\t\t// the event to end the drag is captured by the target (resize handle)\n\t\t\t// whether or not it’s under the pointer.\n\t\t\tonPointerDown: ( { pointerId, target } ) => {\n\t\t\t\tif ( separatorRef.current.parentElement.contains( target ) ) {\n\t\t\t\t\ttarget.setPointerCapture( pointerId );\n\t\t\t\t}\n\t\t\t},\n\t\t\tonResizeStart: ( event, direction, elementRef ) => {\n\t\t\t\tif ( isAutoHeight ) {\n\t\t\t\t\t// Sets the starting height to avoid visual jumps in height and\n\t\t\t\t\t// aria-valuenow being `NaN` for the first (few) resize events.\n\t\t\t\t\tapplyHeight( elementRef.offsetHeight, false, true );\n\t\t\t\t\tsetIsUntouched( false );\n\t\t\t\t}\n\t\t\t},\n\t\t\tonResize: () =>\n\t\t\t\tapplyHeight( metaBoxesMainRef.current.state.height ),\n\t\t\tonResizeStop: () =>\n\t\t\t\tapplyHeight( metaBoxesMainRef.current.state.height, true ),\n\t\t} );\n\t}\n\n\treturn (\n\t\t<Pane aria-label={ paneLabel } { ...paneProps }>\n\t\t\t{ isShort ? (\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\tclassName=\"edit-post-meta-boxes-main__presenter\"\n\t\t\t\t\tonClick={ toggle }\n\t\t\t\t>\n\t\t\t\t\t{ paneLabel }\n\t\t\t\t\t<Icon icon={ isOpen ? chevronUp : chevronDown } />\n\t\t\t\t</button>\n\t\t\t) : (\n\t\t\t\t<meta ref={ effectSizeConstraints } />\n\t\t\t) }\n\t\t\t{ contents }\n\t\t</Pane>\n\t);\n}\n\nfunction Layout( {\n\tpostId: initialPostId,\n\tpostType: initialPostType,\n\tsettings,\n\tinitialEdits,\n} ) {\n\tuseCommands();\n\tuseEditPostCommands();\n\tconst shouldIframe = useShouldIframe();\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst {\n\t\tcurrentPost: { postId: currentPostId, postType: currentPostType },\n\t\tonNavigateToEntityRecord,\n\t\tonNavigateToPreviousEntityRecord,\n\t} = useNavigateToEntityRecord(\n\t\tinitialPostId,\n\t\tinitialPostType,\n\t\t'post-only'\n\t);\n\tconst isEditingTemplate = currentPostType === 'wp_template';\n\tconst {\n\t\tmode,\n\t\tisFullscreenActive,\n\t\thasResolvedMode,\n\t\thasActiveMetaboxes,\n\t\thasBlockSelected,\n\t\tshowIconLabels,\n\t\tisDistractionFree,\n\t\tshowMetaBoxes,\n\t\tisWelcomeGuideVisible,\n\t\ttemplateId,\n\t\tenablePaddingAppender,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { get } = select( preferencesStore );\n\t\t\tconst { isFeatureActive, hasMetaBoxes } = select( editPostStore );\n\t\t\tconst { canUser, getPostType, getTemplateId } = unlock(\n\t\t\t\tselect( coreStore )\n\t\t\t);\n\n\t\t\tconst supportsTemplateMode = settings.supportsTemplateMode;\n\t\t\tconst isViewable =\n\t\t\t\tgetPostType( currentPostType )?.viewable ?? false;\n\t\t\tconst canViewTemplate = canUser( 'read', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} );\n\t\t\tconst { getBlockSelectionStart, isZoomOut } = unlock(\n\t\t\t\tselect( blockEditorStore )\n\t\t\t);\n\t\t\tconst { getEditorMode, getRenderingMode, getDefaultRenderingMode } =\n\t\t\t\tunlock( select( editorStore ) );\n\t\t\tconst isRenderingPostOnly = getRenderingMode() === 'post-only';\n\t\t\tconst isNotDesignPostType =\n\t\t\t\t! DESIGN_POST_TYPES.includes( currentPostType );\n\t\t\tconst isDirectlyEditingPattern =\n\t\t\t\tcurrentPostType === 'wp_block' &&\n\t\t\t\t! onNavigateToPreviousEntityRecord;\n\t\t\tconst _templateId = getTemplateId( currentPostType, currentPostId );\n\t\t\tconst defaultMode = getDefaultRenderingMode( currentPostType );\n\n\t\t\treturn {\n\t\t\t\tmode: getEditorMode(),\n\t\t\t\tisFullscreenActive: isFeatureActive( 'fullscreenMode' ),\n\t\t\t\thasActiveMetaboxes: hasMetaBoxes(),\n\t\t\t\thasResolvedMode:\n\t\t\t\t\tdefaultMode === 'template-locked'\n\t\t\t\t\t\t? !! _templateId\n\t\t\t\t\t\t: defaultMode !== undefined,\n\t\t\t\thasBlockSelected: !! getBlockSelectionStart(),\n\t\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\n\t\t\t\tshowMetaBoxes:\n\t\t\t\t\t( isNotDesignPostType && ! isZoomOut() ) ||\n\t\t\t\t\tisDirectlyEditingPattern,\n\t\t\t\tisWelcomeGuideVisible: isFeatureActive( 'welcomeGuide' ),\n\t\t\t\ttemplateId:\n\t\t\t\t\tsupportsTemplateMode &&\n\t\t\t\t\tisViewable &&\n\t\t\t\t\tcanViewTemplate &&\n\t\t\t\t\t! isEditingTemplate\n\t\t\t\t\t\t? _templateId\n\t\t\t\t\t\t: null,\n\t\t\t\tenablePaddingAppender:\n\t\t\t\t\t! isZoomOut() && isRenderingPostOnly && isNotDesignPostType,\n\t\t\t};\n\t\t},\n\t\t[\n\t\t\tcurrentPostType,\n\t\t\tcurrentPostId,\n\t\t\tisEditingTemplate,\n\t\t\tsettings.supportsTemplateMode,\n\t\t\tonNavigateToPreviousEntityRecord,\n\t\t]\n\t);\n\n\tuseMetaBoxInitialization( hasActiveMetaboxes && hasResolvedMode );\n\n\tconst [ paddingAppenderRef, paddingStyle ] = usePaddingAppender(\n\t\tenablePaddingAppender\n\t);\n\n\t// Set the right context for the command palette\n\tconst commandContext = hasBlockSelected\n\t\t? 'block-selection-edit'\n\t\t: 'entity-edit';\n\tuseCommandContext( commandContext );\n\tconst editorSettings = useMemo(\n\t\t() => ( {\n\t\t\t...settings,\n\t\t\tonNavigateToEntityRecord,\n\t\t\tonNavigateToPreviousEntityRecord,\n\t\t\tdefaultRenderingMode: 'post-only',\n\t\t} ),\n\t\t[ settings, onNavigateToEntityRecord, onNavigateToPreviousEntityRecord ]\n\t);\n\tconst styles = useEditorStyles( paddingStyle );\n\n\t// We need to add the show-icon-labels class to the body element so it is applied to modals.\n\tif ( showIconLabels ) {\n\t\tdocument.body.classList.add( 'show-icon-labels' );\n\t} else {\n\t\tdocument.body.classList.remove( 'show-icon-labels' );\n\t}\n\n\tconst navigateRegionsProps = useNavigateRegions();\n\n\tconst className = clsx( 'edit-post-layout', 'is-mode-' + mode, {\n\t\t'has-metaboxes': hasActiveMetaboxes,\n\t} );\n\n\tfunction onPluginAreaError( name ) {\n\t\tcreateErrorNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: plugin name */\n\t\t\t\t__(\n\t\t\t\t\t'The \"%s\" plugin has encountered an error and cannot be rendered.'\n\t\t\t\t),\n\t\t\t\tname\n\t\t\t)\n\t\t);\n\t}\n\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\n\tconst onActionPerformed = useCallback(\n\t\t( actionId, items ) => {\n\t\t\tswitch ( actionId ) {\n\t\t\t\tcase 'move-to-trash':\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.location.href = addQueryArgs( 'edit.php', {\n\t\t\t\t\t\t\ttrashed: 1,\n\t\t\t\t\t\t\tpost_type: items[ 0 ].type,\n\t\t\t\t\t\t\tids: items[ 0 ].id,\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'duplicate-post':\n\t\t\t\t\t{\n\t\t\t\t\t\tconst newItem = items[ 0 ];\n\t\t\t\t\t\tconst title =\n\t\t\t\t\t\t\ttypeof newItem.title === 'string'\n\t\t\t\t\t\t\t\t? newItem.title\n\t\t\t\t\t\t\t\t: newItem.title?.rendered;\n\t\t\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Title of the created post or template, e.g: \"Hello world\".\n\t\t\t\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\t\t\t\tdecodeEntities( title )\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\tid: 'duplicate-post-action',\n\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: __( 'Edit' ),\n\t\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\t\tconst postId = newItem.id;\n\t\t\t\t\t\t\t\t\t\t\tdocument.location.href =\n\t\t\t\t\t\t\t\t\t\t\t\taddQueryArgs( 'post.php', {\n\t\t\t\t\t\t\t\t\t\t\t\t\tpost: postId,\n\t\t\t\t\t\t\t\t\t\t\t\t\taction: 'edit',\n\t\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t[ createSuccessNotice ]\n\t);\n\n\tconst initialPost = useMemo( () => {\n\t\treturn {\n\t\t\ttype: initialPostType,\n\t\t\tid: initialPostId,\n\t\t};\n\t}, [ initialPostType, initialPostId ] );\n\n\tconst backButton =\n\t\tuseViewportMatch( 'medium' ) && isFullscreenActive ? (\n\t\t\t<BackButton initialPost={ initialPost } />\n\t\t) : null;\n\n\treturn (\n\t\t<SlotFillProvider>\n\t\t\t<ErrorBoundary canCopyContent>\n\t\t\t\t<CommandMenu />\n\t\t\t\t<WelcomeGuide postType={ currentPostType } />\n\t\t\t\t<div\n\t\t\t\t\tclassName={ navigateRegionsProps.className }\n\t\t\t\t\t{ ...navigateRegionsProps }\n\t\t\t\t\tref={ navigateRegionsProps.ref }\n\t\t\t\t>\n\t\t\t\t\t<Editor\n\t\t\t\t\t\tsettings={ editorSettings }\n\t\t\t\t\t\tinitialEdits={ initialEdits }\n\t\t\t\t\t\tpostType={ currentPostType }\n\t\t\t\t\t\tpostId={ currentPostId }\n\t\t\t\t\t\ttemplateId={ templateId }\n\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\tstyles={ styles }\n\t\t\t\t\t\tforceIsDirty={ hasActiveMetaboxes }\n\t\t\t\t\t\tcontentRef={ paddingAppenderRef }\n\t\t\t\t\t\tdisableIframe={ ! shouldIframe }\n\t\t\t\t\t\t// We should auto-focus the canvas (title) on load.\n\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/no-autofocus\n\t\t\t\t\t\tautoFocus={ ! isWelcomeGuideVisible }\n\t\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\t\textraSidebarPanels={\n\t\t\t\t\t\t\tshowMetaBoxes && <MetaBoxes location=\"side\" />\n\t\t\t\t\t\t}\n\t\t\t\t\t\textraContent={\n\t\t\t\t\t\t\t! isDistractionFree &&\n\t\t\t\t\t\t\tshowMetaBoxes && <MetaBoxesMain />\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<PostLockedModal />\n\t\t\t\t\t\t<EditorInitialization />\n\t\t\t\t\t\t<FullscreenMode isActive={ isFullscreenActive } />\n\t\t\t\t\t\t<BrowserURL />\n\t\t\t\t\t\t<UnsavedChangesWarning />\n\t\t\t\t\t\t<AutosaveMonitor />\n\t\t\t\t\t\t<LocalAutosaveMonitor />\n\t\t\t\t\t\t<EditPostKeyboardShortcuts />\n\t\t\t\t\t\t<EditorKeyboardShortcutsRegister />\n\t\t\t\t\t\t<BlockKeyboardShortcuts />\n\t\t\t\t\t\t<InitPatternModal />\n\t\t\t\t\t\t<PluginArea onError={ onPluginAreaError } />\n\t\t\t\t\t\t<PostEditorMoreMenu />\n\t\t\t\t\t\t{ backButton }\n\t\t\t\t\t\t<EditorSnackbars />\n\t\t\t\t\t</Editor>\n\t\t\t\t</div>\n\t\t\t</ErrorBoundary>\n\t\t</SlotFillProvider>\n\t);\n}\n\nexport default Layout;\n"],"mappings":"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","ignoreList":[]}