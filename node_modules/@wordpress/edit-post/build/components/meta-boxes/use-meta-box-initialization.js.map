{"version":3,"names":["_data","require","_editor","_element","_store","useMetaBoxInitialization","enabled","isEnabledAndEditorReady","useSelect","select","editorStore","__unstableIsEditorReady","initializeMetaBoxes","useDispatch","editPostStore","useEffect","exports"],"sources":["@wordpress/edit-post/src/components/meta-boxes/use-meta-box-initialization.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editPostStore } from '../../store';\n\n/**\n * Initializes WordPress `postboxes` script and the logic for saving meta boxes.\n *\n * @param { boolean } enabled\n */\nexport const useMetaBoxInitialization = ( enabled ) => {\n\tconst isEnabledAndEditorReady = useSelect(\n\t\t( select ) =>\n\t\t\tenabled && select( editorStore ).__unstableIsEditorReady(),\n\t\t[ enabled ]\n\t);\n\tconst { initializeMetaBoxes } = useDispatch( editPostStore );\n\t// The effect has to rerun when the editor is ready because initializeMetaBoxes\n\t// will noop until then.\n\tuseEffect( () => {\n\t\tif ( isEnabledAndEditorReady ) {\n\t\t\tinitializeMetaBoxes();\n\t\t}\n\t}, [ isEnabledAndEditorReady, initializeMetaBoxes ] );\n};\n"],"mappings":";;;;;;AAGA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AAKA,IAAAG,MAAA,GAAAH,OAAA;AAVA;AACA;AACA;;AAKA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACO,MAAMI,wBAAwB,GAAKC,OAAO,IAAM;EACtD,MAAMC,uBAAuB,GAAG,IAAAC,eAAS,EACtCC,MAAM,IACPH,OAAO,IAAIG,MAAM,CAAEC,aAAY,CAAC,CAACC,uBAAuB,CAAC,CAAC,EAC3D,CAAEL,OAAO,CACV,CAAC;EACD,MAAM;IAAEM;EAAoB,CAAC,GAAG,IAAAC,iBAAW,EAAEC,YAAc,CAAC;EAC5D;EACA;EACA,IAAAC,kBAAS,EAAE,MAAM;IAChB,IAAKR,uBAAuB,EAAG;MAC9BK,mBAAmB,CAAC,CAAC;IACtB;EACD,CAAC,EAAE,CAAEL,uBAAuB,EAAEK,mBAAmB,CAAG,CAAC;AACtD,CAAC;AAACI,OAAA,CAAAX,wBAAA,GAAAA,wBAAA","ignoreList":[]}