{"version":3,"names":["useDispatch","useSelect","store","editorStore","useEffect","editPostStore","useMetaBoxInitialization","enabled","isEnabledAndEditorReady","select","__unstableIsEditorReady","initializeMetaBoxes"],"sources":["@wordpress/edit-post/src/components/meta-boxes/use-meta-box-initialization.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editPostStore } from '../../store';\n\n/**\n * Initializes WordPress `postboxes` script and the logic for saving meta boxes.\n *\n * @param { boolean } enabled\n */\nexport const useMetaBoxInitialization = ( enabled ) => {\n\tconst isEnabledAndEditorReady = useSelect(\n\t\t( select ) =>\n\t\t\tenabled && select( editorStore ).__unstableIsEditorReady(),\n\t\t[ enabled ]\n\t);\n\tconst { initializeMetaBoxes } = useDispatch( editPostStore );\n\t// The effect has to rerun when the editor is ready because initializeMetaBoxes\n\t// will noop until then.\n\tuseEffect( () => {\n\t\tif ( isEnabledAndEditorReady ) {\n\t\t\tinitializeMetaBoxes();\n\t\t}\n\t}, [ isEnabledAndEditorReady, initializeMetaBoxes ] );\n};\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,WAAW,EAAEC,SAAS,QAAQ,iBAAiB;AACxD,SAASC,KAAK,IAAIC,WAAW,QAAQ,mBAAmB;AACxD,SAASC,SAAS,QAAQ,oBAAoB;;AAE9C;AACA;AACA;AACA,SAASF,KAAK,IAAIG,aAAa,QAAQ,aAAa;;AAEpD;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,wBAAwB,GAAKC,OAAO,IAAM;EACtD,MAAMC,uBAAuB,GAAGP,SAAS,CACtCQ,MAAM,IACPF,OAAO,IAAIE,MAAM,CAAEN,WAAY,CAAC,CAACO,uBAAuB,CAAC,CAAC,EAC3D,CAAEH,OAAO,CACV,CAAC;EACD,MAAM;IAAEI;EAAoB,CAAC,GAAGX,WAAW,CAAEK,aAAc,CAAC;EAC5D;EACA;EACAD,SAAS,CAAE,MAAM;IAChB,IAAKI,uBAAuB,EAAG;MAC9BG,mBAAmB,CAAC,CAAC;IACtB;EACD,CAAC,EAAE,CAAEH,uBAAuB,EAAEG,mBAAmB,CAAG,CAAC;AACtD,CAAC","ignoreList":[]}