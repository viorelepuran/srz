{"version":3,"names":["clsx","AutosaveMonitor","LocalAutosaveMonitor","UnsavedChangesWarning","EditorKeyboardShortcutsRegister","EditorSnackbars","ErrorBoundary","PostLockedModal","store","editorStore","privateApis","editorPrivateApis","useSelect","useDispatch","blockEditorPrivateApis","blockEditorStore","PluginArea","__","sprintf","useCallback","useMemo","useId","useRef","useState","chevronDown","chevronUp","noticesStore","preferencesStore","CommandMenu","commandsPrivateApis","coreCommandsPrivateApis","blockLibraryPrivateApis","addQueryArgs","decodeEntities","coreStore","Icon","ResizableBox","SlotFillProvider","Tooltip","VisuallyHidden","__unstableUseNavigateRegions","useNavigateRegions","useMediaQuery","useRefEffect","useViewportMatch","BackButton","EditorInitialization","EditPostKeyboardShortcuts","InitPatternModal","BrowserURL","MetaBoxes","PostEditorMoreMenu","WelcomeGuide","editPostStore","unlock","useEditPostCommands","usePaddingAppender","useShouldIframe","useNavigateToEntityRecord","useMetaBoxInitialization","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","getLayoutStyles","useCommands","useCommandContext","Editor","FullscreenMode","NavigableRegion","BlockKeyboardShortcuts","DESIGN_POST_TYPES","useEditorStyles","additionalStyles","hasThemeStyleSupport","editorSettings","select","isFeatureActive","getEditorSettings","addedStyles","join","_editorSettings$style","_editorSettings$defau","_editorSettings$style2","_editorSettings$style3","presetStyles","styles","filter","style","__unstableType","defaultEditorStyles","hasThemeStyles","length","disableLayoutStyles","push","css","selector","hasBlockGapSupport","hasFallbackGapSupport","fallbackGapValue","baseStyles","MetaBoxesMain","isOpen","openHeight","hasAnyVisible","get","isMetaBoxLocationVisible","set","setPreference","metaBoxesMainRef","isShort","min","max","setHeightConstraints","effectSizeConstraints","node","container","closest","noticeLists","querySelectorAll","resizeHandle","querySelector","deriveConstraints","fullHeight","offsetHeight","nextMax","element","nextMin","observer","window","ResizeObserver","observe","disconnect","separatorRef","separatorHelpId","isUntouched","setIsUntouched","applyHeight","candidateHeight","isPersistent","isInstant","nextHeight","Math","current","ariaValueNow","getAriaValueNow","updateSize","height","width","contents","className","hidden","children","location","isAutoHeight","undefined","usedMax","round","usedAriaValueNow","toggle","onSeparatorKeyDown","event","delta","ArrowUp","ArrowDown","key","pane","resizable","fromHeight","preventDefault","paneLabel","Pane","paneProps","as","ref","defaultSize","minHeight","maxHeight","enable","top","right","bottom","left","topLeft","topRight","bottomRight","bottomLeft","handleClasses","handleComponent","text","role","onKeyDown","id","onPointerDown","pointerId","target","parentElement","contains","setPointerCapture","onResizeStart","direction","elementRef","onResize","state","onResizeStop","onClick","icon","Layout","postId","initialPostId","postType","initialPostType","settings","initialEdits","shouldIframe","createErrorNotice","currentPost","currentPostId","currentPostType","onNavigateToEntityRecord","onNavigateToPreviousEntityRecord","isEditingTemplate","mode","isFullscreenActive","hasResolvedMode","hasActiveMetaboxes","hasBlockSelected","showIconLabels","isDistractionFree","showMetaBoxes","isWelcomeGuideVisible","templateId","enablePaddingAppender","_getPostType$viewable","hasMetaBoxes","canUser","getPostType","getTemplateId","supportsTemplateMode","isViewable","viewable","canViewTemplate","kind","name","getBlockSelectionStart","isZoomOut","getEditorMode","getRenderingMode","getDefaultRenderingMode","isRenderingPostOnly","isNotDesignPostType","includes","isDirectlyEditingPattern","_templateId","defaultMode","paddingAppenderRef","paddingStyle","commandContext","defaultRenderingMode","document","body","classList","add","remove","navigateRegionsProps","onPluginAreaError","createSuccessNotice","onActionPerformed","actionId","items","href","trashed","post_type","type","ids","newItem","title","rendered","actions","label","post","action","initialPost","backButton","canCopyContent","forceIsDirty","contentRef","disableIframe","autoFocus","extraSidebarPanels","extraContent","isActive","onError"],"sources":["@wordpress/edit-post/src/components/layout/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tAutosaveMonitor,\n\tLocalAutosaveMonitor,\n\tUnsavedChangesWarning,\n\tEditorKeyboardShortcutsRegister,\n\tEditorSnackbars,\n\tErrorBoundary,\n\tPostLockedModal,\n\tstore as editorStore,\n\tprivateApis as editorPrivateApis,\n} from '@wordpress/editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tprivateApis as blockEditorPrivateApis,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { PluginArea } from '@wordpress/plugins';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tuseCallback,\n\tuseMemo,\n\tuseId,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element';\nimport { chevronDown, chevronUp } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport {\n\tCommandMenu,\n\tprivateApis as commandsPrivateApis,\n} from '@wordpress/commands';\nimport { privateApis as coreCommandsPrivateApis } from '@wordpress/core-commands';\nimport { privateApis as blockLibraryPrivateApis } from '@wordpress/block-library';\nimport { addQueryArgs } from '@wordpress/url';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tIcon,\n\tResizableBox,\n\tSlotFillProvider,\n\tTooltip,\n\tVisuallyHidden,\n\t__unstableUseNavigateRegions as useNavigateRegions,\n} from '@wordpress/components';\nimport {\n\tuseMediaQuery,\n\tuseRefEffect,\n\tuseViewportMatch,\n} from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BackButton from '../back-button';\nimport EditorInitialization from '../editor-initialization';\nimport EditPostKeyboardShortcuts from '../keyboard-shortcuts';\nimport InitPatternModal from '../init-pattern-modal';\nimport BrowserURL from '../browser-url';\nimport MetaBoxes from '../meta-boxes';\nimport PostEditorMoreMenu from '../more-menu';\nimport WelcomeGuide from '../welcome-guide';\nimport { store as editPostStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport useEditPostCommands from '../../commands/use-commands';\nimport { usePaddingAppender } from './use-padding-appender';\nimport { useShouldIframe } from './use-should-iframe';\nimport useNavigateToEntityRecord from '../../hooks/use-navigate-to-entity-record';\nimport { useMetaBoxInitialization } from '../meta-boxes/use-meta-box-initialization';\n\nconst { getLayoutStyles } = unlock( blockEditorPrivateApis );\nconst { useCommands } = unlock( coreCommandsPrivateApis );\nconst { useCommandContext } = unlock( commandsPrivateApis );\nconst { Editor, FullscreenMode, NavigableRegion } = unlock( editorPrivateApis );\nconst { BlockKeyboardShortcuts } = unlock( blockLibraryPrivateApis );\nconst DESIGN_POST_TYPES = [\n\t'wp_template',\n\t'wp_template_part',\n\t'wp_block',\n\t'wp_navigation',\n];\n\nfunction useEditorStyles( ...additionalStyles ) {\n\tconst { hasThemeStyleSupport, editorSettings } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\thasThemeStyleSupport:\n\t\t\t\tselect( editPostStore ).isFeatureActive( 'themeStyles' ),\n\t\t\teditorSettings: select( editorStore ).getEditorSettings(),\n\t\t};\n\t}, [] );\n\n\tconst addedStyles = additionalStyles.join( '\\n' );\n\n\t// Compute the default styles.\n\treturn useMemo( () => {\n\t\tconst presetStyles =\n\t\t\teditorSettings.styles?.filter(\n\t\t\t\t( style ) =>\n\t\t\t\t\tstyle.__unstableType && style.__unstableType !== 'theme'\n\t\t\t) ?? [];\n\n\t\tconst defaultEditorStyles = [\n\t\t\t...( editorSettings?.defaultEditorStyles ?? [] ),\n\t\t\t...presetStyles,\n\t\t];\n\n\t\t// Has theme styles if the theme supports them and if some styles were not preset styles (in which case they're theme styles).\n\t\tconst hasThemeStyles =\n\t\t\thasThemeStyleSupport &&\n\t\t\tpresetStyles.length !== ( editorSettings.styles?.length ?? 0 );\n\n\t\t// If theme styles are not present or displayed, ensure that\n\t\t// base layout styles are still present in the editor.\n\t\tif ( ! editorSettings.disableLayoutStyles && ! hasThemeStyles ) {\n\t\t\tdefaultEditorStyles.push( {\n\t\t\t\tcss: getLayoutStyles( {\n\t\t\t\t\tstyle: {},\n\t\t\t\t\tselector: 'body',\n\t\t\t\t\thasBlockGapSupport: false,\n\t\t\t\t\thasFallbackGapSupport: true,\n\t\t\t\t\tfallbackGapValue: '0.5em',\n\t\t\t\t} ),\n\t\t\t} );\n\t\t}\n\n\t\tconst baseStyles = hasThemeStyles\n\t\t\t? editorSettings.styles ?? []\n\t\t\t: defaultEditorStyles;\n\n\t\tif ( addedStyles ) {\n\t\t\treturn [ ...baseStyles, { css: addedStyles } ];\n\t\t}\n\n\t\treturn baseStyles;\n\t}, [\n\t\teditorSettings.defaultEditorStyles,\n\t\teditorSettings.disableLayoutStyles,\n\t\teditorSettings.styles,\n\t\thasThemeStyleSupport,\n\t\taddedStyles,\n\t] );\n}\n\nfunction MetaBoxesMain() {\n\tconst [ isOpen, openHeight, hasAnyVisible ] = useSelect( ( select ) => {\n\t\tconst { get } = select( preferencesStore );\n\t\tconst { isMetaBoxLocationVisible } = select( editPostStore );\n\t\treturn [\n\t\t\tget( 'core/edit-post', 'metaBoxesMainIsOpen' ),\n\t\t\tget( 'core/edit-post', 'metaBoxesMainOpenHeight' ),\n\t\t\tisMetaBoxLocationVisible( 'normal' ) ||\n\t\t\t\tisMetaBoxLocationVisible( 'advanced' ) ||\n\t\t\t\tisMetaBoxLocationVisible( 'side' ),\n\t\t];\n\t}, [] );\n\tconst { set: setPreference } = useDispatch( preferencesStore );\n\tconst metaBoxesMainRef = useRef();\n\tconst isShort = useMediaQuery( '(max-height: 549px)' );\n\n\tconst [ { min, max }, setHeightConstraints ] = useState( () => ( {} ) );\n\t// Keeps the resizable area’s size constraints updated taking into account\n\t// editor notices. The constraints are also used to derive the value for the\n\t// aria-valuenow attribute on the separator.\n\tconst effectSizeConstraints = useRefEffect( ( node ) => {\n\t\tconst container = node.closest(\n\t\t\t'.interface-interface-skeleton__content'\n\t\t);\n\t\tconst noticeLists = container.querySelectorAll(\n\t\t\t':scope > .components-notice-list'\n\t\t);\n\t\tconst resizeHandle = container.querySelector(\n\t\t\t'.edit-post-meta-boxes-main__presenter'\n\t\t);\n\t\tconst deriveConstraints = () => {\n\t\t\tconst fullHeight = container.offsetHeight;\n\t\t\tlet nextMax = fullHeight;\n\t\t\tfor ( const element of noticeLists ) {\n\t\t\t\tnextMax -= element.offsetHeight;\n\t\t\t}\n\t\t\tconst nextMin = resizeHandle.offsetHeight;\n\t\t\tsetHeightConstraints( { min: nextMin, max: nextMax } );\n\t\t};\n\t\tconst observer = new window.ResizeObserver( deriveConstraints );\n\t\tobserver.observe( container );\n\t\tfor ( const element of noticeLists ) {\n\t\t\tobserver.observe( element );\n\t\t}\n\t\treturn () => observer.disconnect();\n\t}, [] );\n\n\tconst separatorRef = useRef();\n\tconst separatorHelpId = useId();\n\n\tconst [ isUntouched, setIsUntouched ] = useState( true );\n\tconst applyHeight = ( candidateHeight, isPersistent, isInstant ) => {\n\t\tconst nextHeight = Math.min( max, Math.max( min, candidateHeight ) );\n\t\tif ( isPersistent ) {\n\t\t\tsetPreference(\n\t\t\t\t'core/edit-post',\n\t\t\t\t'metaBoxesMainOpenHeight',\n\t\t\t\tnextHeight\n\t\t\t);\n\t\t} else {\n\t\t\tseparatorRef.current.ariaValueNow = getAriaValueNow( nextHeight );\n\t\t}\n\t\tif ( isInstant ) {\n\t\t\tmetaBoxesMainRef.current.updateSize( {\n\t\t\t\theight: nextHeight,\n\t\t\t\t// Oddly, when the event that triggered this was not from the mouse (e.g. keydown),\n\t\t\t\t// if `width` is left unspecified a subsequent drag gesture applies a fixed\n\t\t\t\t// width and the pane fails to widen/narrow with parent width changes from\n\t\t\t\t// sidebars opening/closing or window resizes.\n\t\t\t\twidth: 'auto',\n\t\t\t} );\n\t\t}\n\t};\n\n\tif ( ! hasAnyVisible ) {\n\t\treturn;\n\t}\n\n\tconst contents = (\n\t\t<div\n\t\t\t// The class name 'edit-post-layout__metaboxes' is retained because some plugins use it.\n\t\t\tclassName=\"edit-post-layout__metaboxes edit-post-meta-boxes-main__liner\"\n\t\t\thidden={ isShort && ! isOpen }\n\t\t>\n\t\t\t<MetaBoxes location=\"normal\" />\n\t\t\t<MetaBoxes location=\"advanced\" />\n\t\t</div>\n\t);\n\n\tconst isAutoHeight = openHeight === undefined;\n\tlet usedMax = '50%'; // Approximation before max has a value.\n\tif ( max !== undefined ) {\n\t\t// Halves the available max height until a user height is set.\n\t\tusedMax = isAutoHeight && isUntouched ? max / 2 : max;\n\t}\n\n\tconst getAriaValueNow = ( height ) =>\n\t\tMath.round( ( ( height - min ) / ( max - min ) ) * 100 );\n\tconst usedAriaValueNow =\n\t\tmax === undefined || isAutoHeight ? 50 : getAriaValueNow( openHeight );\n\n\tconst toggle = () =>\n\t\tsetPreference( 'core/edit-post', 'metaBoxesMainIsOpen', ! isOpen );\n\n\t// TODO: Support more/all keyboard interactions from the window splitter pattern:\n\t// https://www.w3.org/WAI/ARIA/apg/patterns/windowsplitter/\n\tconst onSeparatorKeyDown = ( event ) => {\n\t\tconst delta = { ArrowUp: 20, ArrowDown: -20 }[ event.key ];\n\t\tif ( delta ) {\n\t\t\tconst pane = metaBoxesMainRef.current.resizable;\n\t\t\tconst fromHeight = isAutoHeight ? pane.offsetHeight : openHeight;\n\t\t\tconst nextHeight = delta + fromHeight;\n\t\t\tapplyHeight( nextHeight, true, true );\n\t\t\tevent.preventDefault();\n\t\t}\n\t};\n\tconst className = 'edit-post-meta-boxes-main';\n\tconst paneLabel = __( 'Meta Boxes' );\n\tlet Pane, paneProps;\n\tif ( isShort ) {\n\t\tPane = NavigableRegion;\n\t\tpaneProps = {\n\t\t\tclassName: clsx( className, 'is-toggle-only' ),\n\t\t};\n\t} else {\n\t\tPane = ResizableBox;\n\t\tpaneProps = /** @type {Parameters<typeof ResizableBox>[0]} */ ( {\n\t\t\tas: NavigableRegion,\n\t\t\tref: metaBoxesMainRef,\n\t\t\tclassName: clsx( className, 'is-resizable' ),\n\t\t\tdefaultSize: { height: openHeight },\n\t\t\tminHeight: min,\n\t\t\tmaxHeight: usedMax,\n\t\t\tenable: {\n\t\t\t\ttop: true,\n\t\t\t\tright: false,\n\t\t\t\tbottom: false,\n\t\t\t\tleft: false,\n\t\t\t\ttopLeft: false,\n\t\t\t\ttopRight: false,\n\t\t\t\tbottomRight: false,\n\t\t\t\tbottomLeft: false,\n\t\t\t},\n\t\t\thandleClasses: { top: 'edit-post-meta-boxes-main__presenter' },\n\t\t\thandleComponent: {\n\t\t\t\ttop: (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Tooltip text={ __( 'Drag to resize' ) }>\n\t\t\t\t\t\t\t<button // eslint-disable-line jsx-a11y/role-supports-aria-props\n\t\t\t\t\t\t\t\tref={ separatorRef }\n\t\t\t\t\t\t\t\trole=\"separator\" // eslint-disable-line jsx-a11y/no-interactive-element-to-noninteractive-role\n\t\t\t\t\t\t\t\taria-valuenow={ usedAriaValueNow }\n\t\t\t\t\t\t\t\taria-label={ __( 'Drag to resize' ) }\n\t\t\t\t\t\t\t\taria-describedby={ separatorHelpId }\n\t\t\t\t\t\t\t\tonKeyDown={ onSeparatorKeyDown }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t<VisuallyHidden id={ separatorHelpId }>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'Use up and down arrow keys to resize the meta box panel.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t</>\n\t\t\t\t),\n\t\t\t},\n\t\t\t// Avoids hiccups while dragging over objects like iframes and ensures that\n\t\t\t// the event to end the drag is captured by the target (resize handle)\n\t\t\t// whether or not it’s under the pointer.\n\t\t\tonPointerDown: ( { pointerId, target } ) => {\n\t\t\t\tif ( separatorRef.current.parentElement.contains( target ) ) {\n\t\t\t\t\ttarget.setPointerCapture( pointerId );\n\t\t\t\t}\n\t\t\t},\n\t\t\tonResizeStart: ( event, direction, elementRef ) => {\n\t\t\t\tif ( isAutoHeight ) {\n\t\t\t\t\t// Sets the starting height to avoid visual jumps in height and\n\t\t\t\t\t// aria-valuenow being `NaN` for the first (few) resize events.\n\t\t\t\t\tapplyHeight( elementRef.offsetHeight, false, true );\n\t\t\t\t\tsetIsUntouched( false );\n\t\t\t\t}\n\t\t\t},\n\t\t\tonResize: () =>\n\t\t\t\tapplyHeight( metaBoxesMainRef.current.state.height ),\n\t\t\tonResizeStop: () =>\n\t\t\t\tapplyHeight( metaBoxesMainRef.current.state.height, true ),\n\t\t} );\n\t}\n\n\treturn (\n\t\t<Pane aria-label={ paneLabel } { ...paneProps }>\n\t\t\t{ isShort ? (\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\tclassName=\"edit-post-meta-boxes-main__presenter\"\n\t\t\t\t\tonClick={ toggle }\n\t\t\t\t>\n\t\t\t\t\t{ paneLabel }\n\t\t\t\t\t<Icon icon={ isOpen ? chevronUp : chevronDown } />\n\t\t\t\t</button>\n\t\t\t) : (\n\t\t\t\t<meta ref={ effectSizeConstraints } />\n\t\t\t) }\n\t\t\t{ contents }\n\t\t</Pane>\n\t);\n}\n\nfunction Layout( {\n\tpostId: initialPostId,\n\tpostType: initialPostType,\n\tsettings,\n\tinitialEdits,\n} ) {\n\tuseCommands();\n\tuseEditPostCommands();\n\tconst shouldIframe = useShouldIframe();\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst {\n\t\tcurrentPost: { postId: currentPostId, postType: currentPostType },\n\t\tonNavigateToEntityRecord,\n\t\tonNavigateToPreviousEntityRecord,\n\t} = useNavigateToEntityRecord(\n\t\tinitialPostId,\n\t\tinitialPostType,\n\t\t'post-only'\n\t);\n\tconst isEditingTemplate = currentPostType === 'wp_template';\n\tconst {\n\t\tmode,\n\t\tisFullscreenActive,\n\t\thasResolvedMode,\n\t\thasActiveMetaboxes,\n\t\thasBlockSelected,\n\t\tshowIconLabels,\n\t\tisDistractionFree,\n\t\tshowMetaBoxes,\n\t\tisWelcomeGuideVisible,\n\t\ttemplateId,\n\t\tenablePaddingAppender,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { get } = select( preferencesStore );\n\t\t\tconst { isFeatureActive, hasMetaBoxes } = select( editPostStore );\n\t\t\tconst { canUser, getPostType, getTemplateId } = unlock(\n\t\t\t\tselect( coreStore )\n\t\t\t);\n\n\t\t\tconst supportsTemplateMode = settings.supportsTemplateMode;\n\t\t\tconst isViewable =\n\t\t\t\tgetPostType( currentPostType )?.viewable ?? false;\n\t\t\tconst canViewTemplate = canUser( 'read', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} );\n\t\t\tconst { getBlockSelectionStart, isZoomOut } = unlock(\n\t\t\t\tselect( blockEditorStore )\n\t\t\t);\n\t\t\tconst { getEditorMode, getRenderingMode, getDefaultRenderingMode } =\n\t\t\t\tunlock( select( editorStore ) );\n\t\t\tconst isRenderingPostOnly = getRenderingMode() === 'post-only';\n\t\t\tconst isNotDesignPostType =\n\t\t\t\t! DESIGN_POST_TYPES.includes( currentPostType );\n\t\t\tconst isDirectlyEditingPattern =\n\t\t\t\tcurrentPostType === 'wp_block' &&\n\t\t\t\t! onNavigateToPreviousEntityRecord;\n\t\t\tconst _templateId = getTemplateId( currentPostType, currentPostId );\n\t\t\tconst defaultMode = getDefaultRenderingMode( currentPostType );\n\n\t\t\treturn {\n\t\t\t\tmode: getEditorMode(),\n\t\t\t\tisFullscreenActive: isFeatureActive( 'fullscreenMode' ),\n\t\t\t\thasActiveMetaboxes: hasMetaBoxes(),\n\t\t\t\thasResolvedMode:\n\t\t\t\t\tdefaultMode === 'template-locked'\n\t\t\t\t\t\t? !! _templateId\n\t\t\t\t\t\t: defaultMode !== undefined,\n\t\t\t\thasBlockSelected: !! getBlockSelectionStart(),\n\t\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\n\t\t\t\tshowMetaBoxes:\n\t\t\t\t\t( isNotDesignPostType && ! isZoomOut() ) ||\n\t\t\t\t\tisDirectlyEditingPattern,\n\t\t\t\tisWelcomeGuideVisible: isFeatureActive( 'welcomeGuide' ),\n\t\t\t\ttemplateId:\n\t\t\t\t\tsupportsTemplateMode &&\n\t\t\t\t\tisViewable &&\n\t\t\t\t\tcanViewTemplate &&\n\t\t\t\t\t! isEditingTemplate\n\t\t\t\t\t\t? _templateId\n\t\t\t\t\t\t: null,\n\t\t\t\tenablePaddingAppender:\n\t\t\t\t\t! isZoomOut() && isRenderingPostOnly && isNotDesignPostType,\n\t\t\t};\n\t\t},\n\t\t[\n\t\t\tcurrentPostType,\n\t\t\tcurrentPostId,\n\t\t\tisEditingTemplate,\n\t\t\tsettings.supportsTemplateMode,\n\t\t\tonNavigateToPreviousEntityRecord,\n\t\t]\n\t);\n\n\tuseMetaBoxInitialization( hasActiveMetaboxes && hasResolvedMode );\n\n\tconst [ paddingAppenderRef, paddingStyle ] = usePaddingAppender(\n\t\tenablePaddingAppender\n\t);\n\n\t// Set the right context for the command palette\n\tconst commandContext = hasBlockSelected\n\t\t? 'block-selection-edit'\n\t\t: 'entity-edit';\n\tuseCommandContext( commandContext );\n\tconst editorSettings = useMemo(\n\t\t() => ( {\n\t\t\t...settings,\n\t\t\tonNavigateToEntityRecord,\n\t\t\tonNavigateToPreviousEntityRecord,\n\t\t\tdefaultRenderingMode: 'post-only',\n\t\t} ),\n\t\t[ settings, onNavigateToEntityRecord, onNavigateToPreviousEntityRecord ]\n\t);\n\tconst styles = useEditorStyles( paddingStyle );\n\n\t// We need to add the show-icon-labels class to the body element so it is applied to modals.\n\tif ( showIconLabels ) {\n\t\tdocument.body.classList.add( 'show-icon-labels' );\n\t} else {\n\t\tdocument.body.classList.remove( 'show-icon-labels' );\n\t}\n\n\tconst navigateRegionsProps = useNavigateRegions();\n\n\tconst className = clsx( 'edit-post-layout', 'is-mode-' + mode, {\n\t\t'has-metaboxes': hasActiveMetaboxes,\n\t} );\n\n\tfunction onPluginAreaError( name ) {\n\t\tcreateErrorNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: plugin name */\n\t\t\t\t__(\n\t\t\t\t\t'The \"%s\" plugin has encountered an error and cannot be rendered.'\n\t\t\t\t),\n\t\t\t\tname\n\t\t\t)\n\t\t);\n\t}\n\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\n\tconst onActionPerformed = useCallback(\n\t\t( actionId, items ) => {\n\t\t\tswitch ( actionId ) {\n\t\t\t\tcase 'move-to-trash':\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.location.href = addQueryArgs( 'edit.php', {\n\t\t\t\t\t\t\ttrashed: 1,\n\t\t\t\t\t\t\tpost_type: items[ 0 ].type,\n\t\t\t\t\t\t\tids: items[ 0 ].id,\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'duplicate-post':\n\t\t\t\t\t{\n\t\t\t\t\t\tconst newItem = items[ 0 ];\n\t\t\t\t\t\tconst title =\n\t\t\t\t\t\t\ttypeof newItem.title === 'string'\n\t\t\t\t\t\t\t\t? newItem.title\n\t\t\t\t\t\t\t\t: newItem.title?.rendered;\n\t\t\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Title of the created post or template, e.g: \"Hello world\".\n\t\t\t\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\t\t\t\tdecodeEntities( title )\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\tid: 'duplicate-post-action',\n\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: __( 'Edit' ),\n\t\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\t\tconst postId = newItem.id;\n\t\t\t\t\t\t\t\t\t\t\tdocument.location.href =\n\t\t\t\t\t\t\t\t\t\t\t\taddQueryArgs( 'post.php', {\n\t\t\t\t\t\t\t\t\t\t\t\t\tpost: postId,\n\t\t\t\t\t\t\t\t\t\t\t\t\taction: 'edit',\n\t\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t[ createSuccessNotice ]\n\t);\n\n\tconst initialPost = useMemo( () => {\n\t\treturn {\n\t\t\ttype: initialPostType,\n\t\t\tid: initialPostId,\n\t\t};\n\t}, [ initialPostType, initialPostId ] );\n\n\tconst backButton =\n\t\tuseViewportMatch( 'medium' ) && isFullscreenActive ? (\n\t\t\t<BackButton initialPost={ initialPost } />\n\t\t) : null;\n\n\treturn (\n\t\t<SlotFillProvider>\n\t\t\t<ErrorBoundary canCopyContent>\n\t\t\t\t<CommandMenu />\n\t\t\t\t<WelcomeGuide postType={ currentPostType } />\n\t\t\t\t<div\n\t\t\t\t\tclassName={ navigateRegionsProps.className }\n\t\t\t\t\t{ ...navigateRegionsProps }\n\t\t\t\t\tref={ navigateRegionsProps.ref }\n\t\t\t\t>\n\t\t\t\t\t<Editor\n\t\t\t\t\t\tsettings={ editorSettings }\n\t\t\t\t\t\tinitialEdits={ initialEdits }\n\t\t\t\t\t\tpostType={ currentPostType }\n\t\t\t\t\t\tpostId={ currentPostId }\n\t\t\t\t\t\ttemplateId={ templateId }\n\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\tstyles={ styles }\n\t\t\t\t\t\tforceIsDirty={ hasActiveMetaboxes }\n\t\t\t\t\t\tcontentRef={ paddingAppenderRef }\n\t\t\t\t\t\tdisableIframe={ ! shouldIframe }\n\t\t\t\t\t\t// We should auto-focus the canvas (title) on load.\n\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/no-autofocus\n\t\t\t\t\t\tautoFocus={ ! isWelcomeGuideVisible }\n\t\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\t\textraSidebarPanels={\n\t\t\t\t\t\t\tshowMetaBoxes && <MetaBoxes location=\"side\" />\n\t\t\t\t\t\t}\n\t\t\t\t\t\textraContent={\n\t\t\t\t\t\t\t! isDistractionFree &&\n\t\t\t\t\t\t\tshowMetaBoxes && <MetaBoxesMain />\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<PostLockedModal />\n\t\t\t\t\t\t<EditorInitialization />\n\t\t\t\t\t\t<FullscreenMode isActive={ isFullscreenActive } />\n\t\t\t\t\t\t<BrowserURL />\n\t\t\t\t\t\t<UnsavedChangesWarning />\n\t\t\t\t\t\t<AutosaveMonitor />\n\t\t\t\t\t\t<LocalAutosaveMonitor />\n\t\t\t\t\t\t<EditPostKeyboardShortcuts />\n\t\t\t\t\t\t<EditorKeyboardShortcutsRegister />\n\t\t\t\t\t\t<BlockKeyboardShortcuts />\n\t\t\t\t\t\t<InitPatternModal />\n\t\t\t\t\t\t<PluginArea onError={ onPluginAreaError } />\n\t\t\t\t\t\t<PostEditorMoreMenu />\n\t\t\t\t\t\t{ backButton }\n\t\t\t\t\t\t<EditorSnackbars />\n\t\t\t\t\t</Editor>\n\t\t\t\t</div>\n\t\t\t</ErrorBoundary>\n\t\t</SlotFillProvider>\n\t);\n}\n\nexport default Layout;\n"],"mappings":"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","ignoreList":[]}