{"version":3,"names":["useSelect","useDispatch","useEffect","store","blockEditorStore","preferencesStore","interfaceStore","useAutoSwitchEditorSidebars","hasBlockSelection","select","getBlockSelectionStart","getActiveComplementaryArea","enableComplementaryArea","get","getPreference","activeGeneralSidebar","isEditorSidebarOpened","includes","isDistractionFree"],"sources":["@wordpress/editor/src/components/provider/use-auto-switch-editor-sidebars.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * This listener hook monitors for block selection and triggers the appropriate\n * sidebar state.\n */\nfunction useAutoSwitchEditorSidebars() {\n\tconst { hasBlockSelection } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\thasBlockSelection:\n\t\t\t\t!! select( blockEditorStore ).getBlockSelectionStart(),\n\t\t};\n\t}, [] );\n\n\tconst { getActiveComplementaryArea } = useSelect( interfaceStore );\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\tconst { get: getPreference } = useSelect( preferencesStore );\n\n\tuseEffect( () => {\n\t\tconst activeGeneralSidebar = getActiveComplementaryArea( 'core' );\n\t\tconst isEditorSidebarOpened = [\n\t\t\t'edit-post/document',\n\t\t\t'edit-post/block',\n\t\t].includes( activeGeneralSidebar );\n\t\tconst isDistractionFree = getPreference( 'core', 'distractionFree' );\n\t\tif ( ! isEditorSidebarOpened || isDistractionFree ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( hasBlockSelection ) {\n\t\t\tenableComplementaryArea( 'core', 'edit-post/block' );\n\t\t} else {\n\t\t\tenableComplementaryArea( 'core', 'edit-post/document' );\n\t\t}\n\t}, [\n\t\thasBlockSelection,\n\t\tgetActiveComplementaryArea,\n\t\tenableComplementaryArea,\n\t\tgetPreference,\n\t] );\n}\n\nexport default useAutoSwitchEditorSidebars;\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,EAAEC,WAAW,QAAQ,iBAAiB;AACxD,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,yBAAyB;AACnE,SAASD,KAAK,IAAIE,gBAAgB,QAAQ,wBAAwB;AAClE,SAASF,KAAK,IAAIG,cAAc,QAAQ,sBAAsB;;AAE9D;AACA;AACA;AACA;AACA,SAASC,2BAA2BA,CAAA,EAAG;EACtC,MAAM;IAAEC;EAAkB,CAAC,GAAGR,SAAS,CAAIS,MAAM,IAAM;IACtD,OAAO;MACND,iBAAiB,EAChB,CAAC,CAAEC,MAAM,CAAEL,gBAAiB,CAAC,CAACM,sBAAsB,CAAC;IACvD,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEP,MAAM;IAAEC;EAA2B,CAAC,GAAGX,SAAS,CAAEM,cAAe,CAAC;EAClE,MAAM;IAAEM;EAAwB,CAAC,GAAGX,WAAW,CAAEK,cAAe,CAAC;EACjE,MAAM;IAAEO,GAAG,EAAEC;EAAc,CAAC,GAAGd,SAAS,CAAEK,gBAAiB,CAAC;EAE5DH,SAAS,CAAE,MAAM;IAChB,MAAMa,oBAAoB,GAAGJ,0BAA0B,CAAE,MAAO,CAAC;IACjE,MAAMK,qBAAqB,GAAG,CAC7B,oBAAoB,EACpB,iBAAiB,CACjB,CAACC,QAAQ,CAAEF,oBAAqB,CAAC;IAClC,MAAMG,iBAAiB,GAAGJ,aAAa,CAAE,MAAM,EAAE,iBAAkB,CAAC;IACpE,IAAK,CAAEE,qBAAqB,IAAIE,iBAAiB,EAAG;MACnD;IACD;IACA,IAAKV,iBAAiB,EAAG;MACxBI,uBAAuB,CAAE,MAAM,EAAE,iBAAkB,CAAC;IACrD,CAAC,MAAM;MACNA,uBAAuB,CAAE,MAAM,EAAE,oBAAqB,CAAC;IACxD;EACD,CAAC,EAAE,CACFJ,iBAAiB,EACjBG,0BAA0B,EAC1BC,uBAAuB,EACvBE,aAAa,CACZ,CAAC;AACJ;AAEA,eAAeP,2BAA2B","ignoreList":[]}