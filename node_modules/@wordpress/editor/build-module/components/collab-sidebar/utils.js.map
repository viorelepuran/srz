{"version":3,"names":["sanitizeCommentString","str","trim","getCommentIdsFromBlocks","blocks","extractCommentIds","items","reduce","commentIds","block","attributes","blockCommentId","includes","push","innerBlocks","length","innerCommentIds"],"sources":["@wordpress/editor/src/components/collab-sidebar/utils.js"],"sourcesContent":["/**\n * Sanitizes a comment string by removing non-printable ASCII characters.\n *\n * @param {string} str - The comment string to sanitize.\n * @return {string} - The sanitized comment string.\n */\nexport function sanitizeCommentString( str ) {\n\treturn str.trim();\n}\n\n/**\n * Extracts comment IDs from an array of blocks.\n *\n * This function recursively traverses the blocks and their inner blocks to\n * collect all comment IDs found in the block attributes.\n *\n * @param {Array} blocks - The array of blocks to extract comment IDs from.\n * @return {Array} An array of comment IDs extracted from the blocks.\n */\nexport function getCommentIdsFromBlocks( blocks ) {\n\t// Recursive function to extract comment IDs from blocks\n\tconst extractCommentIds = ( items ) => {\n\t\treturn items.reduce( ( commentIds, block ) => {\n\t\t\t// Check for comment IDs in the current block's attributes\n\t\t\tif (\n\t\t\t\tblock.attributes &&\n\t\t\t\tblock.attributes.blockCommentId &&\n\t\t\t\t! commentIds.includes( block.attributes.blockCommentId )\n\t\t\t) {\n\t\t\t\tcommentIds.push( block.attributes.blockCommentId );\n\t\t\t}\n\n\t\t\t// Recursively check inner blocks\n\t\t\tif ( block.innerBlocks && block.innerBlocks.length > 0 ) {\n\t\t\t\tconst innerCommentIds = extractCommentIds( block.innerBlocks );\n\t\t\t\tcommentIds.push( ...innerCommentIds );\n\t\t\t}\n\n\t\t\treturn commentIds;\n\t\t}, [] );\n\t};\n\n\t// Extract all comment IDs recursively\n\treturn extractCommentIds( blocks );\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,qBAAqBA,CAAEC,GAAG,EAAG;EAC5C,OAAOA,GAAG,CAACC,IAAI,CAAC,CAAC;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,uBAAuBA,CAAEC,MAAM,EAAG;EACjD;EACA,MAAMC,iBAAiB,GAAKC,KAAK,IAAM;IACtC,OAAOA,KAAK,CAACC,MAAM,CAAE,CAAEC,UAAU,EAAEC,KAAK,KAAM;MAC7C;MACA,IACCA,KAAK,CAACC,UAAU,IAChBD,KAAK,CAACC,UAAU,CAACC,cAAc,IAC/B,CAAEH,UAAU,CAACI,QAAQ,CAAEH,KAAK,CAACC,UAAU,CAACC,cAAe,CAAC,EACvD;QACDH,UAAU,CAACK,IAAI,CAAEJ,KAAK,CAACC,UAAU,CAACC,cAAe,CAAC;MACnD;;MAEA;MACA,IAAKF,KAAK,CAACK,WAAW,IAAIL,KAAK,CAACK,WAAW,CAACC,MAAM,GAAG,CAAC,EAAG;QACxD,MAAMC,eAAe,GAAGX,iBAAiB,CAAEI,KAAK,CAACK,WAAY,CAAC;QAC9DN,UAAU,CAACK,IAAI,CAAE,GAAGG,eAAgB,CAAC;MACtC;MAEA,OAAOR,UAAU;IAClB,CAAC,EAAE,EAAG,CAAC;EACR,CAAC;;EAED;EACA,OAAOH,iBAAiB,CAAED,MAAO,CAAC;AACnC","ignoreList":[]}