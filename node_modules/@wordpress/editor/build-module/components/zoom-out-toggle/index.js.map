{"version":3,"names":["Button","__","useEffect","useDispatch","useSelect","store","blockEditorStore","square","zoomOutIcon","preferencesStore","useShortcut","keyboardShortcutsStore","isAppleOS","unlock","jsx","_jsx","ZoomOutToggle","disabled","isZoomOut","showIconLabels","isDistractionFree","select","get","resetZoomLevel","setZoomLevel","registerShortcut","unregisterShortcut","name","category","description","keyCombination","modifier","character","isDisabled","handleZoomOut","accessibleWhenDisabled","onClick","icon","label","isPressed","size","showTooltip","className"],"sources":["@wordpress/editor/src/components/zoom-out-toggle/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { square as zoomOutIcon } from '@wordpress/icons';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { isAppleOS } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst ZoomOutToggle = ( { disabled } ) => {\n\tconst { isZoomOut, showIconLabels, isDistractionFree } = useSelect(\n\t\t( select ) => ( {\n\t\t\tisZoomOut: unlock( select( blockEditorStore ) ).isZoomOut(),\n\t\t\tshowIconLabels: select( preferencesStore ).get(\n\t\t\t\t'core',\n\t\t\t\t'showIconLabels'\n\t\t\t),\n\t\t\tisDistractionFree: select( preferencesStore ).get(\n\t\t\t\t'core',\n\t\t\t\t'distractionFree'\n\t\t\t),\n\t\t} )\n\t);\n\n\tconst { resetZoomLevel, setZoomLevel } = unlock(\n\t\tuseDispatch( blockEditorStore )\n\t);\n\tconst { registerShortcut, unregisterShortcut } = useDispatch(\n\t\tkeyboardShortcutsStore\n\t);\n\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/zoom',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Enter or exit zoom out.' ),\n\t\t\tkeyCombination: {\n\t\t\t\t// `primaryShift+0` (`ctrl+shift+0`) is the shortcut for switching\n\t\t\t\t// to input mode in Windows, so apply a different key combination.\n\t\t\t\tmodifier: isAppleOS() ? 'primaryShift' : 'secondary',\n\t\t\t\tcharacter: '0',\n\t\t\t},\n\t\t} );\n\t\treturn () => {\n\t\t\tunregisterShortcut( 'core/editor/zoom' );\n\t\t};\n\t}, [ registerShortcut, unregisterShortcut ] );\n\n\tuseShortcut(\n\t\t'core/editor/zoom',\n\t\t() => {\n\t\t\tif ( isZoomOut ) {\n\t\t\t\tresetZoomLevel();\n\t\t\t} else {\n\t\t\t\tsetZoomLevel( 'auto-scaled' );\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tisDisabled: isDistractionFree,\n\t\t}\n\t);\n\n\tconst handleZoomOut = () => {\n\t\tif ( isZoomOut ) {\n\t\t\tresetZoomLevel();\n\t\t} else {\n\t\t\tsetZoomLevel( 'auto-scaled' );\n\t\t}\n\t};\n\n\treturn (\n\t\t<Button\n\t\t\taccessibleWhenDisabled\n\t\t\tdisabled={ disabled }\n\t\t\tonClick={ handleZoomOut }\n\t\t\ticon={ zoomOutIcon }\n\t\t\tlabel={ __( 'Zoom Out' ) }\n\t\t\tisPressed={ isZoomOut }\n\t\t\tsize=\"compact\"\n\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\tclassName=\"editor-zoom-out-toggle\"\n\t\t/>\n\t);\n};\n\nexport default ZoomOutToggle;\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,WAAW,EAAEC,SAAS,QAAQ,iBAAiB;AACxD,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,yBAAyB;AACnE,SAASC,MAAM,IAAIC,WAAW,QAAQ,kBAAkB;AACxD,SAASH,KAAK,IAAII,gBAAgB,QAAQ,wBAAwB;AAClE,SACCC,WAAW,EACXL,KAAK,IAAIM,sBAAsB,QACzB,+BAA+B;AACtC,SAASC,SAAS,QAAQ,qBAAqB;;AAE/C;AACA;AACA;AACA,SAASC,MAAM,QAAQ,mBAAmB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE3C,MAAMC,aAAa,GAAGA,CAAE;EAAEC;AAAS,CAAC,KAAM;EACzC,MAAM;IAAEC,SAAS;IAAEC,cAAc;IAAEC;EAAkB,CAAC,GAAGhB,SAAS,CAC/DiB,MAAM,KAAQ;IACfH,SAAS,EAAEL,MAAM,CAAEQ,MAAM,CAAEf,gBAAiB,CAAE,CAAC,CAACY,SAAS,CAAC,CAAC;IAC3DC,cAAc,EAAEE,MAAM,CAAEZ,gBAAiB,CAAC,CAACa,GAAG,CAC7C,MAAM,EACN,gBACD,CAAC;IACDF,iBAAiB,EAAEC,MAAM,CAAEZ,gBAAiB,CAAC,CAACa,GAAG,CAChD,MAAM,EACN,iBACD;EACD,CAAC,CACF,CAAC;EAED,MAAM;IAAEC,cAAc;IAAEC;EAAa,CAAC,GAAGX,MAAM,CAC9CV,WAAW,CAAEG,gBAAiB,CAC/B,CAAC;EACD,MAAM;IAAEmB,gBAAgB;IAAEC;EAAmB,CAAC,GAAGvB,WAAW,CAC3DQ,sBACD,CAAC;EAEDT,SAAS,CAAE,MAAM;IAChBuB,gBAAgB,CAAE;MACjBE,IAAI,EAAE,kBAAkB;MACxBC,QAAQ,EAAE,QAAQ;MAClBC,WAAW,EAAE5B,EAAE,CAAE,yBAA0B,CAAC;MAC5C6B,cAAc,EAAE;QACf;QACA;QACAC,QAAQ,EAAEnB,SAAS,CAAC,CAAC,GAAG,cAAc,GAAG,WAAW;QACpDoB,SAAS,EAAE;MACZ;IACD,CAAE,CAAC;IACH,OAAO,MAAM;MACZN,kBAAkB,CAAE,kBAAmB,CAAC;IACzC,CAAC;EACF,CAAC,EAAE,CAAED,gBAAgB,EAAEC,kBAAkB,CAAG,CAAC;EAE7ChB,WAAW,CACV,kBAAkB,EAClB,MAAM;IACL,IAAKQ,SAAS,EAAG;MAChBK,cAAc,CAAC,CAAC;IACjB,CAAC,MAAM;MACNC,YAAY,CAAE,aAAc,CAAC;IAC9B;EACD,CAAC,EACD;IACCS,UAAU,EAAEb;EACb,CACD,CAAC;EAED,MAAMc,aAAa,GAAGA,CAAA,KAAM;IAC3B,IAAKhB,SAAS,EAAG;MAChBK,cAAc,CAAC,CAAC;IACjB,CAAC,MAAM;MACNC,YAAY,CAAE,aAAc,CAAC;IAC9B;EACD,CAAC;EAED,oBACCT,IAAA,CAACf,MAAM;IACNmC,sBAAsB;IACtBlB,QAAQ,EAAGA,QAAU;IACrBmB,OAAO,EAAGF,aAAe;IACzBG,IAAI,EAAG7B,WAAa;IACpB8B,KAAK,EAAGrC,EAAE,CAAE,UAAW,CAAG;IAC1BsC,SAAS,EAAGrB,SAAW;IACvBsB,IAAI,EAAC,SAAS;IACdC,WAAW,EAAG,CAAEtB,cAAgB;IAChCuB,SAAS,EAAC;EAAwB,CAClC,CAAC;AAEJ,CAAC;AAED,eAAe1B,aAAa","ignoreList":[]}