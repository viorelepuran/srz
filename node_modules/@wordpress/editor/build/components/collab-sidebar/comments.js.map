{"version":3,"names":["_clsx","_interopRequireDefault","require","_element","_components","_icons","_i18n","_data","_blockEditor","_commentAuthorInfo","_commentForm","_jsxRuntime","Comments","threads","onEditComment","onAddReply","onCommentDelete","onCommentResolve","showCommentBoard","setShowCommentBoard","blockCommentId","useSelect","select","getBlockAttributes","getSelectedBlockClientId","blockEditorStore","_clientId","focusThread","setFocusThread","useState","clearThreadFocus","jsxs","Fragment","children","Array","isArray","length","jsx","__experimentalVStack","alignment","className","justify","spacing","__","map","thread","clsx","id","onClick","Thread","isFocused","CommentBoard","onResolve","onEdit","onDelete","status","reply","sprintf","_x","__experimentalHStack","default","onSubmit","inputComment","onCancel","event","stopPropagation","submitButtonText","actionState","setActionState","showConfirmDialog","setShowConfirmDialog","handleConfirmDelete","handleConfirmResolve","handleCancel","actions","title","moreActions","filter","item","avatar","author_avatar_urls","name","author_name","date","parent","Button","label","__next40pxDefaultSize","icon","published","showTooltip","DropdownMenu","moreVertical","controls","Tooltip","text","Icon","check","value","RawHTML","content","raw","__experimentalConfirmDialog","isOpen","onConfirm","confirmButtonText","cancelButtonText"],"sources":["@wordpress/editor/src/components/collab-sidebar/comments.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useState, RawHTML } from '@wordpress/element';\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalConfirmDialog as ConfirmDialog,\n\tButton,\n\tDropdownMenu,\n\tTooltip,\n} from '@wordpress/components';\nimport { Icon, check, published, moreVertical } from '@wordpress/icons';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport CommentAuthorInfo from './comment-author-info';\nimport CommentForm from './comment-form';\n\n/**\n * Renders the Comments component.\n *\n * @param {Object}   props                     - The component props.\n * @param {Array}    props.threads             - The array of comment threads.\n * @param {Function} props.onEditComment       - The function to handle comment editing.\n * @param {Function} props.onAddReply          - The function to add a reply to a comment.\n * @param {Function} props.onCommentDelete     - The function to delete a comment.\n * @param {Function} props.onCommentResolve    - The function to mark a comment as resolved.\n * @param {boolean}  props.showCommentBoard    - Whether to show the comment board.\n * @param {Function} props.setShowCommentBoard - The function to set the comment board visibility.\n * @return {React.ReactNode} The rendered Comments component.\n */\nexport function Comments( {\n\tthreads,\n\tonEditComment,\n\tonAddReply,\n\tonCommentDelete,\n\tonCommentResolve,\n\tshowCommentBoard,\n\tsetShowCommentBoard,\n} ) {\n\tconst { blockCommentId } = useSelect( ( select ) => {\n\t\tconst { getBlockAttributes, getSelectedBlockClientId } =\n\t\t\tselect( blockEditorStore );\n\t\tconst _clientId = getSelectedBlockClientId();\n\n\t\treturn {\n\t\t\tblockCommentId: _clientId\n\t\t\t\t? getBlockAttributes( _clientId )?.blockCommentId\n\t\t\t\t: null,\n\t\t};\n\t}, [] );\n\n\tconst [ focusThread, setFocusThread ] = useState(\n\t\tshowCommentBoard && blockCommentId ? blockCommentId : null\n\t);\n\n\tconst clearThreadFocus = () => {\n\t\tsetFocusThread( null );\n\t\tsetShowCommentBoard( false );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{\n\t\t\t\t// If there are no comments, show a message indicating no comments are available.\n\t\t\t\t( ! Array.isArray( threads ) || threads.length === 0 ) && (\n\t\t\t\t\t<VStack\n\t\t\t\t\t\talignment=\"left\"\n\t\t\t\t\t\tclassName=\"editor-collab-sidebar-panel__thread\"\n\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t\tspacing=\"3\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// translators: message displayed when there are no comments available\n\t\t\t\t\t\t\t__( 'No comments available' )\n\t\t\t\t\t\t}\n\t\t\t\t\t</VStack>\n\t\t\t\t)\n\t\t\t}\n\t\t\t{ Array.isArray( threads ) &&\n\t\t\t\tthreads.length > 0 &&\n\t\t\t\tthreads.map( ( thread ) => (\n\t\t\t\t\t<VStack\n\t\t\t\t\t\tkey={ thread.id }\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t'editor-collab-sidebar-panel__thread',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'editor-collab-sidebar-panel__active-thread':\n\t\t\t\t\t\t\t\t\tblockCommentId &&\n\t\t\t\t\t\t\t\t\tblockCommentId === thread.id,\n\t\t\t\t\t\t\t\t'editor-collab-sidebar-panel__focus-thread':\n\t\t\t\t\t\t\t\t\tfocusThread && focusThread === thread.id,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tid={ thread.id }\n\t\t\t\t\t\tspacing=\"3\"\n\t\t\t\t\t\tonClick={ () => setFocusThread( thread.id ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Thread\n\t\t\t\t\t\t\tthread={ thread }\n\t\t\t\t\t\t\tonAddReply={ onAddReply }\n\t\t\t\t\t\t\tonCommentDelete={ onCommentDelete }\n\t\t\t\t\t\t\tonCommentResolve={ onCommentResolve }\n\t\t\t\t\t\t\tonEditComment={ onEditComment }\n\t\t\t\t\t\t\tisFocused={ focusThread === thread.id }\n\t\t\t\t\t\t\tclearThreadFocus={ clearThreadFocus }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</VStack>\n\t\t\t\t) ) }\n\t\t</>\n\t);\n}\n\nfunction Thread( {\n\tthread,\n\tonEditComment,\n\tonAddReply,\n\tonCommentDelete,\n\tonCommentResolve,\n\tisFocused,\n\tclearThreadFocus,\n} ) {\n\treturn (\n\t\t<>\n\t\t\t<CommentBoard\n\t\t\t\tthread={ thread }\n\t\t\t\tonResolve={ onCommentResolve }\n\t\t\t\tonEdit={ onEditComment }\n\t\t\t\tonDelete={ onCommentDelete }\n\t\t\t\tstatus={ thread.status }\n\t\t\t/>\n\t\t\t{ 0 < thread?.reply?.length && (\n\t\t\t\t<>\n\t\t\t\t\t{ ! isFocused && (\n\t\t\t\t\t\t<VStack className=\"editor-collab-sidebar-panel__show-more-reply\">\n\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t// translators: 1: number of replies.\n\t\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t\t'%s more replies..',\n\t\t\t\t\t\t\t\t\t'Show replies button'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tthread?.reply?.length\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ isFocused &&\n\t\t\t\t\t\tthread.reply.map( ( reply ) => (\n\t\t\t\t\t\t\t<VStack\n\t\t\t\t\t\t\t\tkey={ reply.id }\n\t\t\t\t\t\t\t\tclassName=\"editor-collab-sidebar-panel__child-thread\"\n\t\t\t\t\t\t\t\tid={ reply.id }\n\t\t\t\t\t\t\t\tspacing=\"2\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ 'approved' !== thread.status && (\n\t\t\t\t\t\t\t\t\t<CommentBoard\n\t\t\t\t\t\t\t\t\t\tthread={ reply }\n\t\t\t\t\t\t\t\t\t\tonEdit={ onEditComment }\n\t\t\t\t\t\t\t\t\t\tonDelete={ onCommentDelete }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ 'approved' === thread.status && (\n\t\t\t\t\t\t\t\t\t<CommentBoard thread={ reply } />\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t) ) }\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t{ 'approved' !== thread.status && isFocused && (\n\t\t\t\t<VStack\n\t\t\t\t\tclassName=\"editor-collab-sidebar-panel__child-thread\"\n\t\t\t\t\tspacing=\"2\"\n\t\t\t\t>\n\t\t\t\t\t<HStack alignment=\"left\" spacing=\"3\" justify=\"flex-start\">\n\t\t\t\t\t\t<CommentAuthorInfo />\n\t\t\t\t\t</HStack>\n\t\t\t\t\t<VStack\n\t\t\t\t\t\tspacing=\"3\"\n\t\t\t\t\t\tclassName=\"editor-collab-sidebar-panel__comment-field\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<CommentForm\n\t\t\t\t\t\t\tonSubmit={ ( inputComment ) => {\n\t\t\t\t\t\t\t\tonAddReply( inputComment, thread.id );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tonCancel={ ( event ) => {\n\t\t\t\t\t\t\t\tevent.stopPropagation(); // Prevent the parent onClick from being triggered\n\t\t\t\t\t\t\t\tclearThreadFocus();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tsubmitButtonText={ _x(\n\t\t\t\t\t\t\t\t'Reply',\n\t\t\t\t\t\t\t\t'Add reply comment'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</VStack>\n\t\t\t\t</VStack>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nconst CommentBoard = ( { thread, onResolve, onEdit, onDelete, status } ) => {\n\tconst [ actionState, setActionState ] = useState( false );\n\tconst [ showConfirmDialog, setShowConfirmDialog ] = useState( false );\n\n\tconst handleConfirmDelete = () => {\n\t\tonDelete( thread.id );\n\t\tsetActionState( false );\n\t\tsetShowConfirmDialog( false );\n\t};\n\n\tconst handleConfirmResolve = () => {\n\t\tonResolve( thread.id );\n\t\tsetActionState( false );\n\t\tsetShowConfirmDialog( false );\n\t};\n\n\tconst handleCancel = () => {\n\t\tsetActionState( false );\n\t\tsetShowConfirmDialog( false );\n\t};\n\n\tconst actions = [\n\t\tonEdit && {\n\t\t\ttitle: _x( 'Edit', 'Edit comment' ),\n\t\t\tonClick: () => {\n\t\t\t\tsetActionState( 'edit' );\n\t\t\t},\n\t\t},\n\t\tonDelete && {\n\t\t\ttitle: _x( 'Delete', 'Delete comment' ),\n\t\t\tonClick: () => {\n\t\t\t\tsetActionState( 'delete' );\n\t\t\t\tsetShowConfirmDialog( true );\n\t\t\t},\n\t\t},\n\t];\n\n\tconst moreActions = actions.filter( ( item ) => item?.onClick );\n\n\treturn (\n\t\t<>\n\t\t\t<HStack alignment=\"left\" spacing=\"3\" justify=\"flex-start\">\n\t\t\t\t<CommentAuthorInfo\n\t\t\t\t\tavatar={ thread?.author_avatar_urls?.[ 48 ] }\n\t\t\t\t\tname={ thread?.author_name }\n\t\t\t\t\tdate={ thread?.date }\n\t\t\t\t/>\n\t\t\t\t<span className=\"editor-collab-sidebar-panel__comment-status\">\n\t\t\t\t\t{ status !== 'approved' && (\n\t\t\t\t\t\t<HStack\n\t\t\t\t\t\t\talignment=\"right\"\n\t\t\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\t\t\tspacing=\"0\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ 0 === thread?.parent && onResolve && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t\t\t\t'Resolve',\n\t\t\t\t\t\t\t\t\t\t'Mark comment as resolved'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\ticon={ published }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetActionState( 'resolve' );\n\t\t\t\t\t\t\t\t\t\tsetShowConfirmDialog( true );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ 0 < moreActions.length && (\n\t\t\t\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t\t\t\t'Select an action',\n\t\t\t\t\t\t\t\t\t\t'Select comment action'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tclassName=\"editor-collab-sidebar-panel__comment-dropdown-menu\"\n\t\t\t\t\t\t\t\t\tcontrols={ moreActions }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t) }\n\t\t\t\t\t{ status === 'approved' && (\n\t\t\t\t\t\t// translators: tooltip for resolved comment\n\t\t\t\t\t\t<Tooltip text={ __( 'Resolved' ) }>\n\t\t\t\t\t\t\t<Icon icon={ check } />\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t) }\n\t\t\t\t</span>\n\t\t\t</HStack>\n\t\t\t<HStack\n\t\t\t\talignment=\"left\"\n\t\t\t\tspacing=\"3\"\n\t\t\t\tjustify=\"flex-start\"\n\t\t\t\tclassName=\"editor-collab-sidebar-panel__user-comment\"\n\t\t\t>\n\t\t\t\t<VStack\n\t\t\t\t\tspacing=\"3\"\n\t\t\t\t\tclassName=\"editor-collab-sidebar-panel__comment-field\"\n\t\t\t\t>\n\t\t\t\t\t{ 'edit' === actionState && (\n\t\t\t\t\t\t<CommentForm\n\t\t\t\t\t\t\tonSubmit={ ( value ) => {\n\t\t\t\t\t\t\t\tonEdit( thread.id, value );\n\t\t\t\t\t\t\t\tsetActionState( false );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tonCancel={ () => handleCancel() }\n\t\t\t\t\t\t\tthread={ thread }\n\t\t\t\t\t\t\tsubmitButtonText={ _x( 'Update', 'verb' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ 'edit' !== actionState && (\n\t\t\t\t\t\t<RawHTML>{ thread?.content?.raw }</RawHTML>\n\t\t\t\t\t) }\n\t\t\t\t</VStack>\n\t\t\t</HStack>\n\t\t\t{ 'resolve' === actionState && (\n\t\t\t\t<ConfirmDialog\n\t\t\t\t\tisOpen={ showConfirmDialog }\n\t\t\t\t\tonConfirm={ handleConfirmResolve }\n\t\t\t\t\tonCancel={ handleCancel }\n\t\t\t\t\tconfirmButtonText=\"Yes\"\n\t\t\t\t\tcancelButtonText=\"No\"\n\t\t\t\t>\n\t\t\t\t\t{\n\t\t\t\t\t\t// translators: message displayed when confirming an action\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Are you sure you want to mark this comment as resolved?'\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</ConfirmDialog>\n\t\t\t) }\n\t\t\t{ 'delete' === actionState && (\n\t\t\t\t<ConfirmDialog\n\t\t\t\t\tisOpen={ showConfirmDialog }\n\t\t\t\t\tonConfirm={ handleConfirmDelete }\n\t\t\t\t\tonCancel={ handleCancel }\n\t\t\t\t\tconfirmButtonText=\"Yes\"\n\t\t\t\t\tcancelButtonText=\"No\"\n\t\t\t\t>\n\t\t\t\t\t{\n\t\t\t\t\t\t// translators: message displayed when confirming an action\n\t\t\t\t\t\t__( 'Are you sure you want to delete this comment?' )\n\t\t\t\t\t}\n\t\t\t\t</ConfirmDialog>\n\t\t\t) }\n\t\t</>\n\t);\n};\n"],"mappings":"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","ignoreList":[]}