{"version":3,"names":["_element","require","_data","_components","_i18n","_url","_coreData","_check","_interopRequireDefault","_index","_postPanelRow","_store","_jsxRuntime","PostURLPanel","isFrontPage","useSelect","select","getCurrentPostId","editorStore","getEditedEntityRecord","canUser","coreStore","siteSettings","kind","name","undefined","_id","page_on_front","popoverAnchor","setPopoverAnchor","useState","popoverProps","useMemo","anchor","placement","offset","shift","label","__","jsx","default","children","jsxs","ref","Dropdown","className","contentClassName","focusOnMount","renderToggle","isOpen","onToggle","PostURLToggle","onClick","renderContent","onClose","FrontPageLink","slug","getEditedPostSlug","decodedSlug","safeDecodeURIComponent","Button","size","variant","sprintf","Fragment","postLink","getCurrentPost","link","ExternalLink","href","target"],"sources":["@wordpress/editor/src/components/post-url/panel.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useMemo, useState } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { Dropdown, Button, ExternalLink } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { safeDecodeURIComponent } from '@wordpress/url';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostURLCheck from './check';\nimport PostURL from './index';\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the `PostURLPanel` component.\n *\n * @return {React.ReactNode} The rendered PostURLPanel component.\n */\nexport default function PostURLPanel() {\n\tconst { isFrontPage } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostId } = select( editorStore );\n\t\tconst { getEditedEntityRecord, canUser } = select( coreStore );\n\t\tconst siteSettings = canUser( 'read', {\n\t\t\tkind: 'root',\n\t\t\tname: 'site',\n\t\t} )\n\t\t\t? getEditedEntityRecord( 'root', 'site' )\n\t\t\t: undefined;\n\t\tconst _id = getCurrentPostId();\n\t\treturn {\n\t\t\tisFrontPage: siteSettings?.page_on_front === _id,\n\t\t};\n\t}, [] );\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tconst label = isFrontPage ? __( 'Link' ) : __( 'Slug' );\n\n\treturn (\n\t\t<PostURLCheck>\n\t\t\t<PostPanelRow label={ label } ref={ setPopoverAnchor }>\n\t\t\t\t{ ! isFrontPage && (\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\t\tclassName=\"editor-post-url__panel-dropdown\"\n\t\t\t\t\t\tcontentClassName=\"editor-post-url__panel-dialog\"\n\t\t\t\t\t\tfocusOnMount\n\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t\t<PostURLToggle\n\t\t\t\t\t\t\t\tisOpen={ isOpen }\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t\t<PostURL onClose={ onClose } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ isFrontPage && <FrontPageLink /> }\n\t\t\t</PostPanelRow>\n\t\t</PostURLCheck>\n\t);\n}\n\nfunction PostURLToggle( { isOpen, onClick } ) {\n\tconst { slug } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tslug: select( editorStore ).getEditedPostSlug(),\n\t\t};\n\t}, [] );\n\tconst decodedSlug = safeDecodeURIComponent( slug );\n\treturn (\n\t\t<Button\n\t\t\tsize=\"compact\"\n\t\t\tclassName=\"editor-post-url__panel-toggle\"\n\t\t\tvariant=\"tertiary\"\n\t\t\taria-expanded={ isOpen }\n\t\t\taria-label={\n\t\t\t\t// translators: %s: Current post link.\n\t\t\t\tsprintf( __( 'Change link: %s' ), decodedSlug )\n\t\t\t}\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t<>{ decodedSlug }</>\n\t\t</Button>\n\t);\n}\n\nfunction FrontPageLink() {\n\tconst { postLink } = useSelect( ( select ) => {\n\t\tconst { getCurrentPost } = select( editorStore );\n\t\treturn {\n\t\t\tpostLink: getCurrentPost()?.link,\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<ExternalLink\n\t\t\tclassName=\"editor-post-url__front-page-link\"\n\t\t\thref={ postLink }\n\t\t\ttarget=\"_blank\"\n\t\t>\n\t\t\t{ postLink }\n\t\t</ExternalLink>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}