{"version":3,"names":["_data","require","_url","_element","_blockEditor","_i18n","_components","_notices","_icons","_coreData","_compose","_store","_jsxRuntime","PostURL","onClose","isEditable","postSlug","postLink","permalinkPrefix","permalinkSuffix","permalink","useSelect","select","_post$_links$wpActio","post","editorStore","getCurrentPost","postTypeSlug","getCurrentPostType","postType","coreStore","getPostType","permalinkParts","getPermalinkParts","hasPublishAction","_links","isPermalinkEditable","safeDecodeURIComponent","getEditedPostSlug","viewPostLabel","labels","view_item","link","prefix","suffix","getPermalink","editPost","useDispatch","createNotice","noticesStore","forceEmptyField","setForceEmptyField","useState","copyButtonRef","useCopyToClipboard","__","isDismissible","type","postUrlSlugDescriptionId","useInstanceId","jsxs","className","children","jsx","__experimentalInspectorPopoverHeader","title","__experimentalVStack","spacing","createInterpolateElement","span","id","a","ExternalLink","href","Fragment","__experimentalInputControl","__next40pxDefaultSize","__experimentalInputControlPrefixWrapper","__experimentalInputControlSuffixWrapper","variant","Button","icon","copySmall","ref","size","label","hideLabelFromVision","value","autoComplete","spellCheck","onChange","newValue","slug","onBlur","event","cleanForSlug","target"],"sources":["@wordpress/editor/src/components/post-url/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { safeDecodeURIComponent, cleanForSlug } from '@wordpress/url';\nimport { useState, createInterpolateElement } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tExternalLink,\n\tButton,\n\t__experimentalInputControl as InputControl,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n\t__experimentalInputControlSuffixWrapper as InputControlSuffixWrapper,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { copySmall } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useCopyToClipboard, useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the `PostURL` component.\n *\n * @example\n * ```jsx\n * <PostURL />\n * ```\n *\n * @param {{ onClose: () => void }} props         The props for the component.\n * @param {() => void}              props.onClose Callback function to be executed when the popover is closed.\n *\n * @return {React.ReactNode} The rendered PostURL component.\n */\nexport default function PostURL( { onClose } ) {\n\tconst {\n\t\tisEditable,\n\t\tpostSlug,\n\t\tpostLink,\n\t\tpermalinkPrefix,\n\t\tpermalinkSuffix,\n\t\tpermalink,\n\t} = useSelect( ( select ) => {\n\t\tconst post = select( editorStore ).getCurrentPost();\n\t\tconst postTypeSlug = select( editorStore ).getCurrentPostType();\n\t\tconst postType = select( coreStore ).getPostType( postTypeSlug );\n\t\tconst permalinkParts = select( editorStore ).getPermalinkParts();\n\t\tconst hasPublishAction = post?._links?.[ 'wp:action-publish' ] ?? false;\n\n\t\treturn {\n\t\t\tisEditable:\n\t\t\t\tselect( editorStore ).isPermalinkEditable() && hasPublishAction,\n\t\t\tpostSlug: safeDecodeURIComponent(\n\t\t\t\tselect( editorStore ).getEditedPostSlug()\n\t\t\t),\n\t\t\tviewPostLabel: postType?.labels.view_item,\n\t\t\tpostLink: post.link,\n\t\t\tpermalinkPrefix: permalinkParts?.prefix,\n\t\t\tpermalinkSuffix: permalinkParts?.suffix,\n\t\t\tpermalink: safeDecodeURIComponent(\n\t\t\t\tselect( editorStore ).getPermalink()\n\t\t\t),\n\t\t};\n\t}, [] );\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { createNotice } = useDispatch( noticesStore );\n\tconst [ forceEmptyField, setForceEmptyField ] = useState( false );\n\tconst copyButtonRef = useCopyToClipboard( permalink, () => {\n\t\tcreateNotice( 'info', __( 'Copied Permalink to clipboard.' ), {\n\t\t\tisDismissible: true,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t} );\n\tconst postUrlSlugDescriptionId =\n\t\t'editor-post-url__slug-description-' + useInstanceId( PostURL );\n\n\treturn (\n\t\t<div className=\"editor-post-url\">\n\t\t\t<InspectorPopoverHeader\n\t\t\t\ttitle={ __( 'Slug' ) }\n\t\t\t\tonClose={ onClose }\n\t\t\t/>\n\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t{ isEditable && (\n\t\t\t\t\t<p className=\"editor-post-url__intro\">\n\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'<span>Customize the last part of the Permalink.</span> <a>Learn more.</a>'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tspan: <span id={ postUrlSlugDescriptionId } />,\n\t\t\t\t\t\t\t\ta: (\n\t\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/page-post-settings-sidebar/#permalink'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t\t<div>\n\t\t\t\t\t{ isEditable && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tprefix={\n\t\t\t\t\t\t\t\t\t<InputControlPrefixWrapper>\n\t\t\t\t\t\t\t\t\t\t/\n\t\t\t\t\t\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsuffix={\n\t\t\t\t\t\t\t\t\t<InputControlSuffixWrapper variant=\"control\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ticon={ copySmall }\n\t\t\t\t\t\t\t\t\t\t\tref={ copyButtonRef }\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Copy\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</InputControlSuffixWrapper>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={ __( 'Slug' ) }\n\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t\tvalue={ forceEmptyField ? '' : postSlug }\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tspellCheck=\"false\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"editor-post-url__input\"\n\t\t\t\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\t\t\t\teditPost( { slug: newValue } );\n\t\t\t\t\t\t\t\t\t// When we delete the field the permalink gets\n\t\t\t\t\t\t\t\t\t// reverted to the original value.\n\t\t\t\t\t\t\t\t\t// The forceEmptyField logic allows the user to have\n\t\t\t\t\t\t\t\t\t// the field temporarily empty while typing.\n\t\t\t\t\t\t\t\t\tif ( ! newValue ) {\n\t\t\t\t\t\t\t\t\t\tif ( ! forceEmptyField ) {\n\t\t\t\t\t\t\t\t\t\t\tsetForceEmptyField( true );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( forceEmptyField ) {\n\t\t\t\t\t\t\t\t\t\tsetForceEmptyField( false );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tonBlur={ ( event ) => {\n\t\t\t\t\t\t\t\t\teditPost( {\n\t\t\t\t\t\t\t\t\t\tslug: cleanForSlug(\n\t\t\t\t\t\t\t\t\t\t\tevent.target.value\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\tif ( forceEmptyField ) {\n\t\t\t\t\t\t\t\t\t\tsetForceEmptyField( false );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\taria-describedby={ postUrlSlugDescriptionId }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<p className=\"editor-post-url__permalink\">\n\t\t\t\t\t\t\t\t<span className=\"editor-post-url__permalink-visual-label\">\n\t\t\t\t\t\t\t\t\t{ __( 'Permalink:' ) }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\tclassName=\"editor-post-url__link\"\n\t\t\t\t\t\t\t\t\thref={ postLink }\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"editor-post-url__link-prefix\">\n\t\t\t\t\t\t\t\t\t\t{ permalinkPrefix }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className=\"editor-post-url__link-slug\">\n\t\t\t\t\t\t\t\t\t\t{ postSlug }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className=\"editor-post-url__link-suffix\">\n\t\t\t\t\t\t\t\t\t\t{ permalinkSuffix }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! isEditable && (\n\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\tclassName=\"editor-post-url__link\"\n\t\t\t\t\t\t\thref={ postLink }\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ postLink }\n\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</VStack>\n\t\t</div>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}