{"version":3,"names":["_components","require","_data","_i18n","_compose","_notices","_coreData","_blocks","_store","_jsxRuntime","CopyContentMenuItem","createNotice","useDispatch","noticesStore","getCurrentPostId","getCurrentPostType","useSelect","editorStore","getEditedEntityRecord","coreStore","getText","record","content","blocks","__unstableSerializeAndClean","onSuccess","__","isDismissible","type","ref","useCopyToClipboard","jsx","MenuItem","children"],"sources":["@wordpress/editor/src/components/more-menu/copy-content-menu-item.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __unstableSerializeAndClean } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function CopyContentMenuItem() {\n\tconst { createNotice } = useDispatch( noticesStore );\n\tconst { getCurrentPostId, getCurrentPostType } = useSelect( editorStore );\n\tconst { getEditedEntityRecord } = useSelect( coreStore );\n\n\tfunction getText() {\n\t\tconst record = getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\tgetCurrentPostType(),\n\t\t\tgetCurrentPostId()\n\t\t);\n\t\tif ( ! record ) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif ( typeof record.content === 'function' ) {\n\t\t\treturn record.content( record );\n\t\t} else if ( record.blocks ) {\n\t\t\treturn __unstableSerializeAndClean( record.blocks );\n\t\t} else if ( record.content ) {\n\t\t\treturn record.content;\n\t\t}\n\t}\n\n\tfunction onSuccess() {\n\t\tcreateNotice( 'info', __( 'All content copied.' ), {\n\t\t\tisDismissible: true,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t}\n\n\tconst ref = useCopyToClipboard( getText, onSuccess );\n\n\treturn <MenuItem ref={ ref }>{ __( 'Copy all blocks' ) }</MenuItem>;\n}\n"],"mappings":";;;;;;AAGA,IAAAA,WAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AACA,IAAAG,QAAA,GAAAH,OAAA;AACA,IAAAI,QAAA,GAAAJ,OAAA;AACA,IAAAK,SAAA,GAAAL,OAAA;AACA,IAAAM,OAAA,GAAAN,OAAA;AAKA,IAAAO,MAAA,GAAAP,OAAA;AAAmD,IAAAQ,WAAA,GAAAR,OAAA;AAdnD;AACA;AACA;;AASA;AACA;AACA;;AAGe,SAASS,mBAAmBA,CAAA,EAAG;EAC7C,MAAM;IAAEC;EAAa,CAAC,GAAG,IAAAC,iBAAW,EAAEC,cAAa,CAAC;EACpD,MAAM;IAAEC,gBAAgB;IAAEC;EAAmB,CAAC,GAAG,IAAAC,eAAS,EAAEC,YAAY,CAAC;EACzE,MAAM;IAAEC;EAAsB,CAAC,GAAG,IAAAF,eAAS,EAAEG,eAAU,CAAC;EAExD,SAASC,OAAOA,CAAA,EAAG;IAClB,MAAMC,MAAM,GAAGH,qBAAqB,CACnC,UAAU,EACVH,kBAAkB,CAAC,CAAC,EACpBD,gBAAgB,CAAC,CAClB,CAAC;IACD,IAAK,CAAEO,MAAM,EAAG;MACf,OAAO,EAAE;IACV;IAEA,IAAK,OAAOA,MAAM,CAACC,OAAO,KAAK,UAAU,EAAG;MAC3C,OAAOD,MAAM,CAACC,OAAO,CAAED,MAAO,CAAC;IAChC,CAAC,MAAM,IAAKA,MAAM,CAACE,MAAM,EAAG;MAC3B,OAAO,IAAAC,mCAA2B,EAAEH,MAAM,CAACE,MAAO,CAAC;IACpD,CAAC,MAAM,IAAKF,MAAM,CAACC,OAAO,EAAG;MAC5B,OAAOD,MAAM,CAACC,OAAO;IACtB;EACD;EAEA,SAASG,SAASA,CAAA,EAAG;IACpBd,YAAY,CAAE,MAAM,EAAE,IAAAe,QAAE,EAAE,qBAAsB,CAAC,EAAE;MAClDC,aAAa,EAAE,IAAI;MACnBC,IAAI,EAAE;IACP,CAAE,CAAC;EACJ;EAEA,MAAMC,GAAG,GAAG,IAAAC,2BAAkB,EAAEV,OAAO,EAAEK,SAAU,CAAC;EAEpD,oBAAO,IAAAhB,WAAA,CAAAsB,GAAA,EAAC/B,WAAA,CAAAgC,QAAQ;IAACH,GAAG,EAAGA,GAAK;IAAAI,QAAA,EAAG,IAAAP,QAAE,EAAE,iBAAkB;EAAC,CAAY,CAAC;AACpE","ignoreList":[]}