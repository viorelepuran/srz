{"version":3,"names":["_i18n","require","_data","_components","_coreData","_blockEditor","_element","_entityRecordItem","_interopRequireDefault","_lockUnlock","_jsxRuntime","getGlobalStylesChanges","GlobalStylesContext","unlock","blockEditorPrivateApis","getEntityDescription","entity","count","__","GlobalStylesDescription","record","user","currentEditorGlobalStyles","useContext","savedRecord","useSelect","select","coreStore","getEntityRecord","kind","name","key","globalStylesChanges","maxResults","length","jsx","className","children","map","change","EntityDescription","description","PanelRow","EntityTypeList","list","unselectedEntities","setUnselectedEntities","firstRecord","entityConfig","getEntityConfig","entityLabel","label","jsxs","PanelBody","title","initialOpen","default","checked","some","elt","property","onChange","value"],"sources":["@wordpress/editor/src/components/entities-saved-states/entity-type-list.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody, PanelRow } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport EntityRecordItem from './entity-record-item';\nimport { unlock } from '../../lock-unlock';\n\nconst { getGlobalStylesChanges, GlobalStylesContext } = unlock(\n\tblockEditorPrivateApis\n);\n\nfunction getEntityDescription( entity, count ) {\n\tswitch ( entity ) {\n\t\tcase 'site':\n\t\t\treturn 1 === count\n\t\t\t\t? __( 'This change will affect your whole site.' )\n\t\t\t\t: __( 'These changes will affect your whole site.' );\n\t\tcase 'wp_template':\n\t\t\treturn __(\n\t\t\t\t'This change will affect other parts of your site that use this template.'\n\t\t\t);\n\t\tcase 'page':\n\t\tcase 'post':\n\t\t\treturn __( 'The following has been modified.' );\n\t}\n}\n\nfunction GlobalStylesDescription( { record } ) {\n\tconst { user: currentEditorGlobalStyles } =\n\t\tuseContext( GlobalStylesContext );\n\tconst savedRecord = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecord(\n\t\t\t\trecord.kind,\n\t\t\t\trecord.name,\n\t\t\t\trecord.key\n\t\t\t),\n\t\t[ record.kind, record.name, record.key ]\n\t);\n\n\tconst globalStylesChanges = getGlobalStylesChanges(\n\t\tcurrentEditorGlobalStyles,\n\t\tsavedRecord,\n\t\t{\n\t\t\tmaxResults: 10,\n\t\t}\n\t);\n\treturn globalStylesChanges.length ? (\n\t\t<ul className=\"entities-saved-states__changes\">\n\t\t\t{ globalStylesChanges.map( ( change ) => (\n\t\t\t\t<li key={ change }>{ change }</li>\n\t\t\t) ) }\n\t\t</ul>\n\t) : null;\n}\n\nfunction EntityDescription( { record, count } ) {\n\tif ( 'globalStyles' === record?.name ) {\n\t\treturn null;\n\t}\n\tconst description = getEntityDescription( record?.name, count );\n\treturn description ? <PanelRow>{ description }</PanelRow> : null;\n}\n\nexport default function EntityTypeList( {\n\tlist,\n\tunselectedEntities,\n\tsetUnselectedEntities,\n} ) {\n\tconst count = list.length;\n\tconst firstRecord = list[ 0 ];\n\tconst entityConfig = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityConfig(\n\t\t\t\tfirstRecord.kind,\n\t\t\t\tfirstRecord.name\n\t\t\t),\n\t\t[ firstRecord.kind, firstRecord.name ]\n\t);\n\n\tlet entityLabel = entityConfig.label;\n\tif ( firstRecord?.name === 'wp_template_part' ) {\n\t\tentityLabel =\n\t\t\t1 === count ? __( 'Template Part' ) : __( 'Template Parts' );\n\t}\n\n\treturn (\n\t\t<PanelBody\n\t\t\ttitle={ entityLabel }\n\t\t\tinitialOpen\n\t\t\tclassName=\"entities-saved-states__panel-body\"\n\t\t>\n\t\t\t<EntityDescription record={ firstRecord } count={ count } />\n\t\t\t{ list.map( ( record ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<EntityRecordItem\n\t\t\t\t\t\tkey={ record.key || record.property }\n\t\t\t\t\t\trecord={ record }\n\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t! unselectedEntities.some(\n\t\t\t\t\t\t\t\t( elt ) =>\n\t\t\t\t\t\t\t\t\telt.kind === record.kind &&\n\t\t\t\t\t\t\t\t\telt.name === record.name &&\n\t\t\t\t\t\t\t\t\telt.key === record.key &&\n\t\t\t\t\t\t\t\t\telt.property === record.property\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetUnselectedEntities( record, value )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ 'globalStyles' === firstRecord?.name && (\n\t\t\t\t<GlobalStylesDescription record={ firstRecord } />\n\t\t\t) }\n\t\t</PanelBody>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}