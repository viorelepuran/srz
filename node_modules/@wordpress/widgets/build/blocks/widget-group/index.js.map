{"version":3,"names":["_i18n","require","_blocks","_icons","_edit","_interopRequireDefault","_save","_deprecated","metadata","exports","$schema","apiVersion","name","title","category","attributes","type","supports","html","inserter","customClassName","reusable","editorStyle","style","settings","__","description","icon","__experimentalLabel","label","edit","save","transforms","from","isMultiBlock","blocks","isMatch","some","block","__experimentalConvert","innerBlocks","map","createBlock","firstHeadingBlock","filter","content","deprecated"],"sources":["@wordpress/widgets/src/blocks/widget-group/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { createBlock } from '@wordpress/blocks';\nimport { group as icon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport metadata from './block.json';\nimport edit from './edit';\nimport save from './save';\nimport deprecated from './deprecated';\n\nconst { name } = metadata;\nexport { metadata, name };\n\nexport const settings = {\n\ttitle: __( 'Widget Group' ),\n\tdescription: __(\n\t\t'Create a classic widget layout with a title thatâ€™s styled by your theme for your widget areas.'\n\t),\n\ticon,\n\t__experimentalLabel: ( { name: label } ) => label,\n\tedit,\n\tsave,\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tisMultiBlock: true,\n\t\t\t\tblocks: [ '*' ],\n\t\t\t\tisMatch( attributes, blocks ) {\n\t\t\t\t\t// Avoid transforming existing `widget-group` blocks.\n\t\t\t\t\treturn ! blocks.some(\n\t\t\t\t\t\t( block ) => block.name === 'core/widget-group'\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\t__experimentalConvert( blocks ) {\n\t\t\t\t\t// Put the selected blocks inside the new Widget Group's innerBlocks.\n\t\t\t\t\tlet innerBlocks = [\n\t\t\t\t\t\t...blocks.map( ( block ) => {\n\t\t\t\t\t\t\treturn createBlock(\n\t\t\t\t\t\t\t\tblock.name,\n\t\t\t\t\t\t\t\tblock.attributes,\n\t\t\t\t\t\t\t\tblock.innerBlocks\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ),\n\t\t\t\t\t];\n\n\t\t\t\t\t// If the first block is a heading then assume this is intended\n\t\t\t\t\t// to be the Widget's \"title\".\n\t\t\t\t\tconst firstHeadingBlock =\n\t\t\t\t\t\tinnerBlocks[ 0 ].name === 'core/heading'\n\t\t\t\t\t\t\t? innerBlocks[ 0 ]\n\t\t\t\t\t\t\t: null;\n\n\t\t\t\t\t// Remove the first heading block as we're copying\n\t\t\t\t\t// it's content into the Widget Group's title attribute.\n\t\t\t\t\tinnerBlocks = innerBlocks.filter(\n\t\t\t\t\t\t( block ) => block !== firstHeadingBlock\n\t\t\t\t\t);\n\n\t\t\t\t\treturn createBlock(\n\t\t\t\t\t\t'core/widget-group',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...( firstHeadingBlock && {\n\t\t\t\t\t\t\t\ttitle: firstHeadingBlock.attributes.content,\n\t\t\t\t\t\t\t} ),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinnerBlocks\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\tdeprecated,\n};\n"],"mappings":";;;;;;;AAGA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AACA,IAAAE,MAAA,GAAAF,OAAA;AAMA,IAAAG,KAAA,GAAAC,sBAAA,CAAAJ,OAAA;AACA,IAAAK,KAAA,GAAAD,sBAAA,CAAAJ,OAAA;AACA,IAAAM,WAAA,GAAAF,sBAAA,CAAAJ,OAAA;AAbA;AACA;AACA;AAKA;AACA;AACA;AAFA,MAAAO,QAAA,GAAAC,OAAA,CAAAD,QAAA;EAAAE,OAAA;EAAAC,UAAA;EAAAC,IAAA;EAAAC,KAAA;EAAAC,QAAA;EAAAC,UAAA;IAAAF,KAAA;MAAAG,IAAA;IAAA;EAAA;EAAAC,QAAA;IAAAC,IAAA;IAAAC,QAAA;IAAAC,eAAA;IAAAC,QAAA;EAAA;EAAAC,WAAA;EAAAC,KAAA;AAAA;AAQA,MAAM;EAAEX;AAAK,CAAC,GAAGJ,QAAQ;AAACC,OAAA,CAAAG,IAAA,GAAAA,IAAA;AAGnB,MAAMY,QAAQ,GAAAf,OAAA,CAAAe,QAAA,GAAG;EACvBX,KAAK,EAAE,IAAAY,QAAE,EAAE,cAAe,CAAC;EAC3BC,WAAW,EAAE,IAAAD,QAAE,EACd,gGACD,CAAC;EACDE,IAAI,EAAJA,YAAI;EACJC,mBAAmB,EAAEA,CAAE;IAAEhB,IAAI,EAAEiB;EAAM,CAAC,KAAMA,KAAK;EACjDC,IAAI,EAAJA,aAAI;EACJC,IAAI,EAAJA,aAAI;EACJC,UAAU,EAAE;IACXC,IAAI,EAAE,CACL;MACCjB,IAAI,EAAE,OAAO;MACbkB,YAAY,EAAE,IAAI;MAClBC,MAAM,EAAE,CAAE,GAAG,CAAE;MACfC,OAAOA,CAAErB,UAAU,EAAEoB,MAAM,EAAG;QAC7B;QACA,OAAO,CAAEA,MAAM,CAACE,IAAI,CACjBC,KAAK,IAAMA,KAAK,CAAC1B,IAAI,KAAK,mBAC7B,CAAC;MACF,CAAC;MACD2B,qBAAqBA,CAAEJ,MAAM,EAAG;QAC/B;QACA,IAAIK,WAAW,GAAG,CACjB,GAAGL,MAAM,CAACM,GAAG,CAAIH,KAAK,IAAM;UAC3B,OAAO,IAAAI,mBAAW,EACjBJ,KAAK,CAAC1B,IAAI,EACV0B,KAAK,CAACvB,UAAU,EAChBuB,KAAK,CAACE,WACP,CAAC;QACF,CAAE,CAAC,CACH;;QAED;QACA;QACA,MAAMG,iBAAiB,GACtBH,WAAW,CAAE,CAAC,CAAE,CAAC5B,IAAI,KAAK,cAAc,GACrC4B,WAAW,CAAE,CAAC,CAAE,GAChB,IAAI;;QAER;QACA;QACAA,WAAW,GAAGA,WAAW,CAACI,MAAM,CAC7BN,KAAK,IAAMA,KAAK,KAAKK,iBACxB,CAAC;QAED,OAAO,IAAAD,mBAAW,EACjB,mBAAmB,EACnB;UACC,IAAKC,iBAAiB,IAAI;YACzB9B,KAAK,EAAE8B,iBAAiB,CAAC5B,UAAU,CAAC8B;UACrC,CAAC;QACF,CAAC,EACDL,WACD,CAAC;MACF;IACD,CAAC;EAEH,CAAC;EACDM,UAAU,EAAVA;AACD,CAAC","ignoreList":[]}