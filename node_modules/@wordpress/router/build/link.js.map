{"version":3,"names":["_element","require","_url","_router","_jsxRuntime","useLink","to","options","_getPath","history","useHistory","pathArg","beforeNavigate","useContext","ConfigContext","onClick","event","preventDefault","navigate","query","getQueryArgs","path","getPath","link","useMemo","before","window","location","href","split","buildQueryString","Link","children","props","jsx"],"sources":["@wordpress/router/src/link.tsx"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useContext, useMemo } from '@wordpress/element';\nimport { getQueryArgs, getPath, buildQueryString } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { ConfigContext, type NavigationOptions, useHistory } from './router';\n\nexport function useLink( to: string, options: NavigationOptions = {} ) {\n\tconst history = useHistory();\n\tconst { pathArg, beforeNavigate } = useContext( ConfigContext );\n\tfunction onClick( event: React.SyntheticEvent< HTMLAnchorElement > ) {\n\t\tevent?.preventDefault();\n\t\thistory.navigate( to, options );\n\t}\n\tconst query = getQueryArgs( to );\n\tconst path = getPath( 'http://domain.com/' + to ) ?? '';\n\tconst link = useMemo( () => {\n\t\treturn beforeNavigate\n\t\t\t? beforeNavigate( { path, query } )\n\t\t\t: { path, query };\n\t}, [ path, query, beforeNavigate ] );\n\n\tconst [ before ] = window.location.href.split( '?' );\n\n\treturn {\n\t\thref: `${ before }?${ buildQueryString( {\n\t\t\t[ pathArg ]: link.path,\n\t\t\t...link.query,\n\t\t} ) }`,\n\t\tonClick,\n\t};\n}\n\nexport function Link( {\n\tto,\n\toptions,\n\tchildren,\n\t...props\n}: {\n\tto: string;\n\toptions?: NavigationOptions;\n\tchildren: React.ReactNode;\n} ) {\n\tconst { href, onClick } = useLink( to, options );\n\n\treturn (\n\t\t<a href={ href } onClick={ onClick } { ...props }>\n\t\t\t{ children }\n\t\t</a>\n\t);\n}\n"],"mappings":";;;;;;;AAGA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,IAAA,GAAAD,OAAA;AAKA,IAAAE,OAAA,GAAAF,OAAA;AAA6E,IAAAG,WAAA,GAAAH,OAAA;AAT7E;AACA;AACA;;AAIA;AACA;AACA;;AAGO,SAASI,OAAOA,CAAEC,EAAU,EAAEC,OAA0B,GAAG,CAAC,CAAC,EAAG;EAAA,IAAAC,QAAA;EACtE,MAAMC,OAAO,GAAG,IAAAC,kBAAU,EAAC,CAAC;EAC5B,MAAM;IAAEC,OAAO;IAAEC;EAAe,CAAC,GAAG,IAAAC,mBAAU,EAAEC,qBAAc,CAAC;EAC/D,SAASC,OAAOA,CAAEC,KAAgD,EAAG;IACpEA,KAAK,EAAEC,cAAc,CAAC,CAAC;IACvBR,OAAO,CAACS,QAAQ,CAAEZ,EAAE,EAAEC,OAAQ,CAAC;EAChC;EACA,MAAMY,KAAK,GAAG,IAAAC,iBAAY,EAAEd,EAAG,CAAC;EAChC,MAAMe,IAAI,IAAAb,QAAA,GAAG,IAAAc,YAAO,EAAE,oBAAoB,GAAGhB,EAAG,CAAC,cAAAE,QAAA,cAAAA,QAAA,GAAI,EAAE;EACvD,MAAMe,IAAI,GAAG,IAAAC,gBAAO,EAAE,MAAM;IAC3B,OAAOZ,cAAc,GAClBA,cAAc,CAAE;MAAES,IAAI;MAAEF;IAAM,CAAE,CAAC,GACjC;MAAEE,IAAI;MAAEF;IAAM,CAAC;EACnB,CAAC,EAAE,CAAEE,IAAI,EAAEF,KAAK,EAAEP,cAAc,CAAG,CAAC;EAEpC,MAAM,CAAEa,MAAM,CAAE,GAAGC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAE,GAAI,CAAC;EAEpD,OAAO;IACND,IAAI,EAAE,GAAIH,MAAM,IAAM,IAAAK,qBAAgB,EAAE;MACvC,CAAEnB,OAAO,GAAIY,IAAI,CAACF,IAAI;MACtB,GAAGE,IAAI,CAACJ;IACT,CAAE,CAAC,EAAG;IACNJ;EACD,CAAC;AACF;AAEO,SAASgB,IAAIA,CAAE;EACrBzB,EAAE;EACFC,OAAO;EACPyB,QAAQ;EACR,GAAGC;AAKJ,CAAC,EAAG;EACH,MAAM;IAAEL,IAAI;IAAEb;EAAQ,CAAC,GAAGV,OAAO,CAAEC,EAAE,EAAEC,OAAQ,CAAC;EAEhD,oBACC,IAAAH,WAAA,CAAA8B,GAAA;IAAGN,IAAI,EAAGA,IAAM;IAACb,OAAO,EAAGA,OAAS;IAAA,GAAMkB,KAAK;IAAAD,QAAA,EAC5CA;EAAQ,CACR,CAAC;AAEN","ignoreList":[]}