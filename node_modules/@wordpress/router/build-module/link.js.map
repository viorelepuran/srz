{"version":3,"names":["useContext","useMemo","getQueryArgs","getPath","buildQueryString","ConfigContext","useHistory","jsx","_jsx","useLink","to","options","_getPath","history","pathArg","beforeNavigate","onClick","event","preventDefault","navigate","query","path","link","before","window","location","href","split","Link","children","props"],"sources":["@wordpress/router/src/link.tsx"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useContext, useMemo } from '@wordpress/element';\nimport { getQueryArgs, getPath, buildQueryString } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { ConfigContext, type NavigationOptions, useHistory } from './router';\n\nexport function useLink( to: string, options: NavigationOptions = {} ) {\n\tconst history = useHistory();\n\tconst { pathArg, beforeNavigate } = useContext( ConfigContext );\n\tfunction onClick( event: React.SyntheticEvent< HTMLAnchorElement > ) {\n\t\tevent?.preventDefault();\n\t\thistory.navigate( to, options );\n\t}\n\tconst query = getQueryArgs( to );\n\tconst path = getPath( 'http://domain.com/' + to ) ?? '';\n\tconst link = useMemo( () => {\n\t\treturn beforeNavigate\n\t\t\t? beforeNavigate( { path, query } )\n\t\t\t: { path, query };\n\t}, [ path, query, beforeNavigate ] );\n\n\tconst [ before ] = window.location.href.split( '?' );\n\n\treturn {\n\t\thref: `${ before }?${ buildQueryString( {\n\t\t\t[ pathArg ]: link.path,\n\t\t\t...link.query,\n\t\t} ) }`,\n\t\tonClick,\n\t};\n}\n\nexport function Link( {\n\tto,\n\toptions,\n\tchildren,\n\t...props\n}: {\n\tto: string;\n\toptions?: NavigationOptions;\n\tchildren: React.ReactNode;\n} ) {\n\tconst { href, onClick } = useLink( to, options );\n\n\treturn (\n\t\t<a href={ href } onClick={ onClick } { ...props }>\n\t\t\t{ children }\n\t\t</a>\n\t);\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,UAAU,EAAEC,OAAO,QAAQ,oBAAoB;AACxD,SAASC,YAAY,EAAEC,OAAO,EAAEC,gBAAgB,QAAQ,gBAAgB;;AAExE;AACA;AACA;AACA,SAASC,aAAa,EAA0BC,UAAU,QAAQ,UAAU;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE7E,OAAO,SAASC,OAAOA,CAAEC,EAAU,EAAEC,OAA0B,GAAG,CAAC,CAAC,EAAG;EAAA,IAAAC,QAAA;EACtE,MAAMC,OAAO,GAAGP,UAAU,CAAC,CAAC;EAC5B,MAAM;IAAEQ,OAAO;IAAEC;EAAe,CAAC,GAAGf,UAAU,CAAEK,aAAc,CAAC;EAC/D,SAASW,OAAOA,CAAEC,KAAgD,EAAG;IACpEA,KAAK,EAAEC,cAAc,CAAC,CAAC;IACvBL,OAAO,CAACM,QAAQ,CAAET,EAAE,EAAEC,OAAQ,CAAC;EAChC;EACA,MAAMS,KAAK,GAAGlB,YAAY,CAAEQ,EAAG,CAAC;EAChC,MAAMW,IAAI,IAAAT,QAAA,GAAGT,OAAO,CAAE,oBAAoB,GAAGO,EAAG,CAAC,cAAAE,QAAA,cAAAA,QAAA,GAAI,EAAE;EACvD,MAAMU,IAAI,GAAGrB,OAAO,CAAE,MAAM;IAC3B,OAAOc,cAAc,GAClBA,cAAc,CAAE;MAAEM,IAAI;MAAED;IAAM,CAAE,CAAC,GACjC;MAAEC,IAAI;MAAED;IAAM,CAAC;EACnB,CAAC,EAAE,CAAEC,IAAI,EAAED,KAAK,EAAEL,cAAc,CAAG,CAAC;EAEpC,MAAM,CAAEQ,MAAM,CAAE,GAAGC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAE,GAAI,CAAC;EAEpD,OAAO;IACND,IAAI,EAAE,GAAIH,MAAM,IAAMnB,gBAAgB,CAAE;MACvC,CAAEU,OAAO,GAAIQ,IAAI,CAACD,IAAI;MACtB,GAAGC,IAAI,CAACF;IACT,CAAE,CAAC,EAAG;IACNJ;EACD,CAAC;AACF;AAEA,OAAO,SAASY,IAAIA,CAAE;EACrBlB,EAAE;EACFC,OAAO;EACPkB,QAAQ;EACR,GAAGC;AAKJ,CAAC,EAAG;EACH,MAAM;IAAEJ,IAAI;IAAEV;EAAQ,CAAC,GAAGP,OAAO,CAAEC,EAAE,EAAEC,OAAQ,CAAC;EAEhD,oBACCH,IAAA;IAAGkB,IAAI,EAAGA,IAAM;IAACV,OAAO,EAAGA,OAAS;IAAA,GAAMc,KAAK;IAAAD,QAAA,EAC5CA;EAAQ,CACR,CAAC;AAEN","ignoreList":[]}