{"version":3,"names":["fastDeepEqual","conservativeMapItem","item","nextItem","hasChanges","result","key","hasOwnProperty"],"sources":["@wordpress/core-data/src/utils/conservative-map-item.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport fastDeepEqual from 'fast-deep-equal/es6';\n\n/**\n * Given the current and next item entity record, returns the minimally \"modified\"\n * result of the next item, preferring value references from the original item\n * if equal. If all values match, the original item is returned.\n *\n * @param {Object} item     Original item.\n * @param {Object} nextItem Next item.\n *\n * @return {Object} Minimally modified merged item.\n */\nexport default function conservativeMapItem( item, nextItem ) {\n\t// Return next item in its entirety if there is no original item.\n\tif ( ! item ) {\n\t\treturn nextItem;\n\t}\n\n\tlet hasChanges = false;\n\tconst result = {};\n\tfor ( const key in nextItem ) {\n\t\tif ( fastDeepEqual( item[ key ], nextItem[ key ] ) ) {\n\t\t\tresult[ key ] = item[ key ];\n\t\t} else {\n\t\t\thasChanges = true;\n\t\t\tresult[ key ] = nextItem[ key ];\n\t\t}\n\t}\n\n\tif ( ! hasChanges ) {\n\t\treturn item;\n\t}\n\n\t// Only at this point, backfill properties from the original item which\n\t// weren't explicitly set into the result above. This is an optimization\n\t// to allow `hasChanges` to return early.\n\tfor ( const key in item ) {\n\t\tif ( ! result.hasOwnProperty( key ) ) {\n\t\t\tresult[ key ] = item[ key ];\n\t\t}\n\t}\n\n\treturn result;\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,aAAa,MAAM,qBAAqB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,mBAAmBA,CAAEC,IAAI,EAAEC,QAAQ,EAAG;EAC7D;EACA,IAAK,CAAED,IAAI,EAAG;IACb,OAAOC,QAAQ;EAChB;EAEA,IAAIC,UAAU,GAAG,KAAK;EACtB,MAAMC,MAAM,GAAG,CAAC,CAAC;EACjB,KAAM,MAAMC,GAAG,IAAIH,QAAQ,EAAG;IAC7B,IAAKH,aAAa,CAAEE,IAAI,CAAEI,GAAG,CAAE,EAAEH,QAAQ,CAAEG,GAAG,CAAG,CAAC,EAAG;MACpDD,MAAM,CAAEC,GAAG,CAAE,GAAGJ,IAAI,CAAEI,GAAG,CAAE;IAC5B,CAAC,MAAM;MACNF,UAAU,GAAG,IAAI;MACjBC,MAAM,CAAEC,GAAG,CAAE,GAAGH,QAAQ,CAAEG,GAAG,CAAE;IAChC;EACD;EAEA,IAAK,CAAEF,UAAU,EAAG;IACnB,OAAOF,IAAI;EACZ;;EAEA;EACA;EACA;EACA,KAAM,MAAMI,GAAG,IAAIJ,IAAI,EAAG;IACzB,IAAK,CAAEG,MAAM,CAACE,cAAc,CAAED,GAAI,CAAC,EAAG;MACrCD,MAAM,CAAEC,GAAG,CAAE,GAAGJ,IAAI,CAAEI,GAAG,CAAE;IAC5B;EACD;EAEA,OAAOD,MAAM;AACd","ignoreList":[]}