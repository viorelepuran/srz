{"version":3,"names":["__","useContext","useState","BlockControls","PlainText","useBlockProps","store","blockEditorStore","ToolbarButton","Disabled","ToolbarGroup","VisuallyHidden","useSelect","useInstanceId","Preview","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","HTMLEdit","attributes","setAttributes","isSelected","isPreview","setIsPreview","isDisabled","Context","instanceId","isPreviewMode","select","getSettings","switchToPreview","switchToHTML","blockProps","className","undefined","children","isPressed","onClick","content","id","value","onChange","placeholder"],"sources":["@wordpress/block-library/src/html/edit.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useContext, useState } from '@wordpress/element';\nimport {\n\tBlockControls,\n\tPlainText,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport {\n\tToolbarButton,\n\tDisabled,\n\tToolbarGroup,\n\tVisuallyHidden,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport Preview from './preview';\n\nexport default function HTMLEdit( { attributes, setAttributes, isSelected } ) {\n\tconst [ isPreview, setIsPreview ] = useState();\n\tconst isDisabled = useContext( Disabled.Context );\n\n\tconst instanceId = useInstanceId( HTMLEdit, 'html-edit-desc' );\n\n\tconst isPreviewMode = useSelect( ( select ) => {\n\t\treturn select( blockEditorStore ).getSettings().isPreviewMode;\n\t}, [] );\n\n\tfunction switchToPreview() {\n\t\tsetIsPreview( true );\n\t}\n\n\tfunction switchToHTML() {\n\t\tsetIsPreview( false );\n\t}\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: 'block-library-html__edit',\n\t\t'aria-describedby': isPreview ? instanceId : undefined,\n\t} );\n\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tisPressed={ ! isPreview }\n\t\t\t\t\t\tonClick={ switchToHTML }\n\t\t\t\t\t>\n\t\t\t\t\t\tHTML\n\t\t\t\t\t</ToolbarButton>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tisPressed={ isPreview }\n\t\t\t\t\t\tonClick={ switchToPreview }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Preview' ) }\n\t\t\t\t\t</ToolbarButton>\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\t\t\t{ isPreview || isPreviewMode || isDisabled ? (\n\t\t\t\t<>\n\t\t\t\t\t<Preview\n\t\t\t\t\t\tcontent={ attributes.content }\n\t\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\t/>\n\t\t\t\t\t<VisuallyHidden id={ instanceId }>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'HTML preview is not yet fully accessible. Please switch screen reader to virtualized mode to navigate the below iFrame.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<PlainText\n\t\t\t\t\tvalue={ attributes.content }\n\t\t\t\t\tonChange={ ( content ) => setAttributes( { content } ) }\n\t\t\t\t\tplaceholder={ __( 'Write HTMLâ€¦' ) }\n\t\t\t\t\taria-label={ __( 'HTML' ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SAASC,UAAU,EAAEC,QAAQ,QAAQ,oBAAoB;AACzD,SACCC,aAAa,EACbC,SAAS,EACTC,aAAa,EACbC,KAAK,IAAIC,gBAAgB,QACnB,yBAAyB;AAChC,SACCC,aAAa,EACbC,QAAQ,EACRC,YAAY,EACZC,cAAc,QACR,uBAAuB;AAC9B,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,aAAa,QAAQ,oBAAoB;;AAElD;AACA;AACA;AACA,OAAOC,OAAO,MAAM,WAAW;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA,EAAAC,QAAA,IAAAC,SAAA;AAEhC,eAAe,SAASC,QAAQA,CAAE;EAAEC,UAAU;EAAEC,aAAa;EAAEC;AAAW,CAAC,EAAG;EAC7E,MAAM,CAAEC,SAAS,EAAEC,YAAY,CAAE,GAAGxB,QAAQ,CAAC,CAAC;EAC9C,MAAMyB,UAAU,GAAG1B,UAAU,CAAEQ,QAAQ,CAACmB,OAAQ,CAAC;EAEjD,MAAMC,UAAU,GAAGhB,aAAa,CAAEQ,QAAQ,EAAE,gBAAiB,CAAC;EAE9D,MAAMS,aAAa,GAAGlB,SAAS,CAAImB,MAAM,IAAM;IAC9C,OAAOA,MAAM,CAAExB,gBAAiB,CAAC,CAACyB,WAAW,CAAC,CAAC,CAACF,aAAa;EAC9D,CAAC,EAAE,EAAG,CAAC;EAEP,SAASG,eAAeA,CAAA,EAAG;IAC1BP,YAAY,CAAE,IAAK,CAAC;EACrB;EAEA,SAASQ,YAAYA,CAAA,EAAG;IACvBR,YAAY,CAAE,KAAM,CAAC;EACtB;EAEA,MAAMS,UAAU,GAAG9B,aAAa,CAAE;IACjC+B,SAAS,EAAE,0BAA0B;IACrC,kBAAkB,EAAEX,SAAS,GAAGI,UAAU,GAAGQ;EAC9C,CAAE,CAAC;EAEH,oBACCnB,KAAA;IAAA,GAAUiB,UAAU;IAAAG,QAAA,gBACnBtB,IAAA,CAACb,aAAa;MAAAmC,QAAA,eACbpB,KAAA,CAACR,YAAY;QAAA4B,QAAA,gBACZtB,IAAA,CAACR,aAAa;UACb+B,SAAS,EAAG,CAAEd,SAAW;UACzBe,OAAO,EAAGN,YAAc;UAAAI,QAAA,EACxB;QAED,CAAe,CAAC,eAChBtB,IAAA,CAACR,aAAa;UACb+B,SAAS,EAAGd,SAAW;UACvBe,OAAO,EAAGP,eAAiB;UAAAK,QAAA,EAEzBtC,EAAE,CAAE,SAAU;QAAC,CACH,CAAC;MAAA,CACH;IAAC,CACD,CAAC,EACdyB,SAAS,IAAIK,aAAa,IAAIH,UAAU,gBACzCT,KAAA,CAAAE,SAAA;MAAAkB,QAAA,gBACCtB,IAAA,CAACF,OAAO;QACP2B,OAAO,EAAGnB,UAAU,CAACmB,OAAS;QAC9BjB,UAAU,EAAGA;MAAY,CACzB,CAAC,eACFR,IAAA,CAACL,cAAc;QAAC+B,EAAE,EAAGb,UAAY;QAAAS,QAAA,EAC9BtC,EAAE,CACH,yHACD;MAAC,CACc,CAAC;IAAA,CAChB,CAAC,gBAEHgB,IAAA,CAACZ,SAAS;MACTuC,KAAK,EAAGrB,UAAU,CAACmB,OAAS;MAC5BG,QAAQ,EAAKH,OAAO,IAAMlB,aAAa,CAAE;QAAEkB;MAAQ,CAAE,CAAG;MACxDI,WAAW,EAAG7C,EAAE,CAAE,aAAc,CAAG;MACnC,cAAaA,EAAE,CAAE,MAAO;IAAG,CAC3B,CACD;EAAA,CACG,CAAC;AAER","ignoreList":[]}