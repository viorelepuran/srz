{"version":3,"names":["clsx","useInnerBlocksProps","useBlockProps","imageFillStyles","DEFAULT_MEDIA_SIZE_SLUG","jsx","_jsx","jsxs","_jsxs","DEFAULT_MEDIA_WIDTH","noop","save","attributes","isStackedOnMobile","mediaAlt","mediaPosition","mediaType","mediaUrl","mediaWidth","mediaId","verticalAlignment","imageFill","focalPoint","linkClass","href","linkTarget","rel","mediaSizeSlug","newRel","undefined","imageClasses","positionStyles","image","src","alt","className","style","target","children","mediaTypeRenders","video","controls","gridTemplateColumns"],"sources":["@wordpress/block-library/src/media-text/save.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { imageFillStyles } from './image-fill';\nimport { DEFAULT_MEDIA_SIZE_SLUG } from './constants';\n\nconst DEFAULT_MEDIA_WIDTH = 50;\nconst noop = () => {};\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\tisStackedOnMobile,\n\t\tmediaAlt,\n\t\tmediaPosition,\n\t\tmediaType,\n\t\tmediaUrl,\n\t\tmediaWidth,\n\t\tmediaId,\n\t\tverticalAlignment,\n\t\timageFill,\n\t\tfocalPoint,\n\t\tlinkClass,\n\t\thref,\n\t\tlinkTarget,\n\t\trel,\n\t} = attributes;\n\tconst mediaSizeSlug = attributes.mediaSizeSlug || DEFAULT_MEDIA_SIZE_SLUG;\n\tconst newRel = ! rel ? undefined : rel;\n\n\tconst imageClasses = clsx( {\n\t\t[ `wp-image-${ mediaId }` ]: mediaId && mediaType === 'image',\n\t\t[ `size-${ mediaSizeSlug }` ]: mediaId && mediaType === 'image',\n\t} );\n\n\tconst positionStyles = imageFill\n\t\t? imageFillStyles( mediaUrl, focalPoint )\n\t\t: {};\n\n\tlet image = mediaUrl ? (\n\t\t<img\n\t\t\tsrc={ mediaUrl }\n\t\t\talt={ mediaAlt }\n\t\t\tclassName={ imageClasses || null }\n\t\t\tstyle={ positionStyles }\n\t\t/>\n\t) : null;\n\n\tif ( href ) {\n\t\timage = (\n\t\t\t<a\n\t\t\t\tclassName={ linkClass }\n\t\t\t\thref={ href }\n\t\t\t\ttarget={ linkTarget }\n\t\t\t\trel={ newRel }\n\t\t\t>\n\t\t\t\t{ image }\n\t\t\t</a>\n\t\t);\n\t}\n\n\tconst mediaTypeRenders = {\n\t\timage: () => image,\n\t\tvideo: () => <video controls src={ mediaUrl } />,\n\t};\n\tconst className = clsx( {\n\t\t'has-media-on-the-right': 'right' === mediaPosition,\n\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\n\t\t'is-image-fill-element': imageFill,\n\t} );\n\n\tlet gridTemplateColumns;\n\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\n\t\tgridTemplateColumns =\n\t\t\t'right' === mediaPosition\n\t\t\t\t? `auto ${ mediaWidth }%`\n\t\t\t\t: `${ mediaWidth }% auto`;\n\t}\n\tconst style = {\n\t\tgridTemplateColumns,\n\t};\n\n\tif ( 'right' === mediaPosition ) {\n\t\treturn (\n\t\t\t<div { ...useBlockProps.save( { className, style } ) }>\n\t\t\t\t<div\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\t\tclassName: 'wp-block-media-text__content',\n\t\t\t\t\t} ) }\n\t\t\t\t/>\n\t\t\t\t<figure className=\"wp-block-media-text__media\">\n\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t\t</figure>\n\t\t\t</div>\n\t\t);\n\t}\n\treturn (\n\t\t<div { ...useBlockProps.save( { className, style } ) }>\n\t\t\t<figure className=\"wp-block-media-text__media\">\n\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t</figure>\n\t\t\t<div\n\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\tclassName: 'wp-block-media-text__content',\n\t\t\t\t} ) }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}