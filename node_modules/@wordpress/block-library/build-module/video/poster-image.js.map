{"version":3,"names":["MediaUpload","MediaUploadCheck","Button","BaseControl","__experimentalToolsPanelItem","ToolsPanelItem","__","sprintf","useRef","jsx","_jsx","jsxs","_jsxs","PosterImage","poster","setAttributes","instanceId","posterImageButton","VIDEO_POSTER_ALLOWED_MEDIA_TYPES","videoPosterDescription","onSelectPoster","image","url","onRemovePoster","undefined","current","focus","label","isShownByDefault","hasValue","onDeselect","children","className","VisualLabel","title","onSelect","allowedTypes","render","open","__next40pxDefaultSize","variant","onClick","ref","id","hidden"],"sources":["@wordpress/block-library/src/video/poster-image.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport {\n\tButton,\n\tBaseControl,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useRef } from '@wordpress/element';\n\nfunction PosterImage( { poster, setAttributes, instanceId } ) {\n\tconst posterImageButton = useRef();\n\tconst VIDEO_POSTER_ALLOWED_MEDIA_TYPES = [ 'image' ];\n\n\tconst videoPosterDescription = `video-block__poster-image-description-${ instanceId }`;\n\n\tfunction onSelectPoster( image ) {\n\t\tsetAttributes( { poster: image.url } );\n\t}\n\n\tfunction onRemovePoster() {\n\t\tsetAttributes( { poster: undefined } );\n\n\t\t// Move focus back to the Media Upload button.\n\t\tposterImageButton.current.focus();\n\t}\n\n\treturn (\n\t\t<ToolsPanelItem\n\t\t\tlabel={ __( 'Poster image' ) }\n\t\t\tisShownByDefault\n\t\t\thasValue={ () => !! poster }\n\t\t\tonDeselect={ () => {\n\t\t\t\tsetAttributes( { poster: '' } );\n\t\t\t} }\n\t\t>\n\t\t\t<MediaUploadCheck>\n\t\t\t\t<div className=\"editor-video-poster-control\">\n\t\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t\t{ __( 'Poster image' ) }\n\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\ttitle={ __( 'Select poster image' ) }\n\t\t\t\t\t\tonSelect={ onSelectPoster }\n\t\t\t\t\t\tallowedTypes={ VIDEO_POSTER_ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\tref={ posterImageButton }\n\t\t\t\t\t\t\t\taria-describedby={ videoPosterDescription }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ ! poster ? __( 'Select' ) : __( 'Replace' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<p id={ videoPosterDescription } hidden>\n\t\t\t\t\t\t{ poster\n\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: poster image URL. */\n\t\t\t\t\t\t\t\t\t__( 'The current poster image url is %s' ),\n\t\t\t\t\t\t\t\t\tposter\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t'There is no poster image currently selected'\n\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t</p>\n\t\t\t\t\t{ !! poster && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tonClick={ onRemovePoster }\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Remove' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</MediaUploadCheck>\n\t\t</ToolsPanelItem>\n\t);\n}\n\nexport default PosterImage;\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,yBAAyB;AACvE,SACCC,MAAM,EACNC,WAAW,EACXC,4BAA4B,IAAIC,cAAc,QACxC,uBAAuB;AAC9B,SAASC,EAAE,EAAEC,OAAO,QAAQ,iBAAiB;AAC7C,SAASC,MAAM,QAAQ,oBAAoB;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAE5C,SAASC,WAAWA,CAAE;EAAEC,MAAM;EAAEC,aAAa;EAAEC;AAAW,CAAC,EAAG;EAC7D,MAAMC,iBAAiB,GAAGT,MAAM,CAAC,CAAC;EAClC,MAAMU,gCAAgC,GAAG,CAAE,OAAO,CAAE;EAEpD,MAAMC,sBAAsB,GAAG,yCAA0CH,UAAU,EAAG;EAEtF,SAASI,cAAcA,CAAEC,KAAK,EAAG;IAChCN,aAAa,CAAE;MAAED,MAAM,EAAEO,KAAK,CAACC;IAAI,CAAE,CAAC;EACvC;EAEA,SAASC,cAAcA,CAAA,EAAG;IACzBR,aAAa,CAAE;MAAED,MAAM,EAAEU;IAAU,CAAE,CAAC;;IAEtC;IACAP,iBAAiB,CAACQ,OAAO,CAACC,KAAK,CAAC,CAAC;EAClC;EAEA,oBACChB,IAAA,CAACL,cAAc;IACdsB,KAAK,EAAGrB,EAAE,CAAE,cAAe,CAAG;IAC9BsB,gBAAgB;IAChBC,QAAQ,EAAGA,CAAA,KAAM,CAAC,CAAEf,MAAQ;IAC5BgB,UAAU,EAAGA,CAAA,KAAM;MAClBf,aAAa,CAAE;QAAED,MAAM,EAAE;MAAG,CAAE,CAAC;IAChC,CAAG;IAAAiB,QAAA,eAEHrB,IAAA,CAACT,gBAAgB;MAAA8B,QAAA,eAChBnB,KAAA;QAAKoB,SAAS,EAAC,6BAA6B;QAAAD,QAAA,gBAC3CrB,IAAA,CAACP,WAAW,CAAC8B,WAAW;UAAAF,QAAA,EACrBzB,EAAE,CAAE,cAAe;QAAC,CACE,CAAC,eAC1BI,IAAA,CAACV,WAAW;UACXkC,KAAK,EAAG5B,EAAE,CAAE,qBAAsB,CAAG;UACrC6B,QAAQ,EAAGf,cAAgB;UAC3BgB,YAAY,EAAGlB,gCAAkC;UACjDmB,MAAM,EAAGA,CAAE;YAAEC;UAAK,CAAC,kBAClB5B,IAAA,CAACR,MAAM;YACNqC,qBAAqB;YACrBC,OAAO,EAAC,SAAS;YACjBC,OAAO,EAAGH,IAAM;YAChBI,GAAG,EAAGzB,iBAAmB;YACzB,oBAAmBE,sBAAwB;YAAAY,QAAA,EAEzC,CAAEjB,MAAM,GAAGR,EAAE,CAAE,QAAS,CAAC,GAAGA,EAAE,CAAE,SAAU;UAAC,CACtC;QACN,CACH,CAAC,eACFI,IAAA;UAAGiC,EAAE,EAAGxB,sBAAwB;UAACyB,MAAM;UAAAb,QAAA,EACpCjB,MAAM,GACLP,OAAO,CACP;UACAD,EAAE,CAAE,oCAAqC,CAAC,EAC1CQ,MACA,CAAC,GACDR,EAAE,CACF,6CACA;QAAC,CACF,CAAC,EACF,CAAC,CAAEQ,MAAM,iBACVJ,IAAA,CAACR,MAAM;UACNqC,qBAAqB;UACrBE,OAAO,EAAGlB,cAAgB;UAC1BiB,OAAO,EAAC,UAAU;UAAAT,QAAA,EAEhBzB,EAAE,CAAE,QAAS;QAAC,CACT,CACR;MAAA,CACG;IAAC,CACW;EAAC,CACJ,CAAC;AAEnB;AAEA,eAAeO,WAAW","ignoreList":[]}