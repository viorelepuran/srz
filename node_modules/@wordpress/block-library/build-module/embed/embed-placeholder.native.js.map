{"version":3,"names":["View","Text","TouchableOpacity","__","usePreferredColorSchemeStyle","Icon","Picker","BlockIcon","useRef","styles","noticeOutline","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","hitSlop","top","bottom","left","right","EmbedPlaceholder","icon","isSelected","label","onPress","cannotEmbed","fallback","tryAgain","openEmbedLinkSettings","containerSelectedStyle","containerStyle","embed__container","labelStyle","embed__label","descriptionStyle","embed__description","descriptionErrorStyle","actionStyle","embed__action","embedIconErrorStyle","buttonStyles","embed__button","iconStyles","embed__icon","cannotEmbedMenuPickerRef","errorPickerOptions","retry","id","value","onSelect","convertToLink","editLink","options","filter","Boolean","onPickerSelect","selectedItem","find","item","resolveOnPressEvent","current","presentPicker","children","style","fill","activeOpacity","accessibilityRole","accessibilityHint","disabled","title","ref","onChange","hideCancelButton","leftAlign"],"sources":["@wordpress/block-library/src/embed/embed-placeholder.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { View, Text, TouchableOpacity } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { Icon, Picker } from '@wordpress/components';\nimport { BlockIcon } from '@wordpress/block-editor';\nimport { useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport styles from './styles.scss';\nimport { noticeOutline } from '../../../components/src/mobile/gridicons';\n\nconst hitSlop = { top: 22, bottom: 22, left: 22, right: 22 };\n\nconst EmbedPlaceholder = ( {\n\ticon,\n\tisSelected,\n\tlabel,\n\tonPress,\n\tcannotEmbed,\n\tfallback,\n\ttryAgain,\n\topenEmbedLinkSettings,\n} ) => {\n\tconst containerSelectedStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed__container-selected' ],\n\t\tstyles[ 'embed__container-selected--dark' ]\n\t);\n\tconst containerStyle = [\n\t\tusePreferredColorSchemeStyle(\n\t\t\tstyles.embed__container,\n\t\t\tstyles[ 'embed__container--dark' ]\n\t\t),\n\t\tisSelected && containerSelectedStyle,\n\t];\n\tconst labelStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__label,\n\t\tstyles[ 'embed__label--dark' ]\n\t);\n\tconst descriptionStyle = styles.embed__description;\n\tconst descriptionErrorStyle = styles[ 'embed__description--error' ];\n\tconst actionStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__action,\n\t\tstyles[ 'embed__action--dark' ]\n\t);\n\tconst embedIconErrorStyle = styles[ 'embed__icon--error' ];\n\n\tconst buttonStyles = usePreferredColorSchemeStyle(\n\t\tstyles.embed__button,\n\t\tstyles[ 'embed__button--dark' ]\n\t);\n\tconst iconStyles = usePreferredColorSchemeStyle(\n\t\tstyles.embed__icon,\n\t\tstyles[ 'embed__icon--dark' ]\n\t);\n\n\tconst cannotEmbedMenuPickerRef = useRef();\n\n\tconst errorPickerOptions = {\n\t\tretry: {\n\t\t\tid: 'retryOption',\n\t\t\tlabel: __( 'Retry' ),\n\t\t\tvalue: 'retryOption',\n\t\t\tonSelect: tryAgain,\n\t\t},\n\t\tconvertToLink: {\n\t\t\tid: 'convertToLinkOption',\n\t\t\tlabel: __( 'Convert to link' ),\n\t\t\tvalue: 'convertToLinkOption',\n\t\t\tonSelect: fallback,\n\t\t},\n\t\teditLink: {\n\t\t\tid: 'editLinkOption',\n\t\t\tlabel: __( 'Edit link' ),\n\t\t\tvalue: 'editLinkOption',\n\t\t\tonSelect: openEmbedLinkSettings,\n\t\t},\n\t};\n\n\tconst options = [\n\t\tcannotEmbed && errorPickerOptions.retry,\n\t\tcannotEmbed && errorPickerOptions.convertToLink,\n\t\tcannotEmbed && errorPickerOptions.editLink,\n\t].filter( Boolean );\n\n\tfunction onPickerSelect( value ) {\n\t\tconst selectedItem = options.find( ( item ) => item.value === value );\n\t\tselectedItem.onSelect();\n\t}\n\n\t// When the content cannot be embedded the onPress should trigger the Picker instead of the onPress prop.\n\tfunction resolveOnPressEvent() {\n\t\tif ( cannotEmbed ) {\n\t\t\tcannotEmbedMenuPickerRef.current?.presentPicker();\n\t\t} else {\n\t\t\tonPress();\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<View style={ containerStyle }>\n\t\t\t\t{ cannotEmbed ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={ noticeOutline }\n\t\t\t\t\t\t\tfill={ embedIconErrorStyle.fill }\n\t\t\t\t\t\t\tstyle={ embedIconErrorStyle }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={ [\n\t\t\t\t\t\t\t\tdescriptionStyle,\n\t\t\t\t\t\t\t\tdescriptionErrorStyle,\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Unable to embed media' ) }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tactiveOpacity={ 0.5 }\n\t\t\t\t\t\t\taccessibilityRole=\"button\"\n\t\t\t\t\t\t\taccessibilityHint={ __(\n\t\t\t\t\t\t\t\t'Double tap to view embed options.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tstyle={ buttonStyles }\n\t\t\t\t\t\t\thitSlop={ hitSlop }\n\t\t\t\t\t\t\tonPress={ resolveOnPressEvent }\n\t\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text style={ actionStyle }>\n\t\t\t\t\t\t\t\t{ __( 'More options' ) }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t<Picker\n\t\t\t\t\t\t\ttitle={ __( 'Embed options' ) }\n\t\t\t\t\t\t\tref={ cannotEmbedMenuPickerRef }\n\t\t\t\t\t\t\toptions={ options }\n\t\t\t\t\t\t\tonChange={ onPickerSelect }\n\t\t\t\t\t\t\thideCancelButton\n\t\t\t\t\t\t\tleftAlign\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<View style={ styles[ 'embed__placeholder-header' ] }>\n\t\t\t\t\t\t\t<BlockIcon icon={ icon } fill={ iconStyles.fill } />\n\t\t\t\t\t\t\t<Text style={ labelStyle }>{ label }</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tactiveOpacity={ 0.5 }\n\t\t\t\t\t\t\taccessibilityRole=\"button\"\n\t\t\t\t\t\t\taccessibilityHint={ __(\n\t\t\t\t\t\t\t\t'Double tap to add a link.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tstyle={ buttonStyles }\n\t\t\t\t\t\t\thitSlop={ hitSlop }\n\t\t\t\t\t\t\tonPress={ resolveOnPressEvent }\n\t\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text style={ actionStyle }>\n\t\t\t\t\t\t\t\t{ __( 'Add link' ) }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</View>\n\t\t</>\n\t);\n};\n\nexport default EmbedPlaceholder;\n"],"mappings":"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","ignoreList":[]}