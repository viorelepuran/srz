{"version":3,"names":["TouchableOpacity","TouchableWithoutFeedback","Text","View","__","sprintf","useRef","useState","usePreferredColorSchemeStyle","requestPreview","useSelect","store","editorStore","BottomSheet","Icon","TextControl","help","BlockIcon","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EmbedNoPreview","label","icon","isSelected","onPress","previewable","isDefaultEmbedInfo","shouldRequestReview","isSheetVisible","setIsSheetVisible","postType","select","getEditedPostAttribute","containerStyle","embed__container","labelStyle","embed__label","descriptionStyle","embed__description","helpIconStyle","sheetIconStyle","sheetTitleStyle","sheetDescriptionStyle","sheetButtonStyle","previewButtonA11yHint","previewButtonText","comingSoonDescription","onOpenSheet","onCloseSheet","onDismissSheet","current","onPressContainer","onPressHelp","embedNoProviderPreview","children","accessibilityRole","accessibilityHint","disabled","style","embed__action","toUpperCase","accessibilityLabel","fill","size","width","isVisible","hideHeader","onDismiss","onClose","testID","separatorType"],"sources":["@wordpress/block-library/src/embed/embed-no-preview.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { TouchableOpacity, TouchableWithoutFeedback, Text } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { View } from '@wordpress/primitives';\n\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useRef, useState } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { requestPreview } from '@wordpress/react-native-bridge';\nimport { useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { BottomSheet, Icon, TextControl } from '@wordpress/components';\nimport { help } from '@wordpress/icons';\nimport { BlockIcon } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport styles from './styles.scss';\n\nconst EmbedNoPreview = ( {\n\tlabel,\n\ticon,\n\tisSelected,\n\tonPress,\n\tpreviewable,\n\tisDefaultEmbedInfo,\n} ) => {\n\tconst shouldRequestReview = useRef( false );\n\tconst [ isSheetVisible, setIsSheetVisible ] = useState( false );\n\n\tconst { postType } = useSelect( ( select ) => ( {\n\t\tpostType: select( editorStore ).getEditedPostAttribute( 'type' ),\n\t} ) );\n\n\tconst containerStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__container,\n\t\tstyles[ 'embed__container--dark' ]\n\t);\n\tconst labelStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__label,\n\t\tstyles[ 'embed__label--dark' ]\n\t);\n\tconst descriptionStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__description,\n\t\tstyles[ 'embed__description--dark' ]\n\t);\n\tconst helpIconStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__help-icon' ],\n\t\tstyles[ 'embed-no-preview__help-icon--dark' ]\n\t);\n\n\tconst sheetIconStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-icon' ],\n\t\tstyles[ 'embed-no-preview__sheet-icon--dark' ]\n\t);\n\tconst sheetTitleStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-title' ],\n\t\tstyles[ 'embed-no-preview__sheet-title--dark' ]\n\t);\n\tconst sheetDescriptionStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-description' ],\n\t\tstyles[ 'embed-no-preview__sheet-description--dark' ]\n\t);\n\tconst sheetButtonStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-button' ],\n\t\tstyles[ 'embed-no-preview__sheet-button--dark' ]\n\t);\n\n\tconst previewButtonA11yHint =\n\t\tpostType === 'page'\n\t\t\t? __( 'Double tap to preview page.' )\n\t\t\t: __( 'Double tap to preview post.' );\n\tconst previewButtonText =\n\t\tpostType === 'page' ? __( 'Preview page' ) : __( 'Preview post' );\n\tconst comingSoonDescription =\n\t\tpostType === 'page'\n\t\t\t? sprintf(\n\t\t\t\t\t// translators: %s: embed block variant's label e.g: \"Twitter\".\n\t\t\t\t\t__(\n\t\t\t\t\t\t'We’re working hard on adding support for %s previews. In the meantime, you can preview the embedded content on the page.'\n\t\t\t\t\t),\n\t\t\t\t\tlabel\n\t\t\t  )\n\t\t\t: sprintf(\n\t\t\t\t\t// translators: %s: embed block variant's label e.g: \"Twitter\".\n\t\t\t\t\t__(\n\t\t\t\t\t\t'We’re working hard on adding support for %s previews. In the meantime, you can preview the embedded content on the post.'\n\t\t\t\t\t),\n\t\t\t\t\tlabel\n\t\t\t  );\n\n\tfunction onOpenSheet() {\n\t\tsetIsSheetVisible( true );\n\t}\n\n\tfunction onCloseSheet() {\n\t\tsetIsSheetVisible( false );\n\t}\n\n\tfunction onDismissSheet() {\n\t\t// The preview request has to be done after the bottom sheet modal is dismissed,\n\t\t// otherwise the preview native modal is not displayed.\n\t\tif ( shouldRequestReview.current ) {\n\t\t\trequestPreview();\n\t\t}\n\t\tshouldRequestReview.current = false;\n\t}\n\n\tfunction onPressContainer() {\n\t\tonPress();\n\t\tonOpenSheet();\n\t}\n\n\tfunction onPressHelp() {\n\t\tonPressContainer();\n\t}\n\n\tconst embedNoProviderPreview = (\n\t\t<>\n\t\t\t<TouchableWithoutFeedback\n\t\t\t\taccessibilityRole=\"button\"\n\t\t\t\taccessibilityHint={ previewButtonA11yHint }\n\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\tonPress={ onPressContainer }\n\t\t\t>\n\t\t\t\t<View style={ containerStyle }>\n\t\t\t\t\t<BlockIcon icon={ icon } />\n\t\t\t\t\t<Text style={ labelStyle }>{ label }</Text>\n\t\t\t\t\t<Text style={ descriptionStyle }>\n\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t// translators: %s: embed block variant's label e.g: \"Twitter\".\n\t\t\t\t\t\t\t__( '%s previews not yet available' ),\n\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text style={ styles.embed__action }>\n\t\t\t\t\t\t{ previewButtonText.toUpperCase() }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\taccessibilityHint={ __( 'Tap here to show help' ) }\n\t\t\t\t\t\taccessibilityLabel={ __( 'Help button' ) }\n\t\t\t\t\t\taccessibilityRole=\"button\"\n\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t\tonPress={ onPressHelp }\n\t\t\t\t\t\tstyle={ helpIconStyle }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={ help }\n\t\t\t\t\t\t\tfill={ helpIconStyle.fill }\n\t\t\t\t\t\t\tsize={ helpIconStyle.width }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</View>\n\t\t\t</TouchableWithoutFeedback>\n\t\t\t<BottomSheet\n\t\t\t\tisVisible={ isSheetVisible }\n\t\t\t\thideHeader\n\t\t\t\tonDismiss={ onDismissSheet }\n\t\t\t\tonClose={ onCloseSheet }\n\t\t\t\ttestID=\"embed-no-preview-modal\"\n\t\t\t>\n\t\t\t\t<View style={ styles[ 'embed-no-preview__container' ] }>\n\t\t\t\t\t<View style={ sheetIconStyle }>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={ help }\n\t\t\t\t\t\t\tfill={ sheetIconStyle.fill }\n\t\t\t\t\t\t\tsize={ sheetIconStyle.width }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</View>\n\t\t\t\t\t<Text style={ sheetTitleStyle }>\n\t\t\t\t\t\t{ isDefaultEmbedInfo\n\t\t\t\t\t\t\t? __( 'Embed block previews are coming soon' )\n\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t// translators: %s: embed block variant's label e.g: \"Twitter\".\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'%s embed block previews are coming soon'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text style={ sheetDescriptionStyle }>\n\t\t\t\t\t\t{ comingSoonDescription }\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ previewButtonText }\n\t\t\t\t\tseparatorType=\"topFullWidth\"\n\t\t\t\t\tonPress={ () => {\n\t\t\t\t\t\tshouldRequestReview.current = true;\n\t\t\t\t\t\tonCloseSheet();\n\t\t\t\t\t} }\n\t\t\t\t\tlabelStyle={ sheetButtonStyle }\n\t\t\t\t/>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ __( 'Dismiss' ) }\n\t\t\t\t\tseparatorType=\"topFullWidth\"\n\t\t\t\t\tonPress={ onCloseSheet }\n\t\t\t\t\tlabelStyle={ sheetButtonStyle }\n\t\t\t\t/>\n\t\t\t</BottomSheet>\n\t\t</>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ previewable ? (\n\t\t\t\tembedNoProviderPreview\n\t\t\t) : (\n\t\t\t\t<View style={ containerStyle }>\n\t\t\t\t\t<BlockIcon icon={ icon } />\n\t\t\t\t\t<Text style={ labelStyle }>\n\t\t\t\t\t\t{ __( 'No preview available' ) }\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nexport default EmbedNoPreview;\n"],"mappings":"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","ignoreList":[]}