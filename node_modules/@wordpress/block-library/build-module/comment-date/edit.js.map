{"version":3,"names":["useEntityProp","dateI18n","humanTimeDiff","getSettings","getDateSettings","InspectorControls","useBlockProps","__experimentalDateFormatPicker","DateFormatPicker","PanelBody","ToggleControl","__","_x","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Edit","attributes","format","isLink","context","commentId","setAttributes","blockProps","date","siteFormat","formats","inspectorControls","children","title","defaultFormat","onChange","nextFormat","__nextHasNoMarginBottom","label","checked","commentDate","Date","dateTime","href","onClick","event","preventDefault"],"sources":["@wordpress/block-library/src/comment-date/edit.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEntityProp } from '@wordpress/core-data';\nimport {\n\tdateI18n,\n\thumanTimeDiff,\n\tgetSettings as getDateSettings,\n} from '@wordpress/date';\nimport {\n\tInspectorControls,\n\tuseBlockProps,\n\t__experimentalDateFormatPicker as DateFormatPicker,\n} from '@wordpress/block-editor';\nimport { PanelBody, ToggleControl } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\n\n/**\n * Renders the `core/comment-date` block on the editor.\n *\n * @param {Object} props                   React props.\n * @param {Object} props.setAttributes     Callback for updating block attributes.\n * @param {Object} props.attributes        Block attributes.\n * @param {string} props.attributes.format Format of the date.\n * @param {string} props.attributes.isLink Whether the author name should be linked.\n * @param {Object} props.context           Inherited context.\n * @param {string} props.context.commentId The comment ID.\n *\n * @return {JSX.Element} React element.\n */\nexport default function Edit( {\n\tattributes: { format, isLink },\n\tcontext: { commentId },\n\tsetAttributes,\n} ) {\n\tconst blockProps = useBlockProps();\n\tlet [ date ] = useEntityProp( 'root', 'comment', 'date', commentId );\n\tconst [ siteFormat = getDateSettings().formats.date ] = useEntityProp(\n\t\t'root',\n\t\t'site',\n\t\t'date_format'\n\t);\n\n\tconst inspectorControls = (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t<DateFormatPicker\n\t\t\t\t\tformat={ format }\n\t\t\t\t\tdefaultFormat={ siteFormat }\n\t\t\t\t\tonChange={ ( nextFormat ) =>\n\t\t\t\t\t\tsetAttributes( { format: nextFormat } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Link to comment' ) }\n\t\t\t\t\tonChange={ () => setAttributes( { isLink: ! isLink } ) }\n\t\t\t\t\tchecked={ isLink }\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n\tif ( ! commentId || ! date ) {\n\t\tdate = _x( 'Comment Date', 'block title' );\n\t}\n\n\tlet commentDate =\n\t\tdate instanceof Date ? (\n\t\t\t<time dateTime={ dateI18n( 'c', date ) }>\n\t\t\t\t{ format === 'human-diff'\n\t\t\t\t\t? humanTimeDiff( date )\n\t\t\t\t\t: dateI18n( format || siteFormat, date ) }\n\t\t\t</time>\n\t\t) : (\n\t\t\t<time>{ date }</time>\n\t\t);\n\n\tif ( isLink ) {\n\t\tcommentDate = (\n\t\t\t<a\n\t\t\t\thref=\"#comment-date-pseudo-link\"\n\t\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t>\n\t\t\t\t{ commentDate }\n\t\t\t</a>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ inspectorControls }\n\t\t\t<div { ...blockProps }>{ commentDate }</div>\n\t\t</>\n\t);\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,aAAa,QAAQ,sBAAsB;AACpD,SACCC,QAAQ,EACRC,aAAa,EACbC,WAAW,IAAIC,eAAe,QACxB,iBAAiB;AACxB,SACCC,iBAAiB,EACjBC,aAAa,EACbC,8BAA8B,IAAIC,gBAAgB,QAC5C,yBAAyB;AAChC,SAASC,SAAS,EAAEC,aAAa,QAAQ,uBAAuB;AAChE,SAASC,EAAE,EAAEC,EAAE,QAAQ,iBAAiB;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA,EAAAC,QAAA,IAAAC,SAAA;AAaA,eAAe,SAASC,IAAIA,CAAE;EAC7BC,UAAU,EAAE;IAAEC,MAAM;IAAEC;EAAO,CAAC;EAC9BC,OAAO,EAAE;IAAEC;EAAU,CAAC;EACtBC;AACD,CAAC,EAAG;EACH,MAAMC,UAAU,GAAGpB,aAAa,CAAC,CAAC;EAClC,IAAI,CAAEqB,IAAI,CAAE,GAAG3B,aAAa,CAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAEwB,SAAU,CAAC;EACpE,MAAM,CAAEI,UAAU,GAAGxB,eAAe,CAAC,CAAC,CAACyB,OAAO,CAACF,IAAI,CAAE,GAAG3B,aAAa,CACpE,MAAM,EACN,MAAM,EACN,aACD,CAAC;EAED,MAAM8B,iBAAiB,gBACtBhB,IAAA,CAACT,iBAAiB;IAAA0B,QAAA,eACjBf,KAAA,CAACP,SAAS;MAACuB,KAAK,EAAGrB,EAAE,CAAE,UAAW,CAAG;MAAAoB,QAAA,gBACpCjB,IAAA,CAACN,gBAAgB;QAChBa,MAAM,EAAGA,MAAQ;QACjBY,aAAa,EAAGL,UAAY;QAC5BM,QAAQ,EAAKC,UAAU,IACtBV,aAAa,CAAE;UAAEJ,MAAM,EAAEc;QAAW,CAAE;MACtC,CACD,CAAC,eACFrB,IAAA,CAACJ,aAAa;QACb0B,uBAAuB;QACvBC,KAAK,EAAG1B,EAAE,CAAE,iBAAkB,CAAG;QACjCuB,QAAQ,EAAGA,CAAA,KAAMT,aAAa,CAAE;UAAEH,MAAM,EAAE,CAAEA;QAAO,CAAE,CAAG;QACxDgB,OAAO,EAAGhB;MAAQ,CAClB,CAAC;IAAA,CACQ;EAAC,CACM,CACnB;EAED,IAAK,CAAEE,SAAS,IAAI,CAAEG,IAAI,EAAG;IAC5BA,IAAI,GAAGf,EAAE,CAAE,cAAc,EAAE,aAAc,CAAC;EAC3C;EAEA,IAAI2B,WAAW,GACdZ,IAAI,YAAYa,IAAI,gBACnB1B,IAAA;IAAM2B,QAAQ,EAAGxC,QAAQ,CAAE,GAAG,EAAE0B,IAAK,CAAG;IAAAI,QAAA,EACrCV,MAAM,KAAK,YAAY,GACtBnB,aAAa,CAAEyB,IAAK,CAAC,GACrB1B,QAAQ,CAAEoB,MAAM,IAAIO,UAAU,EAAED,IAAK;EAAC,CACpC,CAAC,gBAEPb,IAAA;IAAAiB,QAAA,EAAQJ;EAAI,CAAQ,CACpB;EAEF,IAAKL,MAAM,EAAG;IACbiB,WAAW,gBACVzB,IAAA;MACC4B,IAAI,EAAC,2BAA2B;MAChCC,OAAO,EAAKC,KAAK,IAAMA,KAAK,CAACC,cAAc,CAAC,CAAG;MAAAd,QAAA,EAE7CQ;IAAW,CACX,CACH;EACF;EAEA,oBACCvB,KAAA,CAAAE,SAAA;IAAAa,QAAA,GACGD,iBAAiB,eACnBhB,IAAA;MAAA,GAAUY,UAAU;MAAAK,QAAA,EAAKQ;IAAW,CAAO,CAAC;EAAA,CAC3C,CAAC;AAEL","ignoreList":[]}