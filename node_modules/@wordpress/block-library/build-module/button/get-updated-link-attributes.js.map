{"version":3,"names":["NEW_TAB_REL","NEW_TAB_TARGET","NOFOLLOW_REL","prependHTTP","getUpdatedLinkAttributes","rel","url","opensInNewTab","nofollow","newLinkTarget","updatedRel","includes","relRegex","RegExp","replace","trim","linkTarget","undefined"],"sources":["@wordpress/block-library/src/button/get-updated-link-attributes.js"],"sourcesContent":["/**\n * Internal dependencies\n */\nimport { NEW_TAB_REL, NEW_TAB_TARGET, NOFOLLOW_REL } from './constants';\n\n/**\n * WordPress dependencies\n */\nimport { prependHTTP } from '@wordpress/url';\n\n/**\n * Updates the link attributes.\n *\n * @param {Object}  attributes               The current block attributes.\n * @param {string}  attributes.rel           The current link rel attribute.\n * @param {string}  attributes.url           The current link url.\n * @param {boolean} attributes.opensInNewTab Whether the link should open in a new window.\n * @param {boolean} attributes.nofollow      Whether the link should be marked as nofollow.\n */\nexport function getUpdatedLinkAttributes( {\n\trel = '',\n\turl = '',\n\topensInNewTab,\n\tnofollow,\n} ) {\n\tlet newLinkTarget;\n\t// Since `rel` is editable attribute, we need to check for existing values and proceed accordingly.\n\tlet updatedRel = rel;\n\n\tif ( opensInNewTab ) {\n\t\tnewLinkTarget = NEW_TAB_TARGET;\n\t\tupdatedRel = updatedRel?.includes( NEW_TAB_REL )\n\t\t\t? updatedRel\n\t\t\t: updatedRel + ` ${ NEW_TAB_REL }`;\n\t} else {\n\t\tconst relRegex = new RegExp( `\\\\b${ NEW_TAB_REL }\\\\s*`, 'g' );\n\t\tupdatedRel = updatedRel?.replace( relRegex, '' ).trim();\n\t}\n\n\tif ( nofollow ) {\n\t\tupdatedRel = updatedRel?.includes( NOFOLLOW_REL )\n\t\t\t? updatedRel\n\t\t\t: ( updatedRel + ` ${ NOFOLLOW_REL }` ).trim();\n\t} else {\n\t\tconst relRegex = new RegExp( `\\\\b${ NOFOLLOW_REL }\\\\s*`, 'g' );\n\t\tupdatedRel = updatedRel?.replace( relRegex, '' ).trim();\n\t}\n\n\treturn {\n\t\turl: prependHTTP( url ),\n\t\tlinkTarget: newLinkTarget,\n\t\trel: updatedRel || undefined,\n\t};\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,WAAW,EAAEC,cAAc,EAAEC,YAAY,QAAQ,aAAa;;AAEvE;AACA;AACA;AACA,SAASC,WAAW,QAAQ,gBAAgB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,wBAAwBA,CAAE;EACzCC,GAAG,GAAG,EAAE;EACRC,GAAG,GAAG,EAAE;EACRC,aAAa;EACbC;AACD,CAAC,EAAG;EACH,IAAIC,aAAa;EACjB;EACA,IAAIC,UAAU,GAAGL,GAAG;EAEpB,IAAKE,aAAa,EAAG;IACpBE,aAAa,GAAGR,cAAc;IAC9BS,UAAU,GAAGA,UAAU,EAAEC,QAAQ,CAAEX,WAAY,CAAC,GAC7CU,UAAU,GACVA,UAAU,GAAG,IAAKV,WAAW,EAAG;EACpC,CAAC,MAAM;IACN,MAAMY,QAAQ,GAAG,IAAIC,MAAM,CAAE,MAAOb,WAAW,MAAO,EAAE,GAAI,CAAC;IAC7DU,UAAU,GAAGA,UAAU,EAAEI,OAAO,CAAEF,QAAQ,EAAE,EAAG,CAAC,CAACG,IAAI,CAAC,CAAC;EACxD;EAEA,IAAKP,QAAQ,EAAG;IACfE,UAAU,GAAGA,UAAU,EAAEC,QAAQ,CAAET,YAAa,CAAC,GAC9CQ,UAAU,GACV,CAAEA,UAAU,GAAG,IAAKR,YAAY,EAAG,EAAGa,IAAI,CAAC,CAAC;EAChD,CAAC,MAAM;IACN,MAAMH,QAAQ,GAAG,IAAIC,MAAM,CAAE,MAAOX,YAAY,MAAO,EAAE,GAAI,CAAC;IAC9DQ,UAAU,GAAGA,UAAU,EAAEI,OAAO,CAAEF,QAAQ,EAAE,EAAG,CAAC,CAACG,IAAI,CAAC,CAAC;EACxD;EAEA,OAAO;IACNT,GAAG,EAAEH,WAAW,CAAEG,GAAI,CAAC;IACvBU,UAAU,EAAEP,aAAa;IACzBJ,GAAG,EAAEK,UAAU,IAAIO;EACpB,CAAC;AACF","ignoreList":[]}