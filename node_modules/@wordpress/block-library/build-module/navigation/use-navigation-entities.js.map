{"version":3,"names":["useEntityRecords","useNavigationEntities","menuId","records","menus","isResolving","isResolvingMenus","hasResolved","hasResolvedMenus","per_page","context","pages","isResolvingPages","hasResolvedPages","parent","order","orderby","menuItems","hasResolvedMenuItems","enabled","hasPages","length","hasMenus"],"sources":["@wordpress/block-library/src/navigation/use-navigation-entities.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEntityRecords } from '@wordpress/core-data';\n\n/**\n * @typedef {Object} NavigationEntitiesData\n * @property {Array|undefined} pages                - a collection of WP Post entity objects of post type \"Page\".\n * @property {boolean}         isResolvingPages     - indicates whether the request to fetch pages is currently resolving.\n * @property {boolean}         hasResolvedPages     - indicates whether the request to fetch pages has finished resolving.\n * @property {Array|undefined} menus                - a collection of Menu entity objects.\n * @property {boolean}         isResolvingMenus     - indicates whether the request to fetch menus is currently resolving.\n * @property {boolean}         hasResolvedMenus     - indicates whether the request to fetch menus has finished resolving.\n * @property {Array|undefined} menusItems           - a collection of Menu Item entity objects for the current menuId.\n * @property {boolean}         hasResolvedMenuItems - indicates whether the request to fetch menuItems has finished resolving.\n * @property {boolean}         hasPages             - indicates whether there is currently any data for pages.\n * @property {boolean}         hasMenus             - indicates whether there is currently any data for menus.\n */\n\n/**\n * Manages fetching and resolution state for all entities required\n * for the Navigation block.\n *\n * @param {number} menuId the menu for which to retrieve menuItem data.\n * @return { NavigationEntitiesData } the entity data.\n */\nexport default function useNavigationEntities( menuId ) {\n\tconst {\n\t\trecords: menus,\n\t\tisResolving: isResolvingMenus,\n\t\thasResolved: hasResolvedMenus,\n\t} = useEntityRecords( 'root', 'menu', { per_page: -1, context: 'view' } );\n\n\tconst {\n\t\trecords: pages,\n\t\tisResolving: isResolvingPages,\n\t\thasResolved: hasResolvedPages,\n\t} = useEntityRecords( 'postType', 'page', {\n\t\tparent: 0,\n\t\torder: 'asc',\n\t\torderby: 'id',\n\t\tper_page: -1,\n\t\tcontext: 'view',\n\t} );\n\n\tconst { records: menuItems, hasResolved: hasResolvedMenuItems } =\n\t\tuseEntityRecords(\n\t\t\t'root',\n\t\t\t'menuItem',\n\t\t\t{\n\t\t\t\tmenus: menuId,\n\t\t\t\tper_page: -1,\n\t\t\t\tcontext: 'view',\n\t\t\t},\n\t\t\t{ enabled: !! menuId }\n\t\t);\n\n\treturn {\n\t\tpages,\n\t\tisResolvingPages,\n\t\thasResolvedPages,\n\t\thasPages: !! ( hasResolvedPages && pages?.length ),\n\n\t\tmenus,\n\t\tisResolvingMenus,\n\t\thasResolvedMenus,\n\t\thasMenus: !! ( hasResolvedMenus && menus?.length ),\n\n\t\tmenuItems,\n\t\thasResolvedMenuItems,\n\t};\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,gBAAgB,QAAQ,sBAAsB;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,qBAAqBA,CAAEC,MAAM,EAAG;EACvD,MAAM;IACLC,OAAO,EAAEC,KAAK;IACdC,WAAW,EAAEC,gBAAgB;IAC7BC,WAAW,EAAEC;EACd,CAAC,GAAGR,gBAAgB,CAAE,MAAM,EAAE,MAAM,EAAE;IAAES,QAAQ,EAAE,CAAC,CAAC;IAAEC,OAAO,EAAE;EAAO,CAAE,CAAC;EAEzE,MAAM;IACLP,OAAO,EAAEQ,KAAK;IACdN,WAAW,EAAEO,gBAAgB;IAC7BL,WAAW,EAAEM;EACd,CAAC,GAAGb,gBAAgB,CAAE,UAAU,EAAE,MAAM,EAAE;IACzCc,MAAM,EAAE,CAAC;IACTC,KAAK,EAAE,KAAK;IACZC,OAAO,EAAE,IAAI;IACbP,QAAQ,EAAE,CAAC,CAAC;IACZC,OAAO,EAAE;EACV,CAAE,CAAC;EAEH,MAAM;IAAEP,OAAO,EAAEc,SAAS;IAAEV,WAAW,EAAEW;EAAqB,CAAC,GAC9DlB,gBAAgB,CACf,MAAM,EACN,UAAU,EACV;IACCI,KAAK,EAAEF,MAAM;IACbO,QAAQ,EAAE,CAAC,CAAC;IACZC,OAAO,EAAE;EACV,CAAC,EACD;IAAES,OAAO,EAAE,CAAC,CAAEjB;EAAO,CACtB,CAAC;EAEF,OAAO;IACNS,KAAK;IACLC,gBAAgB;IAChBC,gBAAgB;IAChBO,QAAQ,EAAE,CAAC,EAAIP,gBAAgB,IAAIF,KAAK,EAAEU,MAAM,CAAE;IAElDjB,KAAK;IACLE,gBAAgB;IAChBE,gBAAgB;IAChBc,QAAQ,EAAE,CAAC,EAAId,gBAAgB,IAAIJ,KAAK,EAAEiB,MAAM,CAAE;IAElDJ,SAAS;IACTC;EACD,CAAC;AACF","ignoreList":[]}