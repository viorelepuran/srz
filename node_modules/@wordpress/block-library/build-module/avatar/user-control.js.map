{"version":3,"names":["__","ComboboxControl","useSelect","store","coreStore","useState","jsx","_jsx","AUTHORS_QUERY","who","per_page","_fields","context","UserControl","value","onChange","filteredAuthorsList","setFilteredAuthorsList","authorsList","select","getUsers","options","map","author","label","name","id","__next40pxDefaultSize","__nextHasNoMarginBottom","help","onFilterValueChange","inputValue","filter","option","toLowerCase","startsWith"],"sources":["@wordpress/block-library/src/avatar/user-control.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { ComboboxControl } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useState } from '@wordpress/element';\n\nconst AUTHORS_QUERY = {\n\twho: 'authors',\n\tper_page: -1,\n\t_fields: 'id,name',\n\tcontext: 'view',\n};\n\nfunction UserControl( { value, onChange } ) {\n\tconst [ filteredAuthorsList, setFilteredAuthorsList ] = useState();\n\tconst authorsList = useSelect( ( select ) => {\n\t\tconst { getUsers } = select( coreStore );\n\t\treturn getUsers( AUTHORS_QUERY );\n\t}, [] );\n\tif ( ! authorsList ) {\n\t\treturn null;\n\t}\n\n\tconst options = authorsList.map( ( author ) => {\n\t\treturn {\n\t\t\tlabel: author.name,\n\t\t\tvalue: author.id,\n\t\t};\n\t} );\n\n\treturn (\n\t\t<ComboboxControl\n\t\t\t__next40pxDefaultSize\n\t\t\t__nextHasNoMarginBottom\n\t\t\tlabel={ __( 'User' ) }\n\t\t\thelp={ __(\n\t\t\t\t'Select the avatar user to display, if it is blank it will use the post/page author.'\n\t\t\t) }\n\t\t\tvalue={ value }\n\t\t\tonChange={ onChange }\n\t\t\toptions={ filteredAuthorsList || options }\n\t\t\tonFilterValueChange={ ( inputValue ) =>\n\t\t\t\tsetFilteredAuthorsList(\n\t\t\t\t\toptions.filter( ( option ) =>\n\t\t\t\t\t\toption.label\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.startsWith( inputValue.toLowerCase() )\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t);\n}\n\nexport default UserControl;\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SAASC,eAAe,QAAQ,uBAAuB;AACvD,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;AACzD,SAASC,QAAQ,QAAQ,oBAAoB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE9C,MAAMC,aAAa,GAAG;EACrBC,GAAG,EAAE,SAAS;EACdC,QAAQ,EAAE,CAAC,CAAC;EACZC,OAAO,EAAE,SAAS;EAClBC,OAAO,EAAE;AACV,CAAC;AAED,SAASC,WAAWA,CAAE;EAAEC,KAAK;EAAEC;AAAS,CAAC,EAAG;EAC3C,MAAM,CAAEC,mBAAmB,EAAEC,sBAAsB,CAAE,GAAGZ,QAAQ,CAAC,CAAC;EAClE,MAAMa,WAAW,GAAGhB,SAAS,CAAIiB,MAAM,IAAM;IAC5C,MAAM;MAAEC;IAAS,CAAC,GAAGD,MAAM,CAAEf,SAAU,CAAC;IACxC,OAAOgB,QAAQ,CAAEZ,aAAc,CAAC;EACjC,CAAC,EAAE,EAAG,CAAC;EACP,IAAK,CAAEU,WAAW,EAAG;IACpB,OAAO,IAAI;EACZ;EAEA,MAAMG,OAAO,GAAGH,WAAW,CAACI,GAAG,CAAIC,MAAM,IAAM;IAC9C,OAAO;MACNC,KAAK,EAAED,MAAM,CAACE,IAAI;MAClBX,KAAK,EAAES,MAAM,CAACG;IACf,CAAC;EACF,CAAE,CAAC;EAEH,oBACCnB,IAAA,CAACN,eAAe;IACf0B,qBAAqB;IACrBC,uBAAuB;IACvBJ,KAAK,EAAGxB,EAAE,CAAE,MAAO,CAAG;IACtB6B,IAAI,EAAG7B,EAAE,CACR,qFACD,CAAG;IACHc,KAAK,EAAGA,KAAO;IACfC,QAAQ,EAAGA,QAAU;IACrBM,OAAO,EAAGL,mBAAmB,IAAIK,OAAS;IAC1CS,mBAAmB,EAAKC,UAAU,IACjCd,sBAAsB,CACrBI,OAAO,CAACW,MAAM,CAAIC,MAAM,IACvBA,MAAM,CAACT,KAAK,CACVU,WAAW,CAAC,CAAC,CACbC,UAAU,CAAEJ,UAAU,CAACG,WAAW,CAAC,CAAE,CACxC,CACD;EACA,CACD,CAAC;AAEJ;AAEA,eAAerB,WAAW","ignoreList":[]}