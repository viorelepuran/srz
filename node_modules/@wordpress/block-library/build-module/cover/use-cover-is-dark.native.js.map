{"version":3,"names":["colord","useEffect","useState","useCoverIsDark","initialValue","url","dimRatio","overlayColor","isDark","setIsDark"],"sources":["@wordpress/block-library/src/cover/use-cover-is-dark.native.js"],"sourcesContent":["/**\n * External dependencies\n */\n\nimport { colord } from 'colord';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useState } from '@wordpress/element';\n\n/**\n * useCoverIsDark is a hook that returns a boolean variable specifying if the cover\n * background is dark or not.\n *\n * @param {?boolean} initialValue Initial value.\n * @param {?string}  url          Url of the media background.\n * @param {?number}  dimRatio     Transparency of the overlay color. If an image and\n *                                color are set, dimRatio is used to decide what is used\n *                                for background darkness checking purposes.\n * @param {?string}  overlayColor String containing the overlay color value if one exists.\n *\n * @return {boolean} True if the cover background is considered \"dark\" and false otherwise.\n */\nexport default function useCoverIsDark(\n\tinitialValue = false,\n\turl,\n\tdimRatio = 50,\n\toverlayColor\n) {\n\tconst [ isDark, setIsDark ] = useState( initialValue );\n\tuseEffect( () => {\n\t\t// If opacity is greater than 50 the dominant color is the overlay color,\n\t\t// so use that color for the dark mode computation.\n\t\tif ( dimRatio > 50 || ! url ) {\n\t\t\tif ( ! overlayColor ) {\n\t\t\t\t// If no overlay color exists the overlay color is black (isDark )\n\t\t\t\tsetIsDark( true );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetIsDark( colord( overlayColor ).isDark() );\n\t\t}\n\t}, [ overlayColor, dimRatio > 50 || ! url, setIsDark ] );\n\tuseEffect( () => {\n\t\tif ( ! url && ! overlayColor ) {\n\t\t\t// Reset isDark.\n\t\t\tsetIsDark( false );\n\t\t}\n\t}, [ ! url && ! overlayColor, setIsDark ] );\n\treturn isDark;\n}\n"],"mappings":"AAAA;AACA;AACA;;AAEA,SAASA,MAAM,QAAQ,QAAQ;;AAE/B;AACA;AACA;AACA,SAASC,SAAS,EAAEC,QAAQ,QAAQ,oBAAoB;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,cAAcA,CACrCC,YAAY,GAAG,KAAK,EACpBC,GAAG,EACHC,QAAQ,GAAG,EAAE,EACbC,YAAY,EACX;EACD,MAAM,CAAEC,MAAM,EAAEC,SAAS,CAAE,GAAGP,QAAQ,CAAEE,YAAa,CAAC;EACtDH,SAAS,CAAE,MAAM;IAChB;IACA;IACA,IAAKK,QAAQ,GAAG,EAAE,IAAI,CAAED,GAAG,EAAG;MAC7B,IAAK,CAAEE,YAAY,EAAG;QACrB;QACAE,SAAS,CAAE,IAAK,CAAC;QACjB;MACD;MACAA,SAAS,CAAET,MAAM,CAAEO,YAAa,CAAC,CAACC,MAAM,CAAC,CAAE,CAAC;IAC7C;EACD,CAAC,EAAE,CAAED,YAAY,EAAED,QAAQ,GAAG,EAAE,IAAI,CAAED,GAAG,EAAEI,SAAS,CAAG,CAAC;EACxDR,SAAS,CAAE,MAAM;IAChB,IAAK,CAAEI,GAAG,IAAI,CAAEE,YAAY,EAAG;MAC9B;MACAE,SAAS,CAAE,KAAM,CAAC;IACnB;EACD,CAAC,EAAE,CAAE,CAAEJ,GAAG,IAAI,CAAEE,YAAY,EAAEE,SAAS,CAAG,CAAC;EAC3C,OAAOD,MAAM;AACd","ignoreList":[]}