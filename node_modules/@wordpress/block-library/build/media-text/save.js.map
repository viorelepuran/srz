{"version":3,"names":["_clsx","_interopRequireDefault","require","_blockEditor","_imageFill","_constants","_jsxRuntime","DEFAULT_MEDIA_WIDTH","noop","save","attributes","isStackedOnMobile","mediaAlt","mediaPosition","mediaType","mediaUrl","mediaWidth","mediaId","verticalAlignment","imageFill","focalPoint","linkClass","href","linkTarget","rel","mediaSizeSlug","DEFAULT_MEDIA_SIZE_SLUG","newRel","undefined","imageClasses","clsx","positionStyles","imageFillStyles","image","jsx","src","alt","className","style","target","children","mediaTypeRenders","video","controls","gridTemplateColumns","jsxs","useBlockProps","useInnerBlocksProps"],"sources":["@wordpress/block-library/src/media-text/save.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { imageFillStyles } from './image-fill';\nimport { DEFAULT_MEDIA_SIZE_SLUG } from './constants';\n\nconst DEFAULT_MEDIA_WIDTH = 50;\nconst noop = () => {};\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\tisStackedOnMobile,\n\t\tmediaAlt,\n\t\tmediaPosition,\n\t\tmediaType,\n\t\tmediaUrl,\n\t\tmediaWidth,\n\t\tmediaId,\n\t\tverticalAlignment,\n\t\timageFill,\n\t\tfocalPoint,\n\t\tlinkClass,\n\t\thref,\n\t\tlinkTarget,\n\t\trel,\n\t} = attributes;\n\tconst mediaSizeSlug = attributes.mediaSizeSlug || DEFAULT_MEDIA_SIZE_SLUG;\n\tconst newRel = ! rel ? undefined : rel;\n\n\tconst imageClasses = clsx( {\n\t\t[ `wp-image-${ mediaId }` ]: mediaId && mediaType === 'image',\n\t\t[ `size-${ mediaSizeSlug }` ]: mediaId && mediaType === 'image',\n\t} );\n\n\tconst positionStyles = imageFill\n\t\t? imageFillStyles( mediaUrl, focalPoint )\n\t\t: {};\n\n\tlet image = mediaUrl ? (\n\t\t<img\n\t\t\tsrc={ mediaUrl }\n\t\t\talt={ mediaAlt }\n\t\t\tclassName={ imageClasses || null }\n\t\t\tstyle={ positionStyles }\n\t\t/>\n\t) : null;\n\n\tif ( href ) {\n\t\timage = (\n\t\t\t<a\n\t\t\t\tclassName={ linkClass }\n\t\t\t\thref={ href }\n\t\t\t\ttarget={ linkTarget }\n\t\t\t\trel={ newRel }\n\t\t\t>\n\t\t\t\t{ image }\n\t\t\t</a>\n\t\t);\n\t}\n\n\tconst mediaTypeRenders = {\n\t\timage: () => image,\n\t\tvideo: () => <video controls src={ mediaUrl } />,\n\t};\n\tconst className = clsx( {\n\t\t'has-media-on-the-right': 'right' === mediaPosition,\n\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\n\t\t'is-image-fill-element': imageFill,\n\t} );\n\n\tlet gridTemplateColumns;\n\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\n\t\tgridTemplateColumns =\n\t\t\t'right' === mediaPosition\n\t\t\t\t? `auto ${ mediaWidth }%`\n\t\t\t\t: `${ mediaWidth }% auto`;\n\t}\n\tconst style = {\n\t\tgridTemplateColumns,\n\t};\n\n\tif ( 'right' === mediaPosition ) {\n\t\treturn (\n\t\t\t<div { ...useBlockProps.save( { className, style } ) }>\n\t\t\t\t<div\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\t\tclassName: 'wp-block-media-text__content',\n\t\t\t\t\t} ) }\n\t\t\t\t/>\n\t\t\t\t<figure className=\"wp-block-media-text__media\">\n\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t\t</figure>\n\t\t\t</div>\n\t\t);\n\t}\n\treturn (\n\t\t<div { ...useBlockProps.save( { className, style } ) }>\n\t\t\t<figure className=\"wp-block-media-text__media\">\n\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t</figure>\n\t\t\t<div\n\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\tclassName: 'wp-block-media-text__content',\n\t\t\t\t} ) }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}