{"version":3,"names":["_i18n","require","_components","_blockEditor","_jsxRuntime","SCALE_OPTIONS","jsxs","Fragment","children","jsx","__experimentalToggleGroupControlOption","value","label","_x","DEFAULT_SCALE","scaleHelp","cover","__","contain","fill","DimensionControls","clientId","attributes","aspectRatio","width","height","scale","setAttributes","availableUnits","defaultRatios","themeRatios","showDefaultRatios","useSettings","units","useCustomUnits","onDimensionChange","dimension","nextValue","parsedValue","parseFloat","isNaN","scaleLabel","showScaleControl","themeOptions","map","name","ratio","defaultOptions","aspectRatioOptions","__experimentalToolsPanelItem","hasValue","onDeselect","undefined","resetAllFilter","isShownByDefault","panelId","SelectControl","__next40pxDefaultSize","__nextHasNoMarginBottom","options","onChange","nextAspectRatio","className","__experimentalUnitControl","labelPosition","min","nextHeight","nextWidth","__experimentalToggleGroupControl","help","isBlock","_default","exports","default"],"sources":["@wordpress/block-library/src/post-featured-image/dimension-controls.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tSelectControl,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { useSettings } from '@wordpress/block-editor';\n\nconst SCALE_OPTIONS = (\n\t<>\n\t\t<ToggleGroupControlOption\n\t\t\tvalue=\"cover\"\n\t\t\tlabel={ _x( 'Cover', 'Scale option for Image dimension control' ) }\n\t\t/>\n\t\t<ToggleGroupControlOption\n\t\t\tvalue=\"contain\"\n\t\t\tlabel={ _x(\n\t\t\t\t'Contain',\n\t\t\t\t'Scale option for Image dimension control'\n\t\t\t) }\n\t\t/>\n\t\t<ToggleGroupControlOption\n\t\t\tvalue=\"fill\"\n\t\t\tlabel={ _x( 'Fill', 'Scale option for Image dimension control' ) }\n\t\t/>\n\t</>\n);\n\nconst DEFAULT_SCALE = 'cover';\n\nconst scaleHelp = {\n\tcover: __(\n\t\t'Image is scaled and cropped to fill the entire space without being distorted.'\n\t),\n\tcontain: __(\n\t\t'Image is scaled to fill the space without clipping nor distorting.'\n\t),\n\tfill: __(\n\t\t'Image will be stretched and distorted to completely fill the space.'\n\t),\n};\n\nconst DimensionControls = ( {\n\tclientId,\n\tattributes: { aspectRatio, width, height, scale },\n\tsetAttributes,\n} ) => {\n\tconst [ availableUnits, defaultRatios, themeRatios, showDefaultRatios ] =\n\t\tuseSettings(\n\t\t\t'spacing.units',\n\t\t\t'dimensions.aspectRatios.default',\n\t\t\t'dimensions.aspectRatios.theme',\n\t\t\t'dimensions.defaultAspectRatios'\n\t\t);\n\tconst units = useCustomUnits( {\n\t\tavailableUnits: availableUnits || [ 'px', '%', 'vw', 'em', 'rem' ],\n\t} );\n\n\tconst onDimensionChange = ( dimension, nextValue ) => {\n\t\tconst parsedValue = parseFloat( nextValue );\n\t\t/**\n\t\t * If we have no value set and we change the unit,\n\t\t * we don't want to set the attribute, as it would\n\t\t * end up having the unit as value without any number.\n\t\t */\n\t\tif ( isNaN( parsedValue ) && nextValue ) {\n\t\t\treturn;\n\t\t}\n\t\tsetAttributes( {\n\t\t\t[ dimension ]: parsedValue < 0 ? '0' : nextValue,\n\t\t} );\n\t};\n\tconst scaleLabel = _x( 'Scale', 'Image scaling options' );\n\n\tconst showScaleControl =\n\t\theight || ( aspectRatio && aspectRatio !== 'auto' );\n\n\tconst themeOptions = themeRatios?.map( ( { name, ratio } ) => ( {\n\t\tlabel: name,\n\t\tvalue: ratio,\n\t} ) );\n\n\tconst defaultOptions = defaultRatios?.map( ( { name, ratio } ) => ( {\n\t\tlabel: name,\n\t\tvalue: ratio,\n\t} ) );\n\n\tconst aspectRatioOptions = [\n\t\t{\n\t\t\tlabel: _x(\n\t\t\t\t'Original',\n\t\t\t\t'Aspect ratio option for dimensions control'\n\t\t\t),\n\t\t\tvalue: 'auto',\n\t\t},\n\t\t...( showDefaultRatios ? defaultOptions : [] ),\n\t\t...( themeOptions ? themeOptions : [] ),\n\t];\n\n\treturn (\n\t\t<>\n\t\t\t<ToolsPanelItem\n\t\t\t\thasValue={ () => !! aspectRatio }\n\t\t\t\tlabel={ __( 'Aspect ratio' ) }\n\t\t\t\tonDeselect={ () => setAttributes( { aspectRatio: undefined } ) }\n\t\t\t\tresetAllFilter={ () => ( {\n\t\t\t\t\taspectRatio: undefined,\n\t\t\t\t} ) }\n\t\t\t\tisShownByDefault\n\t\t\t\tpanelId={ clientId }\n\t\t\t>\n\t\t\t\t<SelectControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Aspect ratio' ) }\n\t\t\t\t\tvalue={ aspectRatio }\n\t\t\t\t\toptions={ aspectRatioOptions }\n\t\t\t\t\tonChange={ ( nextAspectRatio ) =>\n\t\t\t\t\t\tsetAttributes( { aspectRatio: nextAspectRatio } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</ToolsPanelItem>\n\t\t\t<ToolsPanelItem\n\t\t\t\tclassName=\"single-column\"\n\t\t\t\thasValue={ () => !! height }\n\t\t\t\tlabel={ __( 'Height' ) }\n\t\t\t\tonDeselect={ () => setAttributes( { height: undefined } ) }\n\t\t\t\tresetAllFilter={ () => ( {\n\t\t\t\t\theight: undefined,\n\t\t\t\t} ) }\n\t\t\t\tisShownByDefault\n\t\t\t\tpanelId={ clientId }\n\t\t\t>\n\t\t\t\t<UnitControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tlabel={ __( 'Height' ) }\n\t\t\t\t\tlabelPosition=\"top\"\n\t\t\t\t\tvalue={ height || '' }\n\t\t\t\t\tmin={ 0 }\n\t\t\t\t\tonChange={ ( nextHeight ) =>\n\t\t\t\t\t\tonDimensionChange( 'height', nextHeight )\n\t\t\t\t\t}\n\t\t\t\t\tunits={ units }\n\t\t\t\t/>\n\t\t\t</ToolsPanelItem>\n\t\t\t<ToolsPanelItem\n\t\t\t\tclassName=\"single-column\"\n\t\t\t\thasValue={ () => !! width }\n\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\tonDeselect={ () => setAttributes( { width: undefined } ) }\n\t\t\t\tresetAllFilter={ () => ( {\n\t\t\t\t\twidth: undefined,\n\t\t\t\t} ) }\n\t\t\t\tisShownByDefault\n\t\t\t\tpanelId={ clientId }\n\t\t\t>\n\t\t\t\t<UnitControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\tlabelPosition=\"top\"\n\t\t\t\t\tvalue={ width || '' }\n\t\t\t\t\tmin={ 0 }\n\t\t\t\t\tonChange={ ( nextWidth ) =>\n\t\t\t\t\t\tonDimensionChange( 'width', nextWidth )\n\t\t\t\t\t}\n\t\t\t\t\tunits={ units }\n\t\t\t\t/>\n\t\t\t</ToolsPanelItem>\n\t\t\t{ showScaleControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ () => !! scale && scale !== DEFAULT_SCALE }\n\t\t\t\t\tlabel={ scaleLabel }\n\t\t\t\t\tonDeselect={ () =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tscale: DEFAULT_SCALE,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tresetAllFilter={ () => ( {\n\t\t\t\t\t\tscale: DEFAULT_SCALE,\n\t\t\t\t\t} ) }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t\tpanelId={ clientId }\n\t\t\t\t>\n\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ scaleLabel }\n\t\t\t\t\t\tvalue={ scale }\n\t\t\t\t\t\thelp={ scaleHelp[ scale ] }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tscale: value,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisBlock\n\t\t\t\t\t>\n\t\t\t\t\t\t{ SCALE_OPTIONS }\n\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nexport default DimensionControls;\n"],"mappings":"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","ignoreList":[]}