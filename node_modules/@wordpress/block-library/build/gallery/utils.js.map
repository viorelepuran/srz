{"version":3,"names":["_constants","require","_constants2","getHrefAndDestination","image","galleryDestination","imageDestination","attributes","lightboxSetting","LINK_DESTINATION_MEDIA_WP_CORE","LINK_DESTINATION_MEDIA","href","source_url","url","linkDestination","IMAGE_LINK_DESTINATION_MEDIA","lightbox","enabled","undefined","LINK_DESTINATION_ATTACHMENT_WP_CORE","LINK_DESTINATION_ATTACHMENT","link","IMAGE_LINK_DESTINATION_ATTACHMENT","LINK_DESTINATION_LIGHTBOX","IMAGE_LINK_DESTINATION_NONE","LINK_DESTINATION_NONE"],"sources":["@wordpress/block-library/src/gallery/utils.js"],"sourcesContent":["/**\n * Internal dependencies\n */\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA,\n\tLINK_DESTINATION_NONE,\n\tLINK_DESTINATION_MEDIA_WP_CORE,\n\tLINK_DESTINATION_ATTACHMENT_WP_CORE,\n\tLINK_DESTINATION_LIGHTBOX,\n} from './constants';\nimport {\n\tLINK_DESTINATION_ATTACHMENT as IMAGE_LINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA as IMAGE_LINK_DESTINATION_MEDIA,\n\tLINK_DESTINATION_NONE as IMAGE_LINK_DESTINATION_NONE,\n} from '../image/constants';\n\n/**\n * Determines new href and linkDestination values for an Image block from the\n * supplied Gallery link destination, or falls back to the Image blocks link.\n *\n * @param {Object} image              Gallery image.\n * @param {string} galleryDestination Gallery's selected link destination.\n * @param {Object} imageDestination   Image block link destination attribute.\n * @param {Object} attributes         Block attributes.\n * @param {Object} lightboxSetting    Lightbox setting.\n *\n * @return {Object}            New attributes to assign to image block.\n */\nexport function getHrefAndDestination(\n\timage,\n\tgalleryDestination,\n\timageDestination,\n\tattributes,\n\tlightboxSetting\n) {\n\t// Gutenberg and WordPress use different constants so if image_default_link_type\n\t// option is set we need to map from the WP Core values.\n\tswitch ( imageDestination ? imageDestination : galleryDestination ) {\n\t\tcase LINK_DESTINATION_MEDIA_WP_CORE:\n\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\treturn {\n\t\t\t\thref: image?.source_url || image?.url, // eslint-disable-line camelcase\n\t\t\t\tlinkDestination: IMAGE_LINK_DESTINATION_MEDIA,\n\t\t\t\tlightbox: lightboxSetting?.enabled\n\t\t\t\t\t? { ...attributes?.lightbox, enabled: false }\n\t\t\t\t\t: undefined,\n\t\t\t};\n\t\tcase LINK_DESTINATION_ATTACHMENT_WP_CORE:\n\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\treturn {\n\t\t\t\thref: image?.link,\n\t\t\t\tlinkDestination: IMAGE_LINK_DESTINATION_ATTACHMENT,\n\t\t\t\tlightbox: lightboxSetting?.enabled\n\t\t\t\t\t? { ...attributes?.lightbox, enabled: false }\n\t\t\t\t\t: undefined,\n\t\t\t};\n\t\tcase LINK_DESTINATION_LIGHTBOX:\n\t\t\treturn {\n\t\t\t\thref: undefined,\n\t\t\t\tlightbox: ! lightboxSetting?.enabled\n\t\t\t\t\t? { ...attributes?.lightbox, enabled: true }\n\t\t\t\t\t: undefined,\n\t\t\t\tlinkDestination: IMAGE_LINK_DESTINATION_NONE,\n\t\t\t};\n\t\tcase LINK_DESTINATION_NONE:\n\t\t\treturn {\n\t\t\t\thref: undefined,\n\t\t\t\tlinkDestination: IMAGE_LINK_DESTINATION_NONE,\n\t\t\t\tlightbox: undefined,\n\t\t\t};\n\t}\n\n\treturn {};\n}\n"],"mappings":";;;;;;AAGA,IAAAA,UAAA,GAAAC,OAAA;AAQA,IAAAC,WAAA,GAAAD,OAAA;AAXA;AACA;AACA;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASE,qBAAqBA,CACpCC,KAAK,EACLC,kBAAkB,EAClBC,gBAAgB,EAChBC,UAAU,EACVC,eAAe,EACd;EACD;EACA;EACA,QAASF,gBAAgB,GAAGA,gBAAgB,GAAGD,kBAAkB;IAChE,KAAKI,yCAA8B;IACnC,KAAKC,iCAAsB;MAC1B,OAAO;QACNC,IAAI,EAAEP,KAAK,EAAEQ,UAAU,IAAIR,KAAK,EAAES,GAAG;QAAE;QACvCC,eAAe,EAAEC,kCAA4B;QAC7CC,QAAQ,EAAER,eAAe,EAAES,OAAO,GAC/B;UAAE,GAAGV,UAAU,EAAES,QAAQ;UAAEC,OAAO,EAAE;QAAM,CAAC,GAC3CC;MACJ,CAAC;IACF,KAAKC,8CAAmC;IACxC,KAAKC,sCAA2B;MAC/B,OAAO;QACNT,IAAI,EAAEP,KAAK,EAAEiB,IAAI;QACjBP,eAAe,EAAEQ,uCAAiC;QAClDN,QAAQ,EAAER,eAAe,EAAES,OAAO,GAC/B;UAAE,GAAGV,UAAU,EAAES,QAAQ;UAAEC,OAAO,EAAE;QAAM,CAAC,GAC3CC;MACJ,CAAC;IACF,KAAKK,oCAAyB;MAC7B,OAAO;QACNZ,IAAI,EAAEO,SAAS;QACfF,QAAQ,EAAE,CAAER,eAAe,EAAES,OAAO,GACjC;UAAE,GAAGV,UAAU,EAAES,QAAQ;UAAEC,OAAO,EAAE;QAAK,CAAC,GAC1CC,SAAS;QACZJ,eAAe,EAAEU;MAClB,CAAC;IACF,KAAKC,gCAAqB;MACzB,OAAO;QACNd,IAAI,EAAEO,SAAS;QACfJ,eAAe,EAAEU,iCAA2B;QAC5CR,QAAQ,EAAEE;MACX,CAAC;EACH;EAEA,OAAO,CAAC,CAAC;AACV","ignoreList":[]}