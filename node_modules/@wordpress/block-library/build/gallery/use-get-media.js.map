{"version":3,"names":["_data","require","_coreData","EMPTY_IMAGE_MEDIA","useGetMedia","innerBlockImages","useSelect","select","_select$getMediaItems","imageIds","map","imageBlock","attributes","id","filter","undefined","length","coreStore","getMediaItems","include","join","per_page","orderby"],"sources":["@wordpress/block-library/src/gallery/use-get-media.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\nconst EMPTY_IMAGE_MEDIA = [];\n\n/**\n * Retrieves the extended media info for each gallery image from the store. This is used to\n * determine which image size options are available for the current gallery.\n *\n * @param {Array} innerBlockImages An array of the innerBlock images currently in the gallery.\n *\n * @return {Array} An array of media info options for each gallery image.\n */\nexport default function useGetMedia( innerBlockImages ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst imageIds = innerBlockImages\n\t\t\t\t.map( ( imageBlock ) => imageBlock.attributes.id )\n\t\t\t\t.filter( ( id ) => id !== undefined );\n\n\t\t\tif ( imageIds.length === 0 ) {\n\t\t\t\treturn EMPTY_IMAGE_MEDIA;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\tselect( coreStore ).getMediaItems( {\n\t\t\t\t\tinclude: imageIds.join( ',' ),\n\t\t\t\t\tper_page: -1,\n\t\t\t\t\torderby: 'include',\n\t\t\t\t} ) ?? EMPTY_IMAGE_MEDIA\n\t\t\t);\n\t\t},\n\t\t[ innerBlockImages ]\n\t);\n}\n"],"mappings":";;;;;;AAGA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AAJA;AACA;AACA;;AAIA,MAAME,iBAAiB,GAAG,EAAE;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASC,WAAWA,CAAEC,gBAAgB,EAAG;EACvD,OAAO,IAAAC,eAAS,EACbC,MAAM,IAAM;IAAA,IAAAC,qBAAA;IACb,MAAMC,QAAQ,GAAGJ,gBAAgB,CAC/BK,GAAG,CAAIC,UAAU,IAAMA,UAAU,CAACC,UAAU,CAACC,EAAG,CAAC,CACjDC,MAAM,CAAID,EAAE,IAAMA,EAAE,KAAKE,SAAU,CAAC;IAEtC,IAAKN,QAAQ,CAACO,MAAM,KAAK,CAAC,EAAG;MAC5B,OAAOb,iBAAiB;IACzB;IAEA,QAAAK,qBAAA,GACCD,MAAM,CAAEU,eAAU,CAAC,CAACC,aAAa,CAAE;MAClCC,OAAO,EAAEV,QAAQ,CAACW,IAAI,CAAE,GAAI,CAAC;MAC7BC,QAAQ,EAAE,CAAC,CAAC;MACZC,OAAO,EAAE;IACV,CAAE,CAAC,cAAAd,qBAAA,cAAAA,qBAAA,GAAIL,iBAAiB;EAE1B,CAAC,EACD,CAAEE,gBAAgB,CACnB,CAAC;AACF","ignoreList":[]}