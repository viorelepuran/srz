{"version":3,"names":["_blockEditor","require","_components","_element","_icons","_i18n","_url","_serverSideRender","_interopRequireDefault","_jsxRuntime","DEFAULT_MIN_ITEMS","DEFAULT_MAX_ITEMS","RSSEdit","attributes","setAttributes","isEditing","setIsEditing","useState","feedURL","blockLayout","columns","displayAuthor","displayDate","displayExcerpt","excerptLength","itemsToShow","openInNewTab","rel","toggleAttribute","propName","value","onSubmitURL","event","preventDefault","prependHTTP","blockProps","useBlockProps","label","__","jsx","children","Placeholder","icon","rss","instructions","jsxs","onSubmit","className","__experimentalInputControl","__next40pxDefaultSize","type","hideLabelFromVision","placeholder","onChange","Button","variant","toolbarControls","edit","title","onClick","list","_x","isActive","grid","serverSideAttributes","style","border","undefined","spacing","Fragment","BlockControls","ToolbarGroup","controls","InspectorControls","PanelBody","RangeControl","__nextHasNoMarginBottom","min","max","required","ToggleControl","checked","group","TextControl","Disabled","default","block"],"sources":["@wordpress/block-library/src/rss/edit.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tBlockControls,\n\tInspectorControls,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport {\n\tButton,\n\tDisabled,\n\tPanelBody,\n\tPlaceholder,\n\tRangeControl,\n\tToggleControl,\n\tToolbarGroup,\n\tTextControl,\n\t__experimentalInputControl as InputControl,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { grid, list, edit, rss } from '@wordpress/icons';\nimport { __, _x } from '@wordpress/i18n';\nimport { prependHTTP } from '@wordpress/url';\nimport ServerSideRender from '@wordpress/server-side-render';\n\nconst DEFAULT_MIN_ITEMS = 1;\nconst DEFAULT_MAX_ITEMS = 20;\n\nexport default function RSSEdit( { attributes, setAttributes } ) {\n\tconst [ isEditing, setIsEditing ] = useState( ! attributes.feedURL );\n\n\tconst {\n\t\tblockLayout,\n\t\tcolumns,\n\t\tdisplayAuthor,\n\t\tdisplayDate,\n\t\tdisplayExcerpt,\n\t\texcerptLength,\n\t\tfeedURL,\n\t\titemsToShow,\n\t\topenInNewTab,\n\t\trel,\n\t} = attributes;\n\n\tfunction toggleAttribute( propName ) {\n\t\treturn () => {\n\t\t\tconst value = attributes[ propName ];\n\n\t\t\tsetAttributes( { [ propName ]: ! value } );\n\t\t};\n\t}\n\n\tfunction onSubmitURL( event ) {\n\t\tevent.preventDefault();\n\n\t\tif ( feedURL ) {\n\t\t\tsetAttributes( { feedURL: prependHTTP( feedURL ) } );\n\t\t\tsetIsEditing( false );\n\t\t}\n\t}\n\n\tconst blockProps = useBlockProps();\n\n\tconst label = __( 'RSS URL' );\n\n\tif ( isEditing ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<Placeholder\n\t\t\t\t\ticon={ rss }\n\t\t\t\t\tlabel={ label }\n\t\t\t\t\tinstructions={ __(\n\t\t\t\t\t\t'Display entries from any RSS or Atom feed.'\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t<form\n\t\t\t\t\t\tonSubmit={ onSubmitURL }\n\t\t\t\t\t\tclassName=\"wp-block-rss__placeholder-form\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\tplaceholder={ __( 'Enter URL hereâ€¦' ) }\n\t\t\t\t\t\t\tvalue={ feedURL }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { feedURL: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName=\"wp-block-rss__placeholder-input\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Apply' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\t\t\t\t</Placeholder>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst toolbarControls = [\n\t\t{\n\t\t\ticon: edit,\n\t\t\ttitle: __( 'Edit RSS URL' ),\n\t\t\tonClick: () => setIsEditing( true ),\n\t\t},\n\t\t{\n\t\t\ticon: list,\n\t\t\ttitle: _x( 'List view', 'RSS block display setting' ),\n\t\t\tonClick: () => setAttributes( { blockLayout: 'list' } ),\n\t\t\tisActive: blockLayout === 'list',\n\t\t},\n\t\t{\n\t\t\ticon: grid,\n\t\t\ttitle: _x( 'Grid view', 'RSS block display setting' ),\n\t\t\tonClick: () => setAttributes( { blockLayout: 'grid' } ),\n\t\t\tisActive: blockLayout === 'grid',\n\t\t},\n\t];\n\n\t/*\n\t * This function merges the existing attributes with additional style properties.\n\t * The `border` and `spacing` properties are set to `undefined` to ensure that\n\t * these styles are reset and not applied on the server side.\n\t */\n\tconst serverSideAttributes = {\n\t\t...attributes,\n\t\tstyle: {\n\t\t\t...attributes?.style,\n\t\t\tborder: undefined,\n\t\t\tspacing: undefined,\n\t\t},\n\t};\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup controls={ toolbarControls } />\n\t\t\t</BlockControls>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Number of items' ) }\n\t\t\t\t\t\tvalue={ itemsToShow }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { itemsToShow: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmin={ DEFAULT_MIN_ITEMS }\n\t\t\t\t\t\tmax={ DEFAULT_MAX_ITEMS }\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Display author' ) }\n\t\t\t\t\t\tchecked={ displayAuthor }\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayAuthor' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Display date' ) }\n\t\t\t\t\t\tchecked={ displayDate }\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayDate' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Display excerpt' ) }\n\t\t\t\t\t\tchecked={ displayExcerpt }\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayExcerpt' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t{ displayExcerpt && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tlabel={ __( 'Max number of words in excerpt' ) }\n\t\t\t\t\t\t\tvalue={ excerptLength }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { excerptLength: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ 10 }\n\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ blockLayout === 'grid' && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { columns: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\t\tmax={ 6 }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Open links in new tab' ) }\n\t\t\t\t\t\tchecked={ openInNewTab }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { openInNewTab: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t<TextControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Link rel' ) }\n\t\t\t\t\tvalue={ rel || '' }\n\t\t\t\t\tonChange={ ( value ) => setAttributes( { rel: value } ) }\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<Disabled>\n\t\t\t\t\t<ServerSideRender\n\t\t\t\t\t\tblock=\"core/rss\"\n\t\t\t\t\t\tattributes={ serverSideAttributes }\n\t\t\t\t\t/>\n\t\t\t\t</Disabled>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}