{"version":3,"names":["_i18n","require","_components","_blockEditor","_keycodes","_blocks","_hooks","_jsxRuntime","DEFAULT_TEXT","__","MoreEdit","attributes","customText","noTeaser","insertBlocksAfter","setAttributes","onChangeInput","event","target","value","onKeyDown","keyCode","ENTER","createBlock","getDefaultBlockName","getHideExcerptHelp","checked","toggleHideExcerpt","style","width","length","dropdownMenuProps","useToolsPanelDropdownMenuProps","jsxs","Fragment","children","jsx","InspectorControls","__experimentalToolsPanel","label","resetAll","__experimentalToolsPanelItem","isShownByDefault","hasValue","onDeselect","ToggleControl","__nextHasNoMarginBottom","onChange","help","useBlockProps","type","placeholder"],"sources":["@wordpress/block-library/src/more/edit.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\tToggleControl,\n} from '@wordpress/components';\nimport { InspectorControls, useBlockProps } from '@wordpress/block-editor';\nimport { ENTER } from '@wordpress/keycodes';\nimport { getDefaultBlockName, createBlock } from '@wordpress/blocks';\n/**\n * Internal dependencies\n */\nimport { useToolsPanelDropdownMenuProps } from '../utils/hooks';\n\nconst DEFAULT_TEXT = __( 'Read more' );\n\nexport default function MoreEdit( {\n\tattributes: { customText, noTeaser },\n\tinsertBlocksAfter,\n\tsetAttributes,\n} ) {\n\tconst onChangeInput = ( event ) => {\n\t\tsetAttributes( {\n\t\t\tcustomText: event.target.value,\n\t\t} );\n\t};\n\n\tconst onKeyDown = ( { keyCode } ) => {\n\t\tif ( keyCode === ENTER ) {\n\t\t\tinsertBlocksAfter( [ createBlock( getDefaultBlockName() ) ] );\n\t\t}\n\t};\n\n\tconst getHideExcerptHelp = ( checked ) =>\n\t\tchecked\n\t\t\t? __( 'The excerpt is hidden.' )\n\t\t\t: __( 'The excerpt is visible.' );\n\n\tconst toggleHideExcerpt = () => setAttributes( { noTeaser: ! noTeaser } );\n\n\tconst style = {\n\t\twidth: `${ ( customText ? customText : DEFAULT_TEXT ).length + 1.2 }em`,\n\t};\n\n\tconst dropdownMenuProps = useToolsPanelDropdownMenuProps();\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<ToolsPanel\n\t\t\t\t\tlabel={ __( 'Settings' ) }\n\t\t\t\t\tresetAll={ () => {\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tnoTeaser: false,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\tdropdownMenuProps={ dropdownMenuProps }\n\t\t\t\t>\n\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\tlabel={ __( 'Hide excerpt' ) }\n\t\t\t\t\t\tisShownByDefault\n\t\t\t\t\t\thasValue={ () => noTeaser }\n\t\t\t\t\t\tonDeselect={ () =>\n\t\t\t\t\t\t\tsetAttributes( { noTeaser: false } )\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t'Hide the excerpt on the full content page'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tchecked={ !! noTeaser }\n\t\t\t\t\t\t\tonChange={ toggleHideExcerpt }\n\t\t\t\t\t\t\thelp={ getHideExcerptHelp }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t</ToolsPanel>\n\t\t\t</InspectorControls>\n\t\t\t<div { ...useBlockProps() }>\n\t\t\t\t<input\n\t\t\t\t\taria-label={ __( '“Read more” link text' ) }\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={ customText }\n\t\t\t\t\tplaceholder={ DEFAULT_TEXT }\n\t\t\t\t\tonChange={ onChangeInput }\n\t\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\t\tstyle={ style }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}