{"version":3,"names":["_blockEditor","require","_coreData","_data","_createTemplatePartId","_getTemplatePartIcon","useTemplatePartAreaLabel","clientId","useSelect","select","getBlock","getBlockParentsByBlockName","blockEditorStore","withAscendingResults","parentTemplatePartClientIds","length","getCurrentTheme","getEditedEntityRecord","coreStore","currentTheme","defaultTemplatePartAreas","default_template_part_areas","definedAreas","map","item","icon","getTemplatePartIcon","templatePartClientId","templatePartBlock","theme","stylesheet","slug","attributes","templatePartEntityId","createTemplatePartId","templatePartEntity","area","find","definedArea","label"],"sources":["@wordpress/block-library/src/navigation/use-template-part-area-label.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\n\n// TODO: this util should perhaps be refactored somewhere like core-data.\nimport { createTemplatePartId } from '../template-part/edit/utils/create-template-part-id';\nimport { getTemplatePartIcon } from '../template-part/edit/utils/get-template-part-icon';\n\nexport default function useTemplatePartAreaLabel( clientId ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\t// Use the lack of a clientId as an opportunity to bypass the rest\n\t\t\t// of this hook.\n\t\t\tif ( ! clientId ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { getBlock, getBlockParentsByBlockName } =\n\t\t\t\tselect( blockEditorStore );\n\n\t\t\tconst withAscendingResults = true;\n\t\t\tconst parentTemplatePartClientIds = getBlockParentsByBlockName(\n\t\t\t\tclientId,\n\t\t\t\t'core/template-part',\n\t\t\t\twithAscendingResults\n\t\t\t);\n\n\t\t\tif ( ! parentTemplatePartClientIds?.length ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { getCurrentTheme, getEditedEntityRecord } =\n\t\t\t\tselect( coreStore );\n\n\t\t\tconst currentTheme = getCurrentTheme();\n\t\t\tconst defaultTemplatePartAreas =\n\t\t\t\tcurrentTheme?.default_template_part_areas || [];\n\n\t\t\tconst definedAreas = defaultTemplatePartAreas.map( ( item ) => ( {\n\t\t\t\t...item,\n\t\t\t\ticon: getTemplatePartIcon( item.icon ),\n\t\t\t} ) );\n\n\t\t\tfor ( const templatePartClientId of parentTemplatePartClientIds ) {\n\t\t\t\tconst templatePartBlock = getBlock( templatePartClientId );\n\n\t\t\t\t// The 'area' usually isn't stored on the block, but instead\n\t\t\t\t// on the entity.\n\t\t\t\tconst { theme = currentTheme?.stylesheet, slug } =\n\t\t\t\t\ttemplatePartBlock.attributes;\n\t\t\t\tconst templatePartEntityId = createTemplatePartId(\n\t\t\t\t\ttheme,\n\t\t\t\t\tslug\n\t\t\t\t);\n\t\t\t\tconst templatePartEntity = getEditedEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'wp_template_part',\n\t\t\t\t\ttemplatePartEntityId\n\t\t\t\t);\n\n\t\t\t\t// Look up the `label` for the area in the defined areas so\n\t\t\t\t// that an internationalized label can be used.\n\t\t\t\tif ( templatePartEntity?.area ) {\n\t\t\t\t\treturn definedAreas.find(\n\t\t\t\t\t\t( definedArea ) =>\n\t\t\t\t\t\t\tdefinedArea.area !== 'uncategorized' &&\n\t\t\t\t\t\t\tdefinedArea.area === templatePartEntity.area\n\t\t\t\t\t)?.label;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[ clientId ]\n\t);\n}\n"],"mappings":";;;;;;AAGA,IAAAA,YAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AAOA,IAAAG,qBAAA,GAAAH,OAAA;AACA,IAAAI,oBAAA,GAAAJ,OAAA;AAbA;AACA;AACA;;AAKA;AACA;AACA;;AAEA;;AAIe,SAASK,wBAAwBA,CAAEC,QAAQ,EAAG;EAC5D,OAAO,IAAAC,eAAS,EACbC,MAAM,IAAM;IACb;IACA;IACA,IAAK,CAAEF,QAAQ,EAAG;MACjB;IACD;IAEA,MAAM;MAAEG,QAAQ;MAAEC;IAA2B,CAAC,GAC7CF,MAAM,CAAEG,kBAAiB,CAAC;IAE3B,MAAMC,oBAAoB,GAAG,IAAI;IACjC,MAAMC,2BAA2B,GAAGH,0BAA0B,CAC7DJ,QAAQ,EACR,oBAAoB,EACpBM,oBACD,CAAC;IAED,IAAK,CAAEC,2BAA2B,EAAEC,MAAM,EAAG;MAC5C;IACD;IAEA,MAAM;MAAEC,eAAe;MAAEC;IAAsB,CAAC,GAC/CR,MAAM,CAAES,eAAU,CAAC;IAEpB,MAAMC,YAAY,GAAGH,eAAe,CAAC,CAAC;IACtC,MAAMI,wBAAwB,GAC7BD,YAAY,EAAEE,2BAA2B,IAAI,EAAE;IAEhD,MAAMC,YAAY,GAAGF,wBAAwB,CAACG,GAAG,CAAIC,IAAI,KAAQ;MAChE,GAAGA,IAAI;MACPC,IAAI,EAAE,IAAAC,wCAAmB,EAAEF,IAAI,CAACC,IAAK;IACtC,CAAC,CAAG,CAAC;IAEL,KAAM,MAAME,oBAAoB,IAAIb,2BAA2B,EAAG;MACjE,MAAMc,iBAAiB,GAAGlB,QAAQ,CAAEiB,oBAAqB,CAAC;;MAE1D;MACA;MACA,MAAM;QAAEE,KAAK,GAAGV,YAAY,EAAEW,UAAU;QAAEC;MAAK,CAAC,GAC/CH,iBAAiB,CAACI,UAAU;MAC7B,MAAMC,oBAAoB,GAAG,IAAAC,0CAAoB,EAChDL,KAAK,EACLE,IACD,CAAC;MACD,MAAMI,kBAAkB,GAAGlB,qBAAqB,CAC/C,UAAU,EACV,kBAAkB,EAClBgB,oBACD,CAAC;;MAED;MACA;MACA,IAAKE,kBAAkB,EAAEC,IAAI,EAAG;QAC/B,OAAOd,YAAY,CAACe,IAAI,CACrBC,WAAW,IACZA,WAAW,CAACF,IAAI,KAAK,eAAe,IACpCE,WAAW,CAACF,IAAI,KAAKD,kBAAkB,CAACC,IAC1C,CAAC,EAAEG,KAAK;MACT;IACD;EACD,CAAC,EACD,CAAEhC,QAAQ,CACX,CAAC;AACF","ignoreList":[]}