{"version":3,"names":["_blockEditor","require","_components","_data","_i18n","_navigationMenuSelector","_interopRequireDefault","_lockUnlock","_deletedNavigationWarning","_useNavigationMenu","_leafMoreMenu","_updateAttributes","_linkUi","_jsxRuntime","actionLabel","__","BLOCKS_WITH_LINK_UI_SUPPORT","PrivateListView","unlock","blockEditorPrivateApis","AdditionalBlockContent","block","insertedBlock","setInsertedBlock","updateBlockAttributes","useDispatch","blockEditorStore","supportsLinkControls","includes","name","blockWasJustInserted","clientId","showLinkControls","setInsertedBlockAttributes","_insertedBlockClientId","_updatedAttributes","jsx","LinkUI","link","attributes","onClose","onChange","updatedValue","updateAttributes","onCancel","MainContent","currentMenuId","isLoading","isNavigationMenuMissing","onCreateNew","hasChildren","useSelect","select","getBlockCount","navigationMenu","useNavigationMenu","default","isNotice","Spinner","description","sprintf","title","jsxs","className","children","rootClientId","isExpanded","showAppender","blockSettingsMenu","LeafMoreMenu","additionalBlockContent","MenuInspectorControls","props","createNavigationMenuIsSuccess","createNavigationMenuIsError","onSelectClassicMenu","onSelectNavigationMenu","isManageMenusButtonDisabled","blockEditingMode","InspectorControls","group","PanelBody","__experimentalHStack","__experimentalHeading","level","_default","exports"],"sources":["@wordpress/block-library/src/navigation/edit/menu-inspector-controls.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tprivateApis as blockEditorPrivateApis,\n\tInspectorControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport {\n\tPanelBody,\n\t__experimentalHStack as HStack,\n\t__experimentalHeading as Heading,\n\tSpinner,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport NavigationMenuSelector from './navigation-menu-selector';\nimport { unlock } from '../../lock-unlock';\nimport DeletedNavigationWarning from './deleted-navigation-warning';\nimport useNavigationMenu from '../use-navigation-menu';\nimport LeafMoreMenu from './leaf-more-menu';\nimport { updateAttributes } from '../../navigation-link/update-attributes';\nimport { LinkUI } from '../../navigation-link/link-ui';\n\nconst actionLabel =\n\t/* translators: %s: The name of a menu. */ __( \"Switch to '%s'\" );\nconst BLOCKS_WITH_LINK_UI_SUPPORT = [\n\t'core/navigation-link',\n\t'core/navigation-submenu',\n];\nconst { PrivateListView } = unlock( blockEditorPrivateApis );\n\nfunction AdditionalBlockContent( { block, insertedBlock, setInsertedBlock } ) {\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\n\n\tconst supportsLinkControls = BLOCKS_WITH_LINK_UI_SUPPORT?.includes(\n\t\tinsertedBlock?.name\n\t);\n\tconst blockWasJustInserted = insertedBlock?.clientId === block.clientId;\n\tconst showLinkControls = supportsLinkControls && blockWasJustInserted;\n\n\tif ( ! showLinkControls ) {\n\t\treturn null;\n\t}\n\n\tconst setInsertedBlockAttributes =\n\t\t( _insertedBlockClientId ) => ( _updatedAttributes ) => {\n\t\t\tif ( ! _insertedBlockClientId ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tupdateBlockAttributes( _insertedBlockClientId, _updatedAttributes );\n\t\t};\n\n\treturn (\n\t\t<LinkUI\n\t\t\tclientId={ insertedBlock?.clientId }\n\t\t\tlink={ insertedBlock?.attributes }\n\t\t\tonClose={ () => {\n\t\t\t\tsetInsertedBlock( null );\n\t\t\t} }\n\t\t\tonChange={ ( updatedValue ) => {\n\t\t\t\tupdateAttributes(\n\t\t\t\t\tupdatedValue,\n\t\t\t\t\tsetInsertedBlockAttributes( insertedBlock?.clientId ),\n\t\t\t\t\tinsertedBlock?.attributes\n\t\t\t\t);\n\t\t\t\tsetInsertedBlock( null );\n\t\t\t} }\n\t\t\tonCancel={ () => {\n\t\t\t\tsetInsertedBlock( null );\n\t\t\t} }\n\t\t/>\n\t);\n}\n\nconst MainContent = ( {\n\tclientId,\n\tcurrentMenuId,\n\tisLoading,\n\tisNavigationMenuMissing,\n\tonCreateNew,\n} ) => {\n\tconst hasChildren = useSelect(\n\t\t( select ) => {\n\t\t\treturn !! select( blockEditorStore ).getBlockCount( clientId );\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst { navigationMenu } = useNavigationMenu( currentMenuId );\n\n\tif ( currentMenuId && isNavigationMenuMissing ) {\n\t\treturn (\n\t\t\t<DeletedNavigationWarning onCreateNew={ onCreateNew } isNotice />\n\t\t);\n\t}\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\tconst description = navigationMenu\n\t\t? sprintf(\n\t\t\t\t/* translators: %s: The name of a menu. */\n\t\t\t\t__( 'Structure for Navigation Menu: %s' ),\n\t\t\t\tnavigationMenu?.title || __( 'Untitled menu' )\n\t\t  )\n\t\t: __(\n\t\t\t\t'You have not yet created any menus. Displaying a list of your Pages'\n\t\t  );\n\n\treturn (\n\t\t<div className=\"wp-block-navigation__menu-inspector-controls\">\n\t\t\t{ ! hasChildren && (\n\t\t\t\t<p className=\"wp-block-navigation__menu-inspector-controls__empty-message\">\n\t\t\t\t\t{ __( 'This Navigation Menu is empty.' ) }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t\t<PrivateListView\n\t\t\t\trootClientId={ clientId }\n\t\t\t\tisExpanded\n\t\t\t\tdescription={ description }\n\t\t\t\tshowAppender\n\t\t\t\tblockSettingsMenu={ LeafMoreMenu }\n\t\t\t\tadditionalBlockContent={ AdditionalBlockContent }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst MenuInspectorControls = ( props ) => {\n\tconst {\n\t\tcreateNavigationMenuIsSuccess,\n\t\tcreateNavigationMenuIsError,\n\t\tcurrentMenuId = null,\n\t\tonCreateNew,\n\t\tonSelectClassicMenu,\n\t\tonSelectNavigationMenu,\n\t\tisManageMenusButtonDisabled,\n\t\tblockEditingMode,\n\t} = props;\n\n\treturn (\n\t\t<InspectorControls group=\"list\">\n\t\t\t<PanelBody title={ null }>\n\t\t\t\t<HStack className=\"wp-block-navigation-off-canvas-editor__header\">\n\t\t\t\t\t<Heading\n\t\t\t\t\t\tclassName=\"wp-block-navigation-off-canvas-editor__title\"\n\t\t\t\t\t\tlevel={ 2 }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Menu' ) }\n\t\t\t\t\t</Heading>\n\t\t\t\t\t{ blockEditingMode === 'default' && (\n\t\t\t\t\t\t<NavigationMenuSelector\n\t\t\t\t\t\t\tcurrentMenuId={ currentMenuId }\n\t\t\t\t\t\t\tonSelectClassicMenu={ onSelectClassicMenu }\n\t\t\t\t\t\t\tonSelectNavigationMenu={ onSelectNavigationMenu }\n\t\t\t\t\t\t\tonCreateNew={ onCreateNew }\n\t\t\t\t\t\t\tcreateNavigationMenuIsSuccess={\n\t\t\t\t\t\t\t\tcreateNavigationMenuIsSuccess\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcreateNavigationMenuIsError={\n\t\t\t\t\t\t\t\tcreateNavigationMenuIsError\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tactionLabel={ actionLabel }\n\t\t\t\t\t\t\tisManageMenusButtonDisabled={\n\t\t\t\t\t\t\t\tisManageMenusButtonDisabled\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</HStack>\n\t\t\t\t<MainContent { ...props } />\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n};\n\nexport default MenuInspectorControls;\n"],"mappings":"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","ignoreList":[]}