{"version":3,"names":["_i18n","require","_blockEditor","_components","_compose","_primitives","_lockUnlock","_constants","_hooks","_jsxRuntime","useSpacingSizes","unlock","blockEditorPrivateApis","DimensionInput","label","onChange","isResizing","value","inputId","useInstanceId","UnitControl","spacingSizes","spacingUnits","useSettings","availableUnits","filter","unit","units","useCustomUnits","defaultValues","px","em","rem","vw","vh","parsedQuantity","parsedUnit","parseQuantityAndUnitFromRawValue","computedValue","isValueSpacingPreset","join","jsx","Fragment","children","length","__experimentalUnitControl","id","isResetValueOnUnitChange","min","MIN_SPACER_SIZE","__next40pxDefaultSize","View","className","__experimentalSpacingSizesControl","values","all","sides","allowReset","splitOnAxis","showSideInLabel","SpacerControls","setAttributes","orientation","height","width","dropdownMenuProps","useToolsPanelDropdownMenuProps","InspectorControls","jsxs","__experimentalToolsPanel","__","resetAll","undefined","__experimentalToolsPanelItem","isShownByDefault","hasValue","onDeselect","nextWidth","nextHeight"],"sources":["@wordpress/block-library/src/spacer/controls.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInspectorControls,\n\tuseSettings,\n\t__experimentalSpacingSizesControl as SpacingSizesControl,\n\tisValueSpacingPreset,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport {\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { View } from '@wordpress/primitives';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\nimport { MIN_SPACER_SIZE } from './constants';\nimport { useToolsPanelDropdownMenuProps } from '../utils/hooks';\n\nconst { useSpacingSizes } = unlock( blockEditorPrivateApis );\n\nfunction DimensionInput( { label, onChange, isResizing, value = '' } ) {\n\tconst inputId = useInstanceId( UnitControl, 'block-spacer-height-input' );\n\tconst spacingSizes = useSpacingSizes();\n\tconst [ spacingUnits ] = useSettings( 'spacing.units' );\n\t// In most contexts the spacer size cannot meaningfully be set to a\n\t// percentage, since this is relative to the parent container. This\n\t// unit is disabled from the UI.\n\tconst availableUnits = spacingUnits\n\t\t? spacingUnits.filter( ( unit ) => unit !== '%' )\n\t\t: [ 'px', 'em', 'rem', 'vw', 'vh' ];\n\n\tconst units = useCustomUnits( {\n\t\tavailableUnits,\n\t\tdefaultValues: { px: 100, em: 10, rem: 10, vw: 10, vh: 25 },\n\t} );\n\n\t// Force the unit to update to `px` when the Spacer is being resized.\n\tconst [ parsedQuantity, parsedUnit ] =\n\t\tparseQuantityAndUnitFromRawValue( value );\n\tconst computedValue = isValueSpacingPreset( value )\n\t\t? value\n\t\t: [ parsedQuantity, isResizing ? 'px' : parsedUnit ].join( '' );\n\n\treturn (\n\t\t<>\n\t\t\t{ spacingSizes?.length < 2 ? (\n\t\t\t\t<UnitControl\n\t\t\t\t\tid={ inputId }\n\t\t\t\t\tisResetValueOnUnitChange\n\t\t\t\t\tmin={ MIN_SPACER_SIZE }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tvalue={ computedValue }\n\t\t\t\t\tunits={ units }\n\t\t\t\t\tlabel={ label }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<View className=\"tools-panel-item-spacing\">\n\t\t\t\t\t<SpacingSizesControl\n\t\t\t\t\t\tvalues={ { all: computedValue } }\n\t\t\t\t\t\tonChange={ ( { all } ) => {\n\t\t\t\t\t\t\tonChange( all );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\tsides={ [ 'all' ] }\n\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\tsplitOnAxis={ false }\n\t\t\t\t\t\tshowSideInLabel={ false }\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default function SpacerControls( {\n\tsetAttributes,\n\torientation,\n\theight,\n\twidth,\n\tisResizing,\n} ) {\n\tconst dropdownMenuProps = useToolsPanelDropdownMenuProps();\n\n\treturn (\n\t\t<InspectorControls>\n\t\t\t<ToolsPanel\n\t\t\t\tlabel={ __( 'Settings' ) }\n\t\t\t\tresetAll={ () => {\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\twidth: undefined,\n\t\t\t\t\t\theight: '100px',\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t\tdropdownMenuProps={ dropdownMenuProps }\n\t\t\t>\n\t\t\t\t{ orientation === 'horizontal' && (\n\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\t\tisShownByDefault\n\t\t\t\t\t\thasValue={ () => width !== undefined }\n\t\t\t\t\t\tonDeselect={ () =>\n\t\t\t\t\t\t\tsetAttributes( { width: undefined } )\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DimensionInput\n\t\t\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\t\t\tvalue={ width }\n\t\t\t\t\t\t\tonChange={ ( nextWidth ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { width: nextWidth } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tisResizing={ isResizing }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t) }\n\t\t\t\t{ orientation !== 'horizontal' && (\n\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\tlabel={ __( 'Height' ) }\n\t\t\t\t\t\tisShownByDefault\n\t\t\t\t\t\thasValue={ () => height !== '100px' }\n\t\t\t\t\t\tonDeselect={ () =>\n\t\t\t\t\t\t\tsetAttributes( { height: '100px' } )\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DimensionInput\n\t\t\t\t\t\t\tlabel={ __( 'Height' ) }\n\t\t\t\t\t\t\tvalue={ height }\n\t\t\t\t\t\t\tonChange={ ( nextHeight ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { height: nextHeight } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tisResizing={ isResizing }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t) }\n\t\t\t</ToolsPanel>\n\t\t</InspectorControls>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}