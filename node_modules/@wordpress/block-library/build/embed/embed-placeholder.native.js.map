{"version":3,"names":["_reactNative","require","_i18n","_compose","_components","_blockEditor","_element","_styles","_interopRequireDefault","_gridicons","_jsxRuntime","hitSlop","top","bottom","left","right","EmbedPlaceholder","icon","isSelected","label","onPress","cannotEmbed","fallback","tryAgain","openEmbedLinkSettings","containerSelectedStyle","usePreferredColorSchemeStyle","styles","containerStyle","embed__container","labelStyle","embed__label","descriptionStyle","embed__description","descriptionErrorStyle","actionStyle","embed__action","embedIconErrorStyle","buttonStyles","embed__button","iconStyles","embed__icon","cannotEmbedMenuPickerRef","useRef","errorPickerOptions","retry","id","__","value","onSelect","convertToLink","editLink","options","filter","Boolean","onPickerSelect","selectedItem","find","item","resolveOnPressEvent","current","presentPicker","jsx","Fragment","children","View","style","jsxs","Icon","noticeOutline","fill","Text","TouchableOpacity","activeOpacity","accessibilityRole","accessibilityHint","disabled","Picker","title","ref","onChange","hideCancelButton","leftAlign","BlockIcon","_default","exports","default"],"sources":["@wordpress/block-library/src/embed/embed-placeholder.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { View, Text, TouchableOpacity } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { Icon, Picker } from '@wordpress/components';\nimport { BlockIcon } from '@wordpress/block-editor';\nimport { useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport styles from './styles.scss';\nimport { noticeOutline } from '../../../components/src/mobile/gridicons';\n\nconst hitSlop = { top: 22, bottom: 22, left: 22, right: 22 };\n\nconst EmbedPlaceholder = ( {\n\ticon,\n\tisSelected,\n\tlabel,\n\tonPress,\n\tcannotEmbed,\n\tfallback,\n\ttryAgain,\n\topenEmbedLinkSettings,\n} ) => {\n\tconst containerSelectedStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed__container-selected' ],\n\t\tstyles[ 'embed__container-selected--dark' ]\n\t);\n\tconst containerStyle = [\n\t\tusePreferredColorSchemeStyle(\n\t\t\tstyles.embed__container,\n\t\t\tstyles[ 'embed__container--dark' ]\n\t\t),\n\t\tisSelected && containerSelectedStyle,\n\t];\n\tconst labelStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__label,\n\t\tstyles[ 'embed__label--dark' ]\n\t);\n\tconst descriptionStyle = styles.embed__description;\n\tconst descriptionErrorStyle = styles[ 'embed__description--error' ];\n\tconst actionStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__action,\n\t\tstyles[ 'embed__action--dark' ]\n\t);\n\tconst embedIconErrorStyle = styles[ 'embed__icon--error' ];\n\n\tconst buttonStyles = usePreferredColorSchemeStyle(\n\t\tstyles.embed__button,\n\t\tstyles[ 'embed__button--dark' ]\n\t);\n\tconst iconStyles = usePreferredColorSchemeStyle(\n\t\tstyles.embed__icon,\n\t\tstyles[ 'embed__icon--dark' ]\n\t);\n\n\tconst cannotEmbedMenuPickerRef = useRef();\n\n\tconst errorPickerOptions = {\n\t\tretry: {\n\t\t\tid: 'retryOption',\n\t\t\tlabel: __( 'Retry' ),\n\t\t\tvalue: 'retryOption',\n\t\t\tonSelect: tryAgain,\n\t\t},\n\t\tconvertToLink: {\n\t\t\tid: 'convertToLinkOption',\n\t\t\tlabel: __( 'Convert to link' ),\n\t\t\tvalue: 'convertToLinkOption',\n\t\t\tonSelect: fallback,\n\t\t},\n\t\teditLink: {\n\t\t\tid: 'editLinkOption',\n\t\t\tlabel: __( 'Edit link' ),\n\t\t\tvalue: 'editLinkOption',\n\t\t\tonSelect: openEmbedLinkSettings,\n\t\t},\n\t};\n\n\tconst options = [\n\t\tcannotEmbed && errorPickerOptions.retry,\n\t\tcannotEmbed && errorPickerOptions.convertToLink,\n\t\tcannotEmbed && errorPickerOptions.editLink,\n\t].filter( Boolean );\n\n\tfunction onPickerSelect( value ) {\n\t\tconst selectedItem = options.find( ( item ) => item.value === value );\n\t\tselectedItem.onSelect();\n\t}\n\n\t// When the content cannot be embedded the onPress should trigger the Picker instead of the onPress prop.\n\tfunction resolveOnPressEvent() {\n\t\tif ( cannotEmbed ) {\n\t\t\tcannotEmbedMenuPickerRef.current?.presentPicker();\n\t\t} else {\n\t\t\tonPress();\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<View style={ containerStyle }>\n\t\t\t\t{ cannotEmbed ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={ noticeOutline }\n\t\t\t\t\t\t\tfill={ embedIconErrorStyle.fill }\n\t\t\t\t\t\t\tstyle={ embedIconErrorStyle }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={ [\n\t\t\t\t\t\t\t\tdescriptionStyle,\n\t\t\t\t\t\t\t\tdescriptionErrorStyle,\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Unable to embed media' ) }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tactiveOpacity={ 0.5 }\n\t\t\t\t\t\t\taccessibilityRole=\"button\"\n\t\t\t\t\t\t\taccessibilityHint={ __(\n\t\t\t\t\t\t\t\t'Double tap to view embed options.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tstyle={ buttonStyles }\n\t\t\t\t\t\t\thitSlop={ hitSlop }\n\t\t\t\t\t\t\tonPress={ resolveOnPressEvent }\n\t\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text style={ actionStyle }>\n\t\t\t\t\t\t\t\t{ __( 'More options' ) }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t<Picker\n\t\t\t\t\t\t\ttitle={ __( 'Embed options' ) }\n\t\t\t\t\t\t\tref={ cannotEmbedMenuPickerRef }\n\t\t\t\t\t\t\toptions={ options }\n\t\t\t\t\t\t\tonChange={ onPickerSelect }\n\t\t\t\t\t\t\thideCancelButton\n\t\t\t\t\t\t\tleftAlign\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<View style={ styles[ 'embed__placeholder-header' ] }>\n\t\t\t\t\t\t\t<BlockIcon icon={ icon } fill={ iconStyles.fill } />\n\t\t\t\t\t\t\t<Text style={ labelStyle }>{ label }</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tactiveOpacity={ 0.5 }\n\t\t\t\t\t\t\taccessibilityRole=\"button\"\n\t\t\t\t\t\t\taccessibilityHint={ __(\n\t\t\t\t\t\t\t\t'Double tap to add a link.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tstyle={ buttonStyles }\n\t\t\t\t\t\t\thitSlop={ hitSlop }\n\t\t\t\t\t\t\tonPress={ resolveOnPressEvent }\n\t\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text style={ actionStyle }>\n\t\t\t\t\t\t\t\t{ __( 'Add link' ) }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</View>\n\t\t</>\n\t);\n};\n\nexport default EmbedPlaceholder;\n"],"mappings":"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","ignoreList":[]}