{"version":3,"names":["_i18n","require","_components","_element","_jsxRuntime","options","value","label","__","_x","VideoSettings","setAttributes","attributes","autoplay","controls","loop","muted","playsInline","preload","autoPlayHelpText","getAutoplayHelp","Platform","select","web","useCallback","checked","native","toggleFactory","useMemo","toggleAttribute","attribute","newValue","onChangePreload","jsxs","Fragment","children","jsx","__experimentalToolsPanelItem","isShownByDefault","hasValue","onDeselect","ToggleControl","__nextHasNoMarginBottom","onChange","help","disabled","SelectControl","__next40pxDefaultSize","hideCancelButton","_default","exports","default"],"sources":["@wordpress/block-library/src/video/edit-common-settings.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tToggleControl,\n\tSelectControl,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { useMemo, useCallback, Platform } from '@wordpress/element';\n\nconst options = [\n\t{ value: 'auto', label: __( 'Auto' ) },\n\t{ value: 'metadata', label: __( 'Metadata' ) },\n\t{ value: 'none', label: _x( 'None', 'Preload value' ) },\n];\n\nconst VideoSettings = ( { setAttributes, attributes } ) => {\n\tconst { autoplay, controls, loop, muted, playsInline, preload } =\n\t\tattributes;\n\n\tconst autoPlayHelpText = __(\n\t\t'Autoplay may cause usability issues for some users.'\n\t);\n\n\tconst getAutoplayHelp = Platform.select( {\n\t\tweb: useCallback( ( checked ) => {\n\t\t\treturn checked ? autoPlayHelpText : null;\n\t\t}, [] ),\n\t\tnative: autoPlayHelpText,\n\t} );\n\n\tconst toggleFactory = useMemo( () => {\n\t\tconst toggleAttribute = ( attribute ) => {\n\t\t\treturn ( newValue ) => {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\t[ attribute ]: newValue,\n\t\t\t\t\t// Set muted when autoplay changes\n\t\t\t\t\t...( attribute === 'autoplay' && { muted: newValue } ),\n\t\t\t\t} );\n\t\t\t};\n\t\t};\n\n\t\treturn {\n\t\t\tautoplay: toggleAttribute( 'autoplay' ),\n\t\t\tloop: toggleAttribute( 'loop' ),\n\t\t\tmuted: toggleAttribute( 'muted' ),\n\t\t\tcontrols: toggleAttribute( 'controls' ),\n\t\t\tplaysInline: toggleAttribute( 'playsInline' ),\n\t\t};\n\t}, [] );\n\n\tconst onChangePreload = useCallback( ( value ) => {\n\t\tsetAttributes( { preload: value } );\n\t}, [] );\n\n\treturn (\n\t\t<>\n\t\t\t<ToolsPanelItem\n\t\t\t\tlabel={ __( 'Autoplay' ) }\n\t\t\t\tisShownByDefault\n\t\t\t\thasValue={ () => !! autoplay }\n\t\t\t\tonDeselect={ () => {\n\t\t\t\t\tsetAttributes( { autoplay: false, muted: false } );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Autoplay' ) }\n\t\t\t\t\tonChange={ toggleFactory.autoplay }\n\t\t\t\t\tchecked={ !! autoplay }\n\t\t\t\t\thelp={ getAutoplayHelp }\n\t\t\t\t/>\n\t\t\t</ToolsPanelItem>\n\t\t\t<ToolsPanelItem\n\t\t\t\tlabel={ __( 'Loop' ) }\n\t\t\t\tisShownByDefault\n\t\t\t\thasValue={ () => !! loop }\n\t\t\t\tonDeselect={ () => {\n\t\t\t\t\tsetAttributes( { loop: false } );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Loop' ) }\n\t\t\t\t\tonChange={ toggleFactory.loop }\n\t\t\t\t\tchecked={ !! loop }\n\t\t\t\t/>\n\t\t\t</ToolsPanelItem>\n\t\t\t<ToolsPanelItem\n\t\t\t\tlabel={ __( 'Muted' ) }\n\t\t\t\tisShownByDefault\n\t\t\t\thasValue={ () => !! muted }\n\t\t\t\tonDeselect={ () => {\n\t\t\t\t\tsetAttributes( { muted: false } );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Muted' ) }\n\t\t\t\t\tonChange={ toggleFactory.muted }\n\t\t\t\t\tchecked={ !! muted }\n\t\t\t\t\tdisabled={ autoplay }\n\t\t\t\t\thelp={\n\t\t\t\t\t\tautoplay ? __( 'Muted because of Autoplay.' ) : null\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</ToolsPanelItem>\n\t\t\t<ToolsPanelItem\n\t\t\t\tlabel={ __( 'Playback controls' ) }\n\t\t\t\tisShownByDefault\n\t\t\t\thasValue={ () => ! controls }\n\t\t\t\tonDeselect={ () => {\n\t\t\t\t\tsetAttributes( { controls: true } );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Playback controls' ) }\n\t\t\t\t\tonChange={ toggleFactory.controls }\n\t\t\t\t\tchecked={ !! controls }\n\t\t\t\t/>\n\t\t\t</ToolsPanelItem>\n\t\t\t<ToolsPanelItem\n\t\t\t\tlabel={ __( 'Play inline' ) }\n\t\t\t\tisShownByDefault\n\t\t\t\thasValue={ () => !! playsInline }\n\t\t\t\tonDeselect={ () => {\n\t\t\t\t\tsetAttributes( { playsInline: false } );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t/* translators: Setting to play videos within the webpage on mobile browsers rather than opening in a fullscreen player. */\n\t\t\t\t\tlabel={ __( 'Play inline' ) }\n\t\t\t\t\tonChange={ toggleFactory.playsInline }\n\t\t\t\t\tchecked={ !! playsInline }\n\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t'When enabled, videos will play directly within the webpage on mobile browsers, instead of opening in a fullscreen player.'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</ToolsPanelItem>\n\t\t\t<ToolsPanelItem\n\t\t\t\tlabel={ __( 'Preload' ) }\n\t\t\t\tisShownByDefault\n\t\t\t\thasValue={ () => preload !== 'metadata' }\n\t\t\t\tonDeselect={ () => {\n\t\t\t\t\tsetAttributes( { preload: 'metadata' } );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<SelectControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Preload' ) }\n\t\t\t\t\tvalue={ preload }\n\t\t\t\t\tonChange={ onChangePreload }\n\t\t\t\t\toptions={ options }\n\t\t\t\t\thideCancelButton\n\t\t\t\t/>\n\t\t\t</ToolsPanelItem>\n\t\t</>\n\t);\n};\n\nexport default VideoSettings;\n"],"mappings":"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","ignoreList":[]}