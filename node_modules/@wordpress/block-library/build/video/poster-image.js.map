{"version":3,"names":["_blockEditor","require","_components","_i18n","_element","_jsxRuntime","PosterImage","poster","setAttributes","instanceId","posterImageButton","useRef","VIDEO_POSTER_ALLOWED_MEDIA_TYPES","videoPosterDescription","onSelectPoster","image","url","onRemovePoster","undefined","current","focus","jsx","__experimentalToolsPanelItem","label","__","isShownByDefault","hasValue","onDeselect","children","MediaUploadCheck","jsxs","className","BaseControl","VisualLabel","MediaUpload","title","onSelect","allowedTypes","render","open","Button","__next40pxDefaultSize","variant","onClick","ref","id","hidden","sprintf","_default","exports","default"],"sources":["@wordpress/block-library/src/video/poster-image.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport {\n\tButton,\n\tBaseControl,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useRef } from '@wordpress/element';\n\nfunction PosterImage( { poster, setAttributes, instanceId } ) {\n\tconst posterImageButton = useRef();\n\tconst VIDEO_POSTER_ALLOWED_MEDIA_TYPES = [ 'image' ];\n\n\tconst videoPosterDescription = `video-block__poster-image-description-${ instanceId }`;\n\n\tfunction onSelectPoster( image ) {\n\t\tsetAttributes( { poster: image.url } );\n\t}\n\n\tfunction onRemovePoster() {\n\t\tsetAttributes( { poster: undefined } );\n\n\t\t// Move focus back to the Media Upload button.\n\t\tposterImageButton.current.focus();\n\t}\n\n\treturn (\n\t\t<ToolsPanelItem\n\t\t\tlabel={ __( 'Poster image' ) }\n\t\t\tisShownByDefault\n\t\t\thasValue={ () => !! poster }\n\t\t\tonDeselect={ () => {\n\t\t\t\tsetAttributes( { poster: '' } );\n\t\t\t} }\n\t\t>\n\t\t\t<MediaUploadCheck>\n\t\t\t\t<div className=\"editor-video-poster-control\">\n\t\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t\t{ __( 'Poster image' ) }\n\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\ttitle={ __( 'Select poster image' ) }\n\t\t\t\t\t\tonSelect={ onSelectPoster }\n\t\t\t\t\t\tallowedTypes={ VIDEO_POSTER_ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\tref={ posterImageButton }\n\t\t\t\t\t\t\t\taria-describedby={ videoPosterDescription }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ ! poster ? __( 'Select' ) : __( 'Replace' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<p id={ videoPosterDescription } hidden>\n\t\t\t\t\t\t{ poster\n\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: poster image URL. */\n\t\t\t\t\t\t\t\t\t__( 'The current poster image url is %s' ),\n\t\t\t\t\t\t\t\t\tposter\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t'There is no poster image currently selected'\n\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t</p>\n\t\t\t\t\t{ !! poster && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tonClick={ onRemovePoster }\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Remove' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</MediaUploadCheck>\n\t\t</ToolsPanelItem>\n\t);\n}\n\nexport default PosterImage;\n"],"mappings":"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","ignoreList":[]}