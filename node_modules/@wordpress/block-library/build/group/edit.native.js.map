{"version":3,"names":["_reactNative","require","_data","_compose","_blockEditor","_element","_components","_editor","_interopRequireDefault","_jsxRuntime","isFullWidth","alignmentHelpers","GroupEdit","attributes","hasInnerBlocks","isSelected","isLastInnerBlockSelected","getStylesFromColorScheme","style","blockWidth","align","resizeObserver","sizes","useResizeObserver","width","renderAppender","useCallback","jsx","View","styles","groupAppender","fullwidthGroupAppender","fullwidthHasInnerGroupAppender","children","InnerBlocks","ButtonBlockAppender","groupPlaceholder","groupPlaceholderDark","marginVerticalDense","marginHorizontalNone","jsxs","innerBlocks","backgroundColor","hasBackgroundAppender","parentWidth","_default","exports","default","compose","withSelect","select","clientId","getBlock","getBlockIndex","hasSelectedInnerBlock","getBlockRootClientId","getSelectedBlockClientId","getBlockAttributes","blockEditorStore","block","length","isInnerBlockSelected","selectedBlockClientId","totalInnerBlocks","blockIndex","parentId","parentBlockAlignment","withPreferredColorScheme"],"sources":["@wordpress/block-library/src/group/edit.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { View } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport {\n\tcompose,\n\twithPreferredColorScheme,\n\tuseResizeObserver,\n} from '@wordpress/compose';\nimport {\n\tInnerBlocks,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useCallback } from '@wordpress/element';\nimport { alignmentHelpers } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport styles from './editor.scss';\n\nconst { isFullWidth } = alignmentHelpers;\n\nfunction GroupEdit( {\n\tattributes,\n\thasInnerBlocks,\n\tisSelected,\n\tisLastInnerBlockSelected,\n\tgetStylesFromColorScheme,\n\tstyle,\n\tblockWidth,\n} ) {\n\tconst { align } = attributes;\n\tconst [ resizeObserver, sizes ] = useResizeObserver();\n\tconst { width } = sizes || { width: 0 };\n\n\tconst renderAppender = useCallback(\n\t\t() => (\n\t\t\t<View\n\t\t\t\tstyle={ [\n\t\t\t\t\t! hasInnerBlocks && styles.groupAppender,\n\t\t\t\t\tisFullWidth( align ) &&\n\t\t\t\t\t\t! hasInnerBlocks &&\n\t\t\t\t\t\tstyles.fullwidthGroupAppender,\n\t\t\t\t\tisFullWidth( align ) &&\n\t\t\t\t\t\thasInnerBlocks &&\n\t\t\t\t\t\tstyles.fullwidthHasInnerGroupAppender,\n\t\t\t\t] }\n\t\t\t>\n\t\t\t\t<InnerBlocks.ButtonBlockAppender />\n\t\t\t</View>\n\t\t),\n\t\t[ align, hasInnerBlocks ]\n\t);\n\n\tif ( ! isSelected && ! hasInnerBlocks ) {\n\t\treturn (\n\t\t\t<View\n\t\t\t\tstyle={ [\n\t\t\t\t\tgetStylesFromColorScheme(\n\t\t\t\t\t\tstyles.groupPlaceholder,\n\t\t\t\t\t\tstyles.groupPlaceholderDark\n\t\t\t\t\t),\n\t\t\t\t\t! hasInnerBlocks && {\n\t\t\t\t\t\t...styles.marginVerticalDense,\n\t\t\t\t\t\t...styles.marginHorizontalNone,\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<View\n\t\t\tstyle={ [\n\t\t\t\tisSelected && hasInnerBlocks && styles.innerBlocks,\n\t\t\t\tstyle,\n\t\t\t\tisSelected &&\n\t\t\t\t\thasInnerBlocks &&\n\t\t\t\t\tstyle?.backgroundColor &&\n\t\t\t\t\tstyles.hasBackgroundAppender,\n\t\t\t\tisLastInnerBlockSelected &&\n\t\t\t\t\tstyle?.backgroundColor &&\n\t\t\t\t\tstyles.isLastInnerBlockSelected,\n\t\t\t] }\n\t\t>\n\t\t\t{ resizeObserver }\n\t\t\t<InnerBlocks\n\t\t\t\trenderAppender={ isSelected && renderAppender }\n\t\t\t\tparentWidth={ width }\n\t\t\t\tblockWidth={ blockWidth }\n\t\t\t/>\n\t\t</View>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst {\n\t\t\tgetBlock,\n\t\t\tgetBlockIndex,\n\t\t\thasSelectedInnerBlock,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetBlockAttributes,\n\t\t} = select( blockEditorStore );\n\n\t\tconst block = getBlock( clientId );\n\t\tconst hasInnerBlocks = !! ( block && block.innerBlocks.length );\n\t\tconst isInnerBlockSelected =\n\t\t\thasInnerBlocks && hasSelectedInnerBlock( clientId, true );\n\t\tlet isLastInnerBlockSelected = false;\n\n\t\tif ( isInnerBlockSelected ) {\n\t\t\tconst { innerBlocks } = block;\n\t\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\t\tconst totalInnerBlocks = innerBlocks.length - 1;\n\t\t\tconst blockIndex = getBlockIndex( selectedBlockClientId );\n\t\t\tisLastInnerBlockSelected = totalInnerBlocks === blockIndex;\n\t\t}\n\n\t\tconst parentId = getBlockRootClientId( clientId );\n\t\tconst parentBlockAlignment = getBlockAttributes( parentId )?.align;\n\n\t\treturn {\n\t\t\thasInnerBlocks,\n\t\t\tisLastInnerBlockSelected,\n\t\t\tparentBlockAlignment,\n\t\t};\n\t} ),\n\twithPreferredColorScheme,\n] )( GroupEdit );\n"],"mappings":"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","ignoreList":[]}