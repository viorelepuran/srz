{"version":3,"names":["_i18n","require","_blockEditor","_components","_data","_utils","_jsxRuntime","TEMPLATE","formSubmissionNotificationSuccess","formSubmissionNotificationError","type","label","__","required","Edit","attributes","setAttributes","clientId","action","method","email","submissionMethod","blockProps","useBlockProps","hasInnerBlocks","useSelect","select","getBlock","blockEditorStore","block","innerBlocks","length","innerBlocksProps","useInnerBlocksProps","template","renderAppender","undefined","InnerBlocks","ButtonBlockAppender","jsxs","Fragment","children","jsx","InspectorControls","PanelBody","title","SelectControl","__nextHasNoMarginBottom","__next40pxDefaultSize","options","value","onChange","help","TextControl","autoComplete","group","newVal","className","encType","_default","exports","default"],"sources":["@wordpress/block-library/src/form/edit.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInnerBlocks,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tInspectorControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { TextControl, SelectControl, PanelBody } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport {\n\tformSubmissionNotificationSuccess,\n\tformSubmissionNotificationError,\n} from './utils.js';\n\nconst TEMPLATE = [\n\tformSubmissionNotificationSuccess,\n\tformSubmissionNotificationError,\n\t[\n\t\t'core/form-input',\n\t\t{\n\t\t\ttype: 'text',\n\t\t\tlabel: __( 'Name' ),\n\t\t\trequired: true,\n\t\t},\n\t],\n\t[\n\t\t'core/form-input',\n\t\t{\n\t\t\ttype: 'email',\n\t\t\tlabel: __( 'Email' ),\n\t\t\trequired: true,\n\t\t},\n\t],\n\t[\n\t\t'core/form-input',\n\t\t{\n\t\t\ttype: 'textarea',\n\t\t\tlabel: __( 'Comment' ),\n\t\t\trequired: true,\n\t\t},\n\t],\n\t[ 'core/form-submit-button', {} ],\n];\n\nconst Edit = ( { attributes, setAttributes, clientId } ) => {\n\tconst { action, method, email, submissionMethod } = attributes;\n\tconst blockProps = useBlockProps();\n\n\tconst { hasInnerBlocks } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlock } = select( blockEditorStore );\n\t\t\tconst block = getBlock( clientId );\n\t\t\treturn {\n\t\t\t\thasInnerBlocks: !! ( block && block.innerBlocks.length ),\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\ttemplate: TEMPLATE,\n\t\trenderAppender: hasInnerBlocks\n\t\t\t? undefined\n\t\t\t: InnerBlocks.ButtonBlockAppender,\n\t} );\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Submissions method' ) }\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t// TODO: Allow plugins to add their own submission methods.\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'Send email' ),\n\t\t\t\t\t\t\t\tvalue: 'email',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( '- Custom -' ),\n\t\t\t\t\t\t\t\tvalue: 'custom',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tvalue={ submissionMethod }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { submissionMethod: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\tsubmissionMethod === 'custom'\n\t\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t\t'Select the method to use for form submissions. Additional options for the \"custom\" mode can be found in the \"Advanced\" section.'\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t'Select the method to use for form submissions.'\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{ submissionMethod === 'email' && (\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tlabel={ __( 'Email for form submissions' ) }\n\t\t\t\t\t\t\tvalue={ email }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { email: value } );\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\taction: `mailto:${ value }`,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\tsetAttributes( { method: 'post' } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'The email address where form submissions will be sent. Separate multiple email addresses with a comma.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t{ submissionMethod !== 'email' && (\n\t\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Method' ) }\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t{ label: 'Get', value: 'get' },\n\t\t\t\t\t\t\t{ label: 'Post', value: 'post' },\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tvalue={ method }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { method: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Select the method to use for form submissions.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tlabel={ __( 'Form action' ) }\n\t\t\t\t\t\tvalue={ action }\n\t\t\t\t\t\tonChange={ ( newVal ) => {\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\taction: newVal,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'The URL where the form should be submitted.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t/>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t\t<form\n\t\t\t\t{ ...innerBlocksProps }\n\t\t\t\tclassName=\"wp-block-form\"\n\t\t\t\tencType={ submissionMethod === 'email' ? 'text/plain' : null }\n\t\t\t/>\n\t\t</>\n\t);\n};\nexport default Edit;\n"],"mappings":"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","ignoreList":[]}