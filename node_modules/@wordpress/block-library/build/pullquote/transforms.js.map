{"version":3,"names":["_blocks","require","_richText","transforms","from","type","isMultiBlock","blocks","transform","attributes","createBlock","value","toHTMLString","join","map","content","create","html","anchor","to","citation","paragraphs","push","length","headingBlock","_default","exports","default"],"sources":["@wordpress/block-library/src/pullquote/transforms.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\nimport { create, join, toHTMLString } from '@wordpress/rich-text';\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tisMultiBlock: true,\n\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\ttransform: ( attributes ) => {\n\t\t\t\treturn createBlock( 'core/pullquote', {\n\t\t\t\t\tvalue: toHTMLString( {\n\t\t\t\t\t\tvalue: join(\n\t\t\t\t\t\t\tattributes.map( ( { content } ) =>\n\t\t\t\t\t\t\t\tcreate( { html: content } )\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'\\n'\n\t\t\t\t\t\t),\n\t\t\t\t\t} ),\n\t\t\t\t\tanchor: attributes.anchor,\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/heading' ],\n\t\t\ttransform: ( { content, anchor } ) => {\n\t\t\t\treturn createBlock( 'core/pullquote', {\n\t\t\t\t\tvalue: content,\n\t\t\t\t\tanchor,\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t],\n\tto: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\ttransform: ( { value, citation } ) => {\n\t\t\t\tconst paragraphs = [];\n\t\t\t\tif ( value ) {\n\t\t\t\t\tparagraphs.push(\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\tcontent: value,\n\t\t\t\t\t\t} )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif ( citation ) {\n\t\t\t\t\tparagraphs.push(\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\tcontent: citation,\n\t\t\t\t\t\t} )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif ( paragraphs.length === 0 ) {\n\t\t\t\t\treturn createBlock( 'core/paragraph', {\n\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\treturn paragraphs;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/heading' ],\n\t\t\ttransform: ( { value, citation } ) => {\n\t\t\t\t// If there is no pullquote content, use the citation as the\n\t\t\t\t// content of the resulting heading. A nonexistent citation\n\t\t\t\t// will result in an empty heading.\n\t\t\t\tif ( ! value ) {\n\t\t\t\t\treturn createBlock( 'core/heading', {\n\t\t\t\t\t\tcontent: citation,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\tconst headingBlock = createBlock( 'core/heading', {\n\t\t\t\t\tcontent: value,\n\t\t\t\t} );\n\t\t\t\tif ( ! citation ) {\n\t\t\t\t\treturn headingBlock;\n\t\t\t\t}\n\t\t\t\treturn [\n\t\t\t\t\theadingBlock,\n\t\t\t\t\tcreateBlock( 'core/heading', {\n\t\t\t\t\t\tcontent: citation,\n\t\t\t\t\t} ),\n\t\t\t\t];\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n"],"mappings":";;;;;;AAGA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AAJA;AACA;AACA;;AAIA,MAAME,UAAU,GAAG;EAClBC,IAAI,EAAE,CACL;IACCC,IAAI,EAAE,OAAO;IACbC,YAAY,EAAE,IAAI;IAClBC,MAAM,EAAE,CAAE,gBAAgB,CAAE;IAC5BC,SAAS,EAAIC,UAAU,IAAM;MAC5B,OAAO,IAAAC,mBAAW,EAAE,gBAAgB,EAAE;QACrCC,KAAK,EAAE,IAAAC,sBAAY,EAAE;UACpBD,KAAK,EAAE,IAAAE,cAAI,EACVJ,UAAU,CAACK,GAAG,CAAE,CAAE;YAAEC;UAAQ,CAAC,KAC5B,IAAAC,gBAAM,EAAE;YAAEC,IAAI,EAAEF;UAAQ,CAAE,CAC3B,CAAC,EACD,IACD;QACD,CAAE,CAAC;QACHG,MAAM,EAAET,UAAU,CAACS;MACpB,CAAE,CAAC;IACJ;EACD,CAAC,EACD;IACCb,IAAI,EAAE,OAAO;IACbE,MAAM,EAAE,CAAE,cAAc,CAAE;IAC1BC,SAAS,EAAEA,CAAE;MAAEO,OAAO;MAAEG;IAAO,CAAC,KAAM;MACrC,OAAO,IAAAR,mBAAW,EAAE,gBAAgB,EAAE;QACrCC,KAAK,EAAEI,OAAO;QACdG;MACD,CAAE,CAAC;IACJ;EACD,CAAC,CACD;EACDC,EAAE,EAAE,CACH;IACCd,IAAI,EAAE,OAAO;IACbE,MAAM,EAAE,CAAE,gBAAgB,CAAE;IAC5BC,SAAS,EAAEA,CAAE;MAAEG,KAAK;MAAES;IAAS,CAAC,KAAM;MACrC,MAAMC,UAAU,GAAG,EAAE;MACrB,IAAKV,KAAK,EAAG;QACZU,UAAU,CAACC,IAAI,CACd,IAAAZ,mBAAW,EAAE,gBAAgB,EAAE;UAC9BK,OAAO,EAAEJ;QACV,CAAE,CACH,CAAC;MACF;MACA,IAAKS,QAAQ,EAAG;QACfC,UAAU,CAACC,IAAI,CACd,IAAAZ,mBAAW,EAAE,gBAAgB,EAAE;UAC9BK,OAAO,EAAEK;QACV,CAAE,CACH,CAAC;MACF;MACA,IAAKC,UAAU,CAACE,MAAM,KAAK,CAAC,EAAG;QAC9B,OAAO,IAAAb,mBAAW,EAAE,gBAAgB,EAAE;UACrCK,OAAO,EAAE;QACV,CAAE,CAAC;MACJ;MACA,OAAOM,UAAU;IAClB;EACD,CAAC,EACD;IACChB,IAAI,EAAE,OAAO;IACbE,MAAM,EAAE,CAAE,cAAc,CAAE;IAC1BC,SAAS,EAAEA,CAAE;MAAEG,KAAK;MAAES;IAAS,CAAC,KAAM;MACrC;MACA;MACA;MACA,IAAK,CAAET,KAAK,EAAG;QACd,OAAO,IAAAD,mBAAW,EAAE,cAAc,EAAE;UACnCK,OAAO,EAAEK;QACV,CAAE,CAAC;MACJ;MACA,MAAMI,YAAY,GAAG,IAAAd,mBAAW,EAAE,cAAc,EAAE;QACjDK,OAAO,EAAEJ;MACV,CAAE,CAAC;MACH,IAAK,CAAES,QAAQ,EAAG;QACjB,OAAOI,YAAY;MACpB;MACA,OAAO,CACNA,YAAY,EACZ,IAAAd,mBAAW,EAAE,cAAc,EAAE;QAC5BK,OAAO,EAAEK;MACV,CAAE,CAAC,CACH;IACF;EACD,CAAC;AAEH,CAAC;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEaxB,UAAU","ignoreList":[]}