{"version":3,"names":["_constants","require","_url","getUpdatedLinkAttributes","rel","url","opensInNewTab","nofollow","newLinkTarget","updatedRel","NEW_TAB_TARGET","includes","NEW_TAB_REL","relRegex","RegExp","replace","trim","NOFOLLOW_REL","prependHTTP","linkTarget","undefined"],"sources":["@wordpress/block-library/src/button/get-updated-link-attributes.js"],"sourcesContent":["/**\n * Internal dependencies\n */\nimport { NEW_TAB_REL, NEW_TAB_TARGET, NOFOLLOW_REL } from './constants';\n\n/**\n * WordPress dependencies\n */\nimport { prependHTTP } from '@wordpress/url';\n\n/**\n * Updates the link attributes.\n *\n * @param {Object}  attributes               The current block attributes.\n * @param {string}  attributes.rel           The current link rel attribute.\n * @param {string}  attributes.url           The current link url.\n * @param {boolean} attributes.opensInNewTab Whether the link should open in a new window.\n * @param {boolean} attributes.nofollow      Whether the link should be marked as nofollow.\n */\nexport function getUpdatedLinkAttributes( {\n\trel = '',\n\turl = '',\n\topensInNewTab,\n\tnofollow,\n} ) {\n\tlet newLinkTarget;\n\t// Since `rel` is editable attribute, we need to check for existing values and proceed accordingly.\n\tlet updatedRel = rel;\n\n\tif ( opensInNewTab ) {\n\t\tnewLinkTarget = NEW_TAB_TARGET;\n\t\tupdatedRel = updatedRel?.includes( NEW_TAB_REL )\n\t\t\t? updatedRel\n\t\t\t: updatedRel + ` ${ NEW_TAB_REL }`;\n\t} else {\n\t\tconst relRegex = new RegExp( `\\\\b${ NEW_TAB_REL }\\\\s*`, 'g' );\n\t\tupdatedRel = updatedRel?.replace( relRegex, '' ).trim();\n\t}\n\n\tif ( nofollow ) {\n\t\tupdatedRel = updatedRel?.includes( NOFOLLOW_REL )\n\t\t\t? updatedRel\n\t\t\t: ( updatedRel + ` ${ NOFOLLOW_REL }` ).trim();\n\t} else {\n\t\tconst relRegex = new RegExp( `\\\\b${ NOFOLLOW_REL }\\\\s*`, 'g' );\n\t\tupdatedRel = updatedRel?.replace( relRegex, '' ).trim();\n\t}\n\n\treturn {\n\t\turl: prependHTTP( url ),\n\t\tlinkTarget: newLinkTarget,\n\t\trel: updatedRel || undefined,\n\t};\n}\n"],"mappings":";;;;;;AAGA,IAAAA,UAAA,GAAAC,OAAA;AAKA,IAAAC,IAAA,GAAAD,OAAA;AARA;AACA;AACA;;AAGA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASE,wBAAwBA,CAAE;EACzCC,GAAG,GAAG,EAAE;EACRC,GAAG,GAAG,EAAE;EACRC,aAAa;EACbC;AACD,CAAC,EAAG;EACH,IAAIC,aAAa;EACjB;EACA,IAAIC,UAAU,GAAGL,GAAG;EAEpB,IAAKE,aAAa,EAAG;IACpBE,aAAa,GAAGE,yBAAc;IAC9BD,UAAU,GAAGA,UAAU,EAAEE,QAAQ,CAAEC,sBAAY,CAAC,GAC7CH,UAAU,GACVA,UAAU,GAAG,IAAKG,sBAAW,EAAG;EACpC,CAAC,MAAM;IACN,MAAMC,QAAQ,GAAG,IAAIC,MAAM,CAAE,MAAOF,sBAAW,MAAO,EAAE,GAAI,CAAC;IAC7DH,UAAU,GAAGA,UAAU,EAAEM,OAAO,CAAEF,QAAQ,EAAE,EAAG,CAAC,CAACG,IAAI,CAAC,CAAC;EACxD;EAEA,IAAKT,QAAQ,EAAG;IACfE,UAAU,GAAGA,UAAU,EAAEE,QAAQ,CAAEM,uBAAa,CAAC,GAC9CR,UAAU,GACV,CAAEA,UAAU,GAAG,IAAKQ,uBAAY,EAAG,EAAGD,IAAI,CAAC,CAAC;EAChD,CAAC,MAAM;IACN,MAAMH,QAAQ,GAAG,IAAIC,MAAM,CAAE,MAAOG,uBAAY,MAAO,EAAE,GAAI,CAAC;IAC9DR,UAAU,GAAGA,UAAU,EAAEM,OAAO,CAAEF,QAAQ,EAAE,EAAG,CAAC,CAACG,IAAI,CAAC,CAAC;EACxD;EAEA,OAAO;IACNX,GAAG,EAAE,IAAAa,gBAAW,EAAEb,GAAI,CAAC;IACvBc,UAAU,EAAEX,aAAa;IACzBJ,GAAG,EAAEK,UAAU,IAAIW;EACpB,CAAC;AACF","ignoreList":[]}