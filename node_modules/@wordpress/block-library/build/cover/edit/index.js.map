{"version":3,"names":["_clsx","_interopRequireDefault","require","_coreData","_element","_components","_compose","_blockEditor","_i18n","_data","_blob","_notices","_shared","_inspectorControls","_blockControls","_coverPlaceholder","_resizableCoverPopover","_colorUtils","_constants","_jsxRuntime","getInnerBlocksTemplate","attributes","align","placeholder","__","isTemporaryMedia","id","url","isBlobURL","CoverEdit","clientId","isSelected","overlayColor","setAttributes","setOverlayColor","toggleSelection","context","postId","postType","_media$media_details$","contentPosition","originalUrl","backgroundType","originalBackgroundType","useFeaturedImage","dimRatio","focalPoint","hasParallax","isDark","isRepeated","minHeight","minHeightUnit","alt","allowedBlocks","templateLock","tagName","TagName","isUserOverlayColor","sizeSlug","featuredImage","useEntityProp","getSettings","useSelect","blockEditorStore","__unstableMarkNextChangeAsNotPersistent","useDispatch","media","select","coreStore","getMedia","undefined","mediaUrl","media_details","sizes","source_url","useEffect","averageBackgroundColor","getMediaColor","newOverlayColor","color","newIsDark","compositeIsDark","replaceAll","IMAGE_BACKGROUND_TYPE","createErrorNotice","noticesStore","gradientClass","gradientValue","__experimentalUseGradient","onSelectMedia","newMedia","mediaAttributes","attributesFromMedia","isImage","type","media_type","includes","newDimRatio","imageDefaultSize","DEFAULT_MEDIA_SIZE_SLUG","onClearMedia","DEFAULT_OVERLAY_COLOR","DEFAULT_BACKGROUND_COLOR","onSetOverlayColor","onUpdateDimRatio","onUploadError","message","isUploadingMedia","isImageBackground","isVideoBackground","VIDEO_BACKGROUND_TYPE","blockEditingMode","useBlockEditingMode","hasNonContentControls","resizeListener","height","width","useResizeObserver","resizableBoxDimensions","useMemo","minHeightWithUnit","isImgElement","style","backgroundImage","backgroundPosition","mediaPosition","bgStyle","backgroundColor","mediaStyle","objectPosition","hasBackground","hasInnerBlocks","getBlock","innerBlocks","length","ref","useRef","blockProps","useBlockProps","fontSizes","useSettings","hasFontSizes","innerBlocksTemplate","fontSize","innerBlocksProps","useInnerBlocksProps","className","template","templateInsertUpdatesSelection","dropZoneElement","current","mediaElement","currentSettings","toggleUseFeaturedImage","newUseFeaturedImage","blockControls","jsx","default","inspectorControls","coverRef","updateDimRatio","resizableCoverProps","onResizeStart","onResize","value","onResizeStop","newMinHeight","showHandle","dimensions","aspectRatio","size","jsxs","Fragment","children","clsx","onError","ColorPalette","disableCustomColors","onChange","clearable","asButtons","classes","isContentPositionCenter","getPositionClassName","showOverlay","Placeholder","withIllustration","src","role","autoPlay","muted","loop","dimRatioToClass","class","Spinner","disableMediaButtons","_default","exports","compose","withColors"],"sources":["@wordpress/block-library/src/cover/edit/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useEntityProp, store as coreStore } from '@wordpress/core-data';\nimport { useEffect, useMemo, useRef } from '@wordpress/element';\nimport { Placeholder, Spinner } from '@wordpress/components';\nimport { compose, useResizeObserver } from '@wordpress/compose';\nimport {\n\twithColors,\n\tColorPalette,\n\tuseBlockProps,\n\tuseSettings,\n\tuseInnerBlocksProps,\n\t__experimentalUseGradient,\n\tstore as blockEditorStore,\n\tuseBlockEditingMode,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { isBlobURL } from '@wordpress/blob';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport {\n\tattributesFromMedia,\n\tIMAGE_BACKGROUND_TYPE,\n\tVIDEO_BACKGROUND_TYPE,\n\tdimRatioToClass,\n\tisContentPositionCenter,\n\tgetPositionClassName,\n\tmediaPosition,\n} from '../shared';\nimport CoverInspectorControls from './inspector-controls';\nimport CoverBlockControls from './block-controls';\nimport CoverPlaceholder from './cover-placeholder';\nimport ResizableCoverPopover from './resizable-cover-popover';\nimport {\n\tgetMediaColor,\n\tcompositeIsDark,\n\tDEFAULT_BACKGROUND_COLOR,\n\tDEFAULT_OVERLAY_COLOR,\n} from './color-utils';\nimport { DEFAULT_MEDIA_SIZE_SLUG } from '../constants';\n\nfunction getInnerBlocksTemplate( attributes ) {\n\treturn [\n\t\t[\n\t\t\t'core/paragraph',\n\t\t\t{\n\t\t\t\talign: 'center',\n\t\t\t\tplaceholder: __( 'Write titleâ€¦' ),\n\t\t\t\t...attributes,\n\t\t\t},\n\t\t],\n\t];\n}\n\n/**\n * Is the URL a temporary blob URL? A blob URL is one that is used temporarily while\n * the media (image or video) is being uploaded and will not have an id allocated yet.\n *\n * @param {number} id  The id of the media.\n * @param {string} url The url of the media.\n *\n * @return {boolean} Is the URL a Blob URL.\n */\nconst isTemporaryMedia = ( id, url ) => ! id && isBlobURL( url );\n\nfunction CoverEdit( {\n\tattributes,\n\tclientId,\n\tisSelected,\n\toverlayColor,\n\tsetAttributes,\n\tsetOverlayColor,\n\ttoggleSelection,\n\tcontext: { postId, postType },\n} ) {\n\tconst {\n\t\tcontentPosition,\n\t\tid,\n\t\turl: originalUrl,\n\t\tbackgroundType: originalBackgroundType,\n\t\tuseFeaturedImage,\n\t\tdimRatio,\n\t\tfocalPoint,\n\t\thasParallax,\n\t\tisDark,\n\t\tisRepeated,\n\t\tminHeight,\n\t\tminHeightUnit,\n\t\talt,\n\t\tallowedBlocks,\n\t\ttemplateLock,\n\t\ttagName: TagName = 'div',\n\t\tisUserOverlayColor,\n\t\tsizeSlug,\n\t} = attributes;\n\n\tconst [ featuredImage ] = useEntityProp(\n\t\t'postType',\n\t\tpostType,\n\t\t'featured_media',\n\t\tpostId\n\t);\n\tconst { getSettings } = useSelect( blockEditorStore );\n\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\n\t\tuseDispatch( blockEditorStore );\n\tconst { media } = useSelect(\n\t\t( select ) => {\n\t\t\treturn {\n\t\t\t\tmedia:\n\t\t\t\t\tfeaturedImage && useFeaturedImage\n\t\t\t\t\t\t? select( coreStore ).getMedia( featuredImage, {\n\t\t\t\t\t\t\t\tcontext: 'view',\n\t\t\t\t\t\t  } )\n\t\t\t\t\t\t: undefined,\n\t\t\t};\n\t\t},\n\t\t[ featuredImage, useFeaturedImage ]\n\t);\n\tconst mediaUrl =\n\t\tmedia?.media_details?.sizes?.[ sizeSlug ]?.source_url ??\n\t\tmedia?.source_url;\n\n\t// User can change the featured image outside of the block, but we still\n\t// need to update the block when that happens. This effect should only\n\t// run when the featured image changes in that case. All other cases are\n\t// handled in their respective callbacks.\n\tuseEffect( () => {\n\t\t( async () => {\n\t\t\tif ( ! useFeaturedImage ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst averageBackgroundColor = await getMediaColor( mediaUrl );\n\n\t\t\tlet newOverlayColor = overlayColor.color;\n\t\t\tif ( ! isUserOverlayColor ) {\n\t\t\t\tnewOverlayColor = averageBackgroundColor;\n\t\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\t\tsetOverlayColor( newOverlayColor );\n\t\t\t}\n\n\t\t\tconst newIsDark = compositeIsDark(\n\t\t\t\tdimRatio,\n\t\t\t\tnewOverlayColor,\n\t\t\t\taverageBackgroundColor\n\t\t\t);\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tsetAttributes( {\n\t\t\t\tisDark: newIsDark,\n\t\t\t\tisUserOverlayColor: isUserOverlayColor || false,\n\t\t\t} );\n\t\t} )();\n\t\t// Update the block only when the featured image changes.\n\t}, [ mediaUrl ] );\n\n\t// instead of destructuring the attributes\n\t// we define the url and background type\n\t// depending on the value of the useFeaturedImage flag\n\t// to preview in edit the dynamic featured image\n\tconst url = useFeaturedImage\n\t\t? mediaUrl\n\t\t: // Ensure the url is not malformed due to sanitization through `wp_kses`.\n\t\t  originalUrl?.replaceAll( '&amp;', '&' );\n\tconst backgroundType = useFeaturedImage\n\t\t? IMAGE_BACKGROUND_TYPE\n\t\t: originalBackgroundType;\n\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst { gradientClass, gradientValue } = __experimentalUseGradient();\n\n\tconst onSelectMedia = async ( newMedia ) => {\n\t\tconst mediaAttributes = attributesFromMedia( newMedia );\n\t\tconst isImage = [ newMedia?.type, newMedia?.media_type ].includes(\n\t\t\tIMAGE_BACKGROUND_TYPE\n\t\t);\n\n\t\tconst averageBackgroundColor = await getMediaColor(\n\t\t\tisImage ? newMedia?.url : undefined\n\t\t);\n\n\t\tlet newOverlayColor = overlayColor.color;\n\t\tif ( ! isUserOverlayColor ) {\n\t\t\tnewOverlayColor = averageBackgroundColor;\n\t\t\tsetOverlayColor( newOverlayColor );\n\n\t\t\t// Make undo revert the next setAttributes and the previous setOverlayColor.\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t}\n\n\t\t// Only set a new dimRatio if there was no previous media selected\n\t\t// to avoid resetting to 50 if it has been explicitly set to 100.\n\t\t// See issue #52835 for context.\n\t\tconst newDimRatio =\n\t\t\toriginalUrl === undefined && dimRatio === 100 ? 50 : dimRatio;\n\n\t\tconst newIsDark = compositeIsDark(\n\t\t\tnewDimRatio,\n\t\t\tnewOverlayColor,\n\t\t\taverageBackgroundColor\n\t\t);\n\n\t\tif ( backgroundType === IMAGE_BACKGROUND_TYPE && mediaAttributes?.id ) {\n\t\t\tconst { imageDefaultSize } = getSettings();\n\n\t\t\t// Try to use the previous selected image size if it's available\n\t\t\t// otherwise try the default image size or fallback to full size.\n\t\t\tif (\n\t\t\t\tsizeSlug &&\n\t\t\t\t( newMedia?.sizes?.[ sizeSlug ] ||\n\t\t\t\t\tnewMedia?.media_details?.sizes?.[ sizeSlug ] )\n\t\t\t) {\n\t\t\t\tmediaAttributes.sizeSlug = sizeSlug;\n\t\t\t\tmediaAttributes.url =\n\t\t\t\t\tnewMedia?.sizes?.[ sizeSlug ]?.url ||\n\t\t\t\t\tnewMedia?.media_details?.sizes?.[ sizeSlug ]?.source_url;\n\t\t\t} else if (\n\t\t\t\tnewMedia?.sizes?.[ imageDefaultSize ] ||\n\t\t\t\tnewMedia?.media_details?.sizes?.[ imageDefaultSize ]\n\t\t\t) {\n\t\t\t\tmediaAttributes.sizeSlug = imageDefaultSize;\n\t\t\t\tmediaAttributes.url =\n\t\t\t\t\tnewMedia?.sizes?.[ imageDefaultSize ]?.url ||\n\t\t\t\t\tnewMedia?.media_details?.sizes?.[ imageDefaultSize ]\n\t\t\t\t\t\t?.source_url;\n\t\t\t} else {\n\t\t\t\tmediaAttributes.sizeSlug = DEFAULT_MEDIA_SIZE_SLUG;\n\t\t\t}\n\t\t}\n\n\t\tsetAttributes( {\n\t\t\t...mediaAttributes,\n\t\t\tfocalPoint: undefined,\n\t\t\tuseFeaturedImage: undefined,\n\t\t\tdimRatio: newDimRatio,\n\t\t\tisDark: newIsDark,\n\t\t\tisUserOverlayColor: isUserOverlayColor || false,\n\t\t} );\n\t};\n\n\tconst onClearMedia = () => {\n\t\tlet newOverlayColor = overlayColor.color;\n\t\tif ( ! isUserOverlayColor ) {\n\t\t\tnewOverlayColor = DEFAULT_OVERLAY_COLOR;\n\t\t\tsetOverlayColor( undefined );\n\n\t\t\t// Make undo revert the next setAttributes and the previous setOverlayColor.\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t}\n\n\t\tconst newIsDark = compositeIsDark(\n\t\t\tdimRatio,\n\t\t\tnewOverlayColor,\n\t\t\tDEFAULT_BACKGROUND_COLOR\n\t\t);\n\n\t\tsetAttributes( {\n\t\t\turl: undefined,\n\t\t\tid: undefined,\n\t\t\tbackgroundType: undefined,\n\t\t\tfocalPoint: undefined,\n\t\t\thasParallax: undefined,\n\t\t\tisRepeated: undefined,\n\t\t\tuseFeaturedImage: undefined,\n\t\t\tisDark: newIsDark,\n\t\t} );\n\t};\n\n\tconst onSetOverlayColor = async ( newOverlayColor ) => {\n\t\tconst averageBackgroundColor = await getMediaColor( url );\n\t\tconst newIsDark = compositeIsDark(\n\t\t\tdimRatio,\n\t\t\tnewOverlayColor,\n\t\t\taverageBackgroundColor\n\t\t);\n\n\t\tsetOverlayColor( newOverlayColor );\n\n\t\t// Make undo revert the next setAttributes and the previous setOverlayColor.\n\t\t__unstableMarkNextChangeAsNotPersistent();\n\n\t\tsetAttributes( {\n\t\t\tisUserOverlayColor: true,\n\t\t\tisDark: newIsDark,\n\t\t} );\n\t};\n\n\tconst onUpdateDimRatio = async ( newDimRatio ) => {\n\t\tconst averageBackgroundColor = await getMediaColor( url );\n\t\tconst newIsDark = compositeIsDark(\n\t\t\tnewDimRatio,\n\t\t\toverlayColor.color,\n\t\t\taverageBackgroundColor\n\t\t);\n\n\t\tsetAttributes( {\n\t\t\tdimRatio: newDimRatio,\n\t\t\tisDark: newIsDark,\n\t\t} );\n\t};\n\n\tconst onUploadError = ( message ) => {\n\t\tcreateErrorNotice( message, { type: 'snackbar' } );\n\t};\n\n\tconst isUploadingMedia = isTemporaryMedia( id, url );\n\n\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\n\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\n\n\tconst blockEditingMode = useBlockEditingMode();\n\tconst hasNonContentControls = blockEditingMode === 'default';\n\n\tconst [ resizeListener, { height, width } ] = useResizeObserver();\n\tconst resizableBoxDimensions = useMemo( () => {\n\t\treturn {\n\t\t\theight: minHeightUnit === 'px' ? minHeight : 'auto',\n\t\t\twidth: 'auto',\n\t\t};\n\t}, [ minHeight, minHeightUnit ] );\n\n\tconst minHeightWithUnit =\n\t\tminHeight && minHeightUnit\n\t\t\t? `${ minHeight }${ minHeightUnit }`\n\t\t\t: minHeight;\n\n\tconst isImgElement = ! ( hasParallax || isRepeated );\n\n\tconst style = {\n\t\tminHeight: minHeightWithUnit || undefined,\n\t};\n\n\tconst backgroundImage = url ? `url(${ url })` : undefined;\n\n\tconst backgroundPosition = mediaPosition( focalPoint );\n\n\tconst bgStyle = { backgroundColor: overlayColor.color };\n\tconst mediaStyle = {\n\t\tobjectPosition:\n\t\t\tfocalPoint && isImgElement\n\t\t\t\t? mediaPosition( focalPoint )\n\t\t\t\t: undefined,\n\t};\n\n\tconst hasBackground = !! ( url || overlayColor.color || gradientValue );\n\n\tconst hasInnerBlocks = useSelect(\n\t\t( select ) =>\n\t\t\tselect( blockEditorStore ).getBlock( clientId ).innerBlocks.length >\n\t\t\t0,\n\t\t[ clientId ]\n\t);\n\n\tconst ref = useRef();\n\tconst blockProps = useBlockProps( { ref } );\n\n\t// Check for fontSize support before we pass a fontSize attribute to the innerBlocks.\n\tconst [ fontSizes ] = useSettings( 'typography.fontSizes' );\n\tconst hasFontSizes = fontSizes?.length > 0;\n\tconst innerBlocksTemplate = getInnerBlocksTemplate( {\n\t\tfontSize: hasFontSizes ? 'large' : undefined,\n\t} );\n\n\tconst innerBlocksProps = useInnerBlocksProps(\n\t\t{\n\t\t\tclassName: 'wp-block-cover__inner-container',\n\t\t},\n\t\t{\n\t\t\t// Avoid template sync when the `templateLock` value is `all` or `contentOnly`.\n\t\t\t// See: https://github.com/WordPress/gutenberg/pull/45632\n\t\t\ttemplate: ! hasInnerBlocks ? innerBlocksTemplate : undefined,\n\t\t\ttemplateInsertUpdatesSelection: true,\n\t\t\tallowedBlocks,\n\t\t\ttemplateLock,\n\t\t\tdropZoneElement: ref.current,\n\t\t}\n\t);\n\n\tconst mediaElement = useRef();\n\tconst currentSettings = {\n\t\tisVideoBackground,\n\t\tisImageBackground,\n\t\tmediaElement,\n\t\thasInnerBlocks,\n\t\turl,\n\t\tisImgElement,\n\t\toverlayColor,\n\t};\n\n\tconst toggleUseFeaturedImage = async () => {\n\t\tconst newUseFeaturedImage = ! useFeaturedImage;\n\n\t\tconst averageBackgroundColor = newUseFeaturedImage\n\t\t\t? await getMediaColor( mediaUrl )\n\t\t\t: DEFAULT_BACKGROUND_COLOR;\n\n\t\tconst newOverlayColor = ! isUserOverlayColor\n\t\t\t? averageBackgroundColor\n\t\t\t: overlayColor.color;\n\n\t\tif ( ! isUserOverlayColor ) {\n\t\t\tif ( newUseFeaturedImage ) {\n\t\t\t\tsetOverlayColor( newOverlayColor );\n\t\t\t} else {\n\t\t\t\tsetOverlayColor( undefined );\n\t\t\t}\n\n\t\t\t// Make undo revert the next setAttributes and the previous setOverlayColor.\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t}\n\n\t\tconst newDimRatio = dimRatio === 100 ? 50 : dimRatio;\n\t\tconst newIsDark = compositeIsDark(\n\t\t\tnewDimRatio,\n\t\t\tnewOverlayColor,\n\t\t\taverageBackgroundColor\n\t\t);\n\n\t\tsetAttributes( {\n\t\t\tid: undefined,\n\t\t\turl: undefined,\n\t\t\tuseFeaturedImage: newUseFeaturedImage,\n\t\t\tdimRatio: newDimRatio,\n\t\t\tbackgroundType: useFeaturedImage\n\t\t\t\t? IMAGE_BACKGROUND_TYPE\n\t\t\t\t: undefined,\n\t\t\tisDark: newIsDark,\n\t\t} );\n\t};\n\n\tconst blockControls = (\n\t\t<CoverBlockControls\n\t\t\tattributes={ attributes }\n\t\t\tsetAttributes={ setAttributes }\n\t\t\tonSelectMedia={ onSelectMedia }\n\t\t\tcurrentSettings={ currentSettings }\n\t\t\ttoggleUseFeaturedImage={ toggleUseFeaturedImage }\n\t\t\tonClearMedia={ onClearMedia }\n\t\t/>\n\t);\n\n\tconst inspectorControls = (\n\t\t<CoverInspectorControls\n\t\t\tattributes={ attributes }\n\t\t\tsetAttributes={ setAttributes }\n\t\t\tclientId={ clientId }\n\t\t\tsetOverlayColor={ onSetOverlayColor }\n\t\t\tcoverRef={ ref }\n\t\t\tcurrentSettings={ currentSettings }\n\t\t\ttoggleUseFeaturedImage={ toggleUseFeaturedImage }\n\t\t\tupdateDimRatio={ onUpdateDimRatio }\n\t\t\tonClearMedia={ onClearMedia }\n\t\t\tfeaturedImage={ media }\n\t\t/>\n\t);\n\n\tconst resizableCoverProps = {\n\t\tclassName: 'block-library-cover__resize-container',\n\t\tclientId,\n\t\theight,\n\t\tminHeight: minHeightWithUnit,\n\t\tonResizeStart: () => {\n\t\t\tsetAttributes( { minHeightUnit: 'px' } );\n\t\t\ttoggleSelection( false );\n\t\t},\n\t\tonResize: ( value ) => {\n\t\t\tsetAttributes( { minHeight: value } );\n\t\t},\n\t\tonResizeStop: ( newMinHeight ) => {\n\t\t\ttoggleSelection( true );\n\t\t\tsetAttributes( { minHeight: newMinHeight } );\n\t\t},\n\t\t// Hide the resize handle if an aspect ratio is set, as the aspect ratio takes precedence.\n\t\tshowHandle: ! attributes.style?.dimensions?.aspectRatio,\n\t\tsize: resizableBoxDimensions,\n\t\twidth,\n\t};\n\n\tif ( ! useFeaturedImage && ! hasInnerBlocks && ! hasBackground ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ blockControls }\n\t\t\t\t{ inspectorControls }\n\t\t\t\t{ hasNonContentControls && isSelected && (\n\t\t\t\t\t<ResizableCoverPopover { ...resizableCoverProps } />\n\t\t\t\t) }\n\t\t\t\t<TagName\n\t\t\t\t\t{ ...blockProps }\n\t\t\t\t\tclassName={ clsx( 'is-placeholder', blockProps.className ) }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t...blockProps.style,\n\t\t\t\t\t\tminHeight: minHeightWithUnit || undefined,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ resizeListener }\n\t\t\t\t\t<CoverPlaceholder\n\t\t\t\t\t\tonSelectMedia={ onSelectMedia }\n\t\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\t\ttoggleUseFeaturedImage={ toggleUseFeaturedImage }\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"wp-block-cover__placeholder-background-options\">\n\t\t\t\t\t\t\t<ColorPalette\n\t\t\t\t\t\t\t\tdisableCustomColors\n\t\t\t\t\t\t\t\tvalue={ overlayColor.color }\n\t\t\t\t\t\t\t\tonChange={ onSetOverlayColor }\n\t\t\t\t\t\t\t\tclearable={ false }\n\t\t\t\t\t\t\t\tasButtons\n\t\t\t\t\t\t\t\taria-label={ __( 'Overlay color' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CoverPlaceholder>\n\t\t\t\t</TagName>\n\t\t\t</>\n\t\t);\n\t}\n\n\tconst classes = clsx(\n\t\t{\n\t\t\t'is-dark-theme': isDark,\n\t\t\t'is-light': ! isDark,\n\t\t\t'is-transient': isUploadingMedia,\n\t\t\t'has-parallax': hasParallax,\n\t\t\t'is-repeated': isRepeated,\n\t\t\t'has-custom-content-position':\n\t\t\t\t! isContentPositionCenter( contentPosition ),\n\t\t},\n\t\tgetPositionClassName( contentPosition )\n\t);\n\n\tconst showOverlay =\n\t\turl || ! useFeaturedImage || ( useFeaturedImage && ! url );\n\n\treturn (\n\t\t<>\n\t\t\t{ blockControls }\n\t\t\t{ inspectorControls }\n\t\t\t<TagName\n\t\t\t\t{ ...blockProps }\n\t\t\t\tclassName={ clsx( classes, blockProps.className ) }\n\t\t\t\tstyle={ { ...style, ...blockProps.style } }\n\t\t\t\tdata-url={ url }\n\t\t\t>\n\t\t\t\t{ resizeListener }\n\n\t\t\t\t{ ! url && useFeaturedImage && (\n\t\t\t\t\t<Placeholder\n\t\t\t\t\t\tclassName=\"wp-block-cover__image--placeholder-image\"\n\t\t\t\t\t\twithIllustration\n\t\t\t\t\t/>\n\t\t\t\t) }\n\n\t\t\t\t{ url &&\n\t\t\t\t\tisImageBackground &&\n\t\t\t\t\t( isImgElement ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tref={ mediaElement }\n\t\t\t\t\t\t\tclassName=\"wp-block-cover__image-background\"\n\t\t\t\t\t\t\talt={ alt }\n\t\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\t\tstyle={ mediaStyle }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tref={ mediaElement }\n\t\t\t\t\t\t\trole={ alt ? 'img' : undefined }\n\t\t\t\t\t\t\taria-label={ alt ? alt : undefined }\n\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\tclasses,\n\t\t\t\t\t\t\t\t'wp-block-cover__image-background'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tstyle={ { backgroundImage, backgroundPosition } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t{ url && isVideoBackground && (\n\t\t\t\t\t<video\n\t\t\t\t\t\tref={ mediaElement }\n\t\t\t\t\t\tclassName=\"wp-block-cover__video-background\"\n\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\tstyle={ mediaStyle }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\n\t\t\t\t{ showOverlay && (\n\t\t\t\t\t<span\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t'wp-block-cover__background',\n\t\t\t\t\t\t\tdimRatioToClass( dimRatio ),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t[ overlayColor.class ]: overlayColor.class,\n\t\t\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\n\t\t\t\t\t\t\t\t// For backwards compatibility. Former versions of the Cover Block applied\n\t\t\t\t\t\t\t\t// `.wp-block-cover__gradient-background` in the presence of\n\t\t\t\t\t\t\t\t// media, a gradient and a dim.\n\t\t\t\t\t\t\t\t'wp-block-cover__gradient-background':\n\t\t\t\t\t\t\t\t\turl && gradientValue && dimRatio !== 0,\n\t\t\t\t\t\t\t\t'has-background-gradient': gradientValue,\n\t\t\t\t\t\t\t\t[ gradientClass ]: gradientClass,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tstyle={ { backgroundImage: gradientValue, ...bgStyle } }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\n\t\t\t\t{ isUploadingMedia && <Spinner /> }\n\n\t\t\t\t<CoverPlaceholder\n\t\t\t\t\tdisableMediaButtons\n\t\t\t\t\tonSelectMedia={ onSelectMedia }\n\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\ttoggleUseFeaturedImage={ toggleUseFeaturedImage }\n\t\t\t\t/>\n\t\t\t\t<div { ...innerBlocksProps } />\n\t\t\t</TagName>\n\t\t\t{ hasNonContentControls && isSelected && (\n\t\t\t\t<ResizableCoverPopover { ...resizableCoverProps } />\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default compose( [\n\twithColors( { overlayColor: 'background-color' } ),\n] )( CoverEdit );\n"],"mappings":"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","ignoreList":[]}