{"version":3,"names":["_clsx","_interopRequireDefault","require","_blockEditor","_shared","_jsxRuntime","save","attributes","backgroundType","gradient","contentPosition","customGradient","customOverlayColor","dimRatio","focalPoint","useFeaturedImage","hasParallax","isDark","isRepeated","overlayColor","url","alt","id","minHeight","minHeightProp","minHeightUnit","tagName","Tag","sizeSlug","overlayColorClass","getColorClassName","gradientClass","__experimentalGetGradientClass","isImageBackground","IMAGE_BACKGROUND_TYPE","isVideoBackground","VIDEO_BACKGROUND_TYPE","isImgElement","style","undefined","bgStyle","backgroundColor","background","objectPosition","mediaPosition","backgroundImage","backgroundPosition","classes","clsx","isContentPositionCenter","getPositionClassName","imgClasses","gradientValue","jsxs","useBlockProps","className","children","jsx","src","role","autoPlay","muted","loop","playsInline","dimRatioToClass","useInnerBlocksProps"],"sources":["@wordpress/block-library/src/cover/save.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseInnerBlocksProps,\n\tgetColorClassName,\n\t__experimentalGetGradientClass,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport {\n\tIMAGE_BACKGROUND_TYPE,\n\tVIDEO_BACKGROUND_TYPE,\n\tdimRatioToClass,\n\tisContentPositionCenter,\n\tgetPositionClassName,\n\tmediaPosition,\n} from './shared';\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\tbackgroundType,\n\t\tgradient,\n\t\tcontentPosition,\n\t\tcustomGradient,\n\t\tcustomOverlayColor,\n\t\tdimRatio,\n\t\tfocalPoint,\n\t\tuseFeaturedImage,\n\t\thasParallax,\n\t\tisDark,\n\t\tisRepeated,\n\t\toverlayColor,\n\t\turl,\n\t\talt,\n\t\tid,\n\t\tminHeight: minHeightProp,\n\t\tminHeightUnit,\n\t\ttagName: Tag,\n\t\tsizeSlug,\n\t} = attributes;\n\tconst overlayColorClass = getColorClassName(\n\t\t'background-color',\n\t\toverlayColor\n\t);\n\tconst gradientClass = __experimentalGetGradientClass( gradient );\n\tconst minHeight =\n\t\tminHeightProp && minHeightUnit\n\t\t\t? `${ minHeightProp }${ minHeightUnit }`\n\t\t\t: minHeightProp;\n\n\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\n\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\n\n\tconst isImgElement = ! ( hasParallax || isRepeated );\n\n\tconst style = {\n\t\tminHeight: minHeight || undefined,\n\t};\n\n\tconst bgStyle = {\n\t\tbackgroundColor: ! overlayColorClass ? customOverlayColor : undefined,\n\t\tbackground: customGradient ? customGradient : undefined,\n\t};\n\n\tconst objectPosition =\n\t\t// prettier-ignore\n\t\tfocalPoint && isImgElement\n\t\t\t  ? mediaPosition(focalPoint)\n\t\t\t  : undefined;\n\n\tconst backgroundImage = url ? `url(${ url })` : undefined;\n\n\tconst backgroundPosition = mediaPosition( focalPoint );\n\n\tconst classes = clsx(\n\t\t{\n\t\t\t'is-light': ! isDark,\n\t\t\t'has-parallax': hasParallax,\n\t\t\t'is-repeated': isRepeated,\n\t\t\t'has-custom-content-position':\n\t\t\t\t! isContentPositionCenter( contentPosition ),\n\t\t},\n\t\tgetPositionClassName( contentPosition )\n\t);\n\n\tconst imgClasses = clsx(\n\t\t'wp-block-cover__image-background',\n\t\tid ? `wp-image-${ id }` : null,\n\t\t{\n\t\t\t[ `size-${ sizeSlug }` ]: sizeSlug,\n\t\t\t'has-parallax': hasParallax,\n\t\t\t'is-repeated': isRepeated,\n\t\t}\n\t);\n\n\tconst gradientValue = gradient || customGradient;\n\n\treturn (\n\t\t<Tag { ...useBlockProps.save( { className: classes, style } ) }>\n\t\t\t{ ! useFeaturedImage &&\n\t\t\t\tisImageBackground &&\n\t\t\t\turl &&\n\t\t\t\t( isImgElement ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName={ imgClasses }\n\t\t\t\t\t\talt={ alt }\n\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\tstyle={ { objectPosition } }\n\t\t\t\t\t\tdata-object-fit=\"cover\"\n\t\t\t\t\t\tdata-object-position={ objectPosition }\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\trole={ alt ? 'img' : undefined }\n\t\t\t\t\t\taria-label={ alt ? alt : undefined }\n\t\t\t\t\t\tclassName={ imgClasses }\n\t\t\t\t\t\tstyle={ { backgroundPosition, backgroundImage } }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t{ isVideoBackground && url && (\n\t\t\t\t<video\n\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t'wp-block-cover__video-background',\n\t\t\t\t\t\t'intrinsic-ignore'\n\t\t\t\t\t) }\n\t\t\t\t\tautoPlay\n\t\t\t\t\tmuted\n\t\t\t\t\tloop\n\t\t\t\t\tplaysInline\n\t\t\t\t\tsrc={ url }\n\t\t\t\t\tstyle={ { objectPosition } }\n\t\t\t\t\tdata-object-fit=\"cover\"\n\t\t\t\t\tdata-object-position={ objectPosition }\n\t\t\t\t/>\n\t\t\t) }\n\n\t\t\t{ /* The `wp-block-cover__background` needs to be immediately before\n\t\t\tthe `wp-block-cover__inner-container`, so the exclusion CSS selector\n\t\t\t`.wp-block-cover__background + .wp-block-cover__inner-container`\n\t\t\tworks properly. If it needs to be changed in the future, the\n\t\t\tselector for the backward compatibility for v14 deprecation also\n\t\t\tneeds change. */ }\n\t\t\t<span\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tclassName={ clsx(\n\t\t\t\t\t'wp-block-cover__background',\n\t\t\t\t\toverlayColorClass,\n\t\t\t\t\tdimRatioToClass( dimRatio ),\n\t\t\t\t\t{\n\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\n\t\t\t\t\t\t// For backwards compatibility. Former versions of the Cover Block applied\n\t\t\t\t\t\t// `.wp-block-cover__gradient-background` in the presence of\n\t\t\t\t\t\t// media, a gradient and a dim.\n\t\t\t\t\t\t'wp-block-cover__gradient-background':\n\t\t\t\t\t\t\turl && gradientValue && dimRatio !== 0,\n\t\t\t\t\t\t'has-background-gradient': gradientValue,\n\t\t\t\t\t\t[ gradientClass ]: gradientClass,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t\tstyle={ bgStyle }\n\t\t\t/>\n\n\t\t\t<div\n\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\tclassName: 'wp-block-cover__inner-container',\n\t\t\t\t} ) }\n\t\t\t/>\n\t\t</Tag>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}