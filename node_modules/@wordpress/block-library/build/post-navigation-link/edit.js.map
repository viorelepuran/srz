{"version":3,"names":["_clsx","_interopRequireDefault","require","_components","_blockEditor","_i18n","_data","_coreData","_jsxRuntime","PostNavigationLinkEdit","context","postType","attributes","type","label","showTitle","textAlign","linkLabel","arrow","taxonomy","setAttributes","isNext","placeholder","__","arrowMap","none","chevron","displayArrow","ariaLabel","blockProps","useBlockProps","className","clsx","taxonomies","useSelect","select","getTaxonomies","coreStore","filteredTaxonomies","per_page","getTaxonomyOptions","selectOption","value","taxonomyOptions","filter","visibility","publicly_queryable","map","item","slug","name","jsxs","Fragment","children","jsx","InspectorControls","PanelBody","ToggleControl","__nextHasNoMarginBottom","help","checked","onChange","__experimentalToggleGroupControl","__next40pxDefaultSize","isBlock","__experimentalToggleGroupControlOption","_x","group","SelectControl","options","BlockControls","AlignmentToolbar","nextAlign","RichText","tagName","identifier","withoutInteractiveFormatting","newLabel","href","onClick","event","preventDefault"],"sources":["@wordpress/block-library/src/post-navigation-link/edit.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\tToggleControl,\n\tSelectControl,\n\tPanelBody,\n} from '@wordpress/components';\nimport {\n\tInspectorControls,\n\tRichText,\n\tBlockControls,\n\tAlignmentToolbar,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport { __, _x } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\nexport default function PostNavigationLinkEdit( {\n\tcontext: { postType },\n\tattributes: {\n\t\ttype,\n\t\tlabel,\n\t\tshowTitle,\n\t\ttextAlign,\n\t\tlinkLabel,\n\t\tarrow,\n\t\ttaxonomy,\n\t},\n\tsetAttributes,\n} ) {\n\tconst isNext = type === 'next';\n\tlet placeholder = isNext ? __( 'Next' ) : __( 'Previous' );\n\n\tconst arrowMap = {\n\t\tnone: '',\n\t\tarrow: isNext ? '→' : '←',\n\t\tchevron: isNext ? '»' : '«',\n\t};\n\n\tconst displayArrow = arrowMap[ arrow ];\n\n\tif ( showTitle ) {\n\t\tplaceholder = isNext\n\t\t\t? /* translators: Label before for next and previous post. There is a space after the colon. */\n\t\t\t  __( 'Next: ' ) // eslint-disable-line @wordpress/i18n-no-flanking-whitespace\n\t\t\t: /* translators: Label before for next and previous post. There is a space after the colon. */\n\t\t\t  __( 'Previous: ' ); // eslint-disable-line @wordpress/i18n-no-flanking-whitespace\n\t}\n\n\tconst ariaLabel = isNext ? __( 'Next post' ) : __( 'Previous post' );\n\tconst blockProps = useBlockProps( {\n\t\tclassName: clsx( {\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\n\t\t} ),\n\t} );\n\n\tconst taxonomies = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getTaxonomies } = select( coreStore );\n\t\t\tconst filteredTaxonomies = getTaxonomies( {\n\t\t\t\ttype: postType,\n\t\t\t\tper_page: -1,\n\t\t\t} );\n\t\t\treturn filteredTaxonomies;\n\t\t},\n\t\t[ postType ]\n\t);\n\tconst getTaxonomyOptions = () => {\n\t\tconst selectOption = {\n\t\t\tlabel: __( 'Unfiltered' ),\n\t\t\tvalue: '',\n\t\t};\n\t\tconst taxonomyOptions = ( taxonomies ?? [] )\n\t\t\t.filter( ( { visibility } ) => !! visibility?.publicly_queryable )\n\t\t\t.map( ( item ) => {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: item.slug,\n\t\t\t\t\tlabel: item.name,\n\t\t\t\t};\n\t\t\t} );\n\n\t\treturn [ selectOption, ...taxonomyOptions ];\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Display the title as a link' ) }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'If you have entered a custom label, it will be prepended before the title.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tchecked={ !! showTitle }\n\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tshowTitle: ! showTitle,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{ showTitle && (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t'Include the label as part of the link'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tchecked={ !! linkLabel }\n\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tlinkLabel: ! linkLabel,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Arrow' ) }\n\t\t\t\t\t\tvalue={ arrow }\n\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\tsetAttributes( { arrow: value } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'A decorative arrow for the next and previous link.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tisBlock\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"none\"\n\t\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t\t'None',\n\t\t\t\t\t\t\t\t'Arrow option for Next/Previous link'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"arrow\"\n\t\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t\t'Arrow',\n\t\t\t\t\t\t\t\t'Arrow option for Next/Previous link'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"chevron\"\n\t\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t\t'Chevron',\n\t\t\t\t\t\t\t\t'Arrow option for Next/Previous link'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t<SelectControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Filter by taxonomy' ) }\n\t\t\t\t\tvalue={ taxonomy }\n\t\t\t\t\toptions={ getTaxonomyOptions() }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\ttaxonomy: value,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t'Only link to posts that have the same taxonomy terms as the current post. For example the same tags or categories.'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t\t<BlockControls>\n\t\t\t\t<AlignmentToolbar\n\t\t\t\t\tvalue={ textAlign }\n\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<div { ...blockProps }>\n\t\t\t\t{ ! isNext && displayArrow && (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={ `wp-block-post-navigation-link__arrow-previous is-arrow-${ arrow }` }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ displayArrow }\n\t\t\t\t\t</span>\n\t\t\t\t) }\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"a\"\n\t\t\t\t\tidentifier=\"label\"\n\t\t\t\t\taria-label={ ariaLabel }\n\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\tvalue={ label }\n\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\tonChange={ ( newLabel ) =>\n\t\t\t\t\t\tsetAttributes( { label: newLabel } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{ showTitle && (\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"#post-navigation-pseudo-link\"\n\t\t\t\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'An example title' ) }\n\t\t\t\t\t</a>\n\t\t\t\t) }\n\t\t\t\t{ isNext && displayArrow && (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={ `wp-block-post-navigation-link__arrow-next is-arrow-${ arrow }` }\n\t\t\t\t\t\taria-hidden\n\t\t\t\t\t>\n\t\t\t\t\t\t{ displayArrow }\n\t\t\t\t\t</span>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}