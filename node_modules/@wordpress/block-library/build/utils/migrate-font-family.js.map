{"version":3,"names":["_blockEditor","require","_lockUnlock","cleanEmptyObject","unlock","blockEditorPrivateApis","_default","attributes","style","typography","fontFamily","split","pop"],"sources":["@wordpress/block-library/src/utils/migrate-font-family.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\n\nconst { cleanEmptyObject } = unlock( blockEditorPrivateApis );\n\n/**\n * Migrates the current style.typography.fontFamily attribute,\n * whose value was \"var:preset|font-family|helvetica-arial\",\n * to the style.fontFamily attribute, whose value will be \"helvetica-arial\".\n *\n * @param {Object} attributes The current attributes\n * @return {Object} The updated attributes.\n */\nexport default function ( attributes ) {\n\tif ( ! attributes?.style?.typography?.fontFamily ) {\n\t\treturn attributes;\n\t}\n\n\tconst { fontFamily, ...typography } = attributes.style.typography;\n\n\treturn {\n\t\t...attributes,\n\t\tstyle: cleanEmptyObject( {\n\t\t\t...attributes.style,\n\t\t\ttypography,\n\t\t} ),\n\t\tfontFamily: fontFamily.split( '|' ).pop(),\n\t};\n}\n"],"mappings":";;;;;;AAGA,IAAAA,YAAA,GAAAC,OAAA;AAKA,IAAAC,WAAA,GAAAD,OAAA;AARA;AACA;AACA;;AAGA;AACA;AACA;;AAGA,MAAM;EAAEE;AAAiB,CAAC,GAAG,IAAAC,kBAAM,EAAEC,wBAAuB,CAAC;;AAE7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAAAC,SAAWC,UAAU,EAAG;EACtC,IAAK,CAAEA,UAAU,EAAEC,KAAK,EAAEC,UAAU,EAAEC,UAAU,EAAG;IAClD,OAAOH,UAAU;EAClB;EAEA,MAAM;IAAEG,UAAU;IAAE,GAAGD;EAAW,CAAC,GAAGF,UAAU,CAACC,KAAK,CAACC,UAAU;EAEjE,OAAO;IACN,GAAGF,UAAU;IACbC,KAAK,EAAEL,gBAAgB,CAAE;MACxB,GAAGI,UAAU,CAACC,KAAK;MACnBC;IACD,CAAE,CAAC;IACHC,UAAU,EAAEA,UAAU,CAACC,KAAK,CAAE,GAAI,CAAC,CAACC,GAAG,CAAC;EACzC,CAAC;AACF","ignoreList":[]}