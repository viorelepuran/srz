{"version":3,"names":["_coreData","require","_date","_blockEditor","_components","_i18n","_jsxRuntime","Edit","attributes","format","isLink","context","commentId","setAttributes","blockProps","useBlockProps","date","useEntityProp","siteFormat","getDateSettings","formats","inspectorControls","jsx","InspectorControls","children","jsxs","PanelBody","title","__","__experimentalDateFormatPicker","defaultFormat","onChange","nextFormat","ToggleControl","__nextHasNoMarginBottom","label","checked","_x","commentDate","Date","dateTime","dateI18n","humanTimeDiff","href","onClick","event","preventDefault","Fragment"],"sources":["@wordpress/block-library/src/comment-date/edit.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEntityProp } from '@wordpress/core-data';\nimport {\n\tdateI18n,\n\thumanTimeDiff,\n\tgetSettings as getDateSettings,\n} from '@wordpress/date';\nimport {\n\tInspectorControls,\n\tuseBlockProps,\n\t__experimentalDateFormatPicker as DateFormatPicker,\n} from '@wordpress/block-editor';\nimport { PanelBody, ToggleControl } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\n\n/**\n * Renders the `core/comment-date` block on the editor.\n *\n * @param {Object} props                   React props.\n * @param {Object} props.setAttributes     Callback for updating block attributes.\n * @param {Object} props.attributes        Block attributes.\n * @param {string} props.attributes.format Format of the date.\n * @param {string} props.attributes.isLink Whether the author name should be linked.\n * @param {Object} props.context           Inherited context.\n * @param {string} props.context.commentId The comment ID.\n *\n * @return {JSX.Element} React element.\n */\nexport default function Edit( {\n\tattributes: { format, isLink },\n\tcontext: { commentId },\n\tsetAttributes,\n} ) {\n\tconst blockProps = useBlockProps();\n\tlet [ date ] = useEntityProp( 'root', 'comment', 'date', commentId );\n\tconst [ siteFormat = getDateSettings().formats.date ] = useEntityProp(\n\t\t'root',\n\t\t'site',\n\t\t'date_format'\n\t);\n\n\tconst inspectorControls = (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t<DateFormatPicker\n\t\t\t\t\tformat={ format }\n\t\t\t\t\tdefaultFormat={ siteFormat }\n\t\t\t\t\tonChange={ ( nextFormat ) =>\n\t\t\t\t\t\tsetAttributes( { format: nextFormat } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Link to comment' ) }\n\t\t\t\t\tonChange={ () => setAttributes( { isLink: ! isLink } ) }\n\t\t\t\t\tchecked={ isLink }\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n\tif ( ! commentId || ! date ) {\n\t\tdate = _x( 'Comment Date', 'block title' );\n\t}\n\n\tlet commentDate =\n\t\tdate instanceof Date ? (\n\t\t\t<time dateTime={ dateI18n( 'c', date ) }>\n\t\t\t\t{ format === 'human-diff'\n\t\t\t\t\t? humanTimeDiff( date )\n\t\t\t\t\t: dateI18n( format || siteFormat, date ) }\n\t\t\t</time>\n\t\t) : (\n\t\t\t<time>{ date }</time>\n\t\t);\n\n\tif ( isLink ) {\n\t\tcommentDate = (\n\t\t\t<a\n\t\t\t\thref=\"#comment-date-pseudo-link\"\n\t\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t>\n\t\t\t\t{ commentDate }\n\t\t\t</a>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ inspectorControls }\n\t\t\t<div { ...blockProps }>{ commentDate }</div>\n\t\t</>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}