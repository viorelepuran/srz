{"version":3,"names":["_components","require","_i18n","_element","_utils","_jsxRuntime","modalDescriptionId","EnhancedPaginationModal","clientId","attributes","enhancedPagination","setAttributes","isOpen","setOpen","useState","hasBlocksFromPlugins","hasPostContentBlock","hasUnsupportedBlocks","useUnsupportedBlocks","useEffect","window","__experimentalFullPageClientSideNavigation","closeModal","notice","__","jsx","Modal","title","className","aria","describedby","role","focusOnMount","isDismissible","onRequestClose","children","jsxs","__experimentalVStack","alignment","spacing","id","Button","__next40pxDefaultSize","variant","onClick"],"sources":["@wordpress/block-library/src/query/edit/enhanced-pagination-modal.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tModal,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState, useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useUnsupportedBlocks } from '../utils';\n\nconst modalDescriptionId =\n\t'wp-block-query-enhanced-pagination-modal__description';\n\nexport default function EnhancedPaginationModal( {\n\tclientId,\n\tattributes: { enhancedPagination },\n\tsetAttributes,\n} ) {\n\tconst [ isOpen, setOpen ] = useState( false );\n\tconst { hasBlocksFromPlugins, hasPostContentBlock, hasUnsupportedBlocks } =\n\t\tuseUnsupportedBlocks( clientId );\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\tenhancedPagination &&\n\t\t\thasUnsupportedBlocks &&\n\t\t\t! window.__experimentalFullPageClientSideNavigation\n\t\t) {\n\t\t\tsetAttributes( { enhancedPagination: false } );\n\t\t\tsetOpen( true );\n\t\t}\n\t}, [ enhancedPagination, hasUnsupportedBlocks, setAttributes ] );\n\n\tconst closeModal = () => {\n\t\tsetOpen( false );\n\t};\n\n\tlet notice = __(\n\t\t'If you still want to prevent full page reloads, remove that block, then disable \"Reload full page\" again in the Query Block settings.'\n\t);\n\tif ( hasBlocksFromPlugins ) {\n\t\tnotice =\n\t\t\t__(\n\t\t\t\t'Currently, avoiding full page reloads is not possible when non-interactive or non-client Navigation compatible blocks from plugins are present inside the Query block.'\n\t\t\t) +\n\t\t\t' ' +\n\t\t\tnotice;\n\t} else if ( hasPostContentBlock ) {\n\t\tnotice =\n\t\t\t__(\n\t\t\t\t'Currently, avoiding full page reloads is not possible when a Content block is present inside the Query block.'\n\t\t\t) +\n\t\t\t' ' +\n\t\t\tnotice;\n\t}\n\n\treturn (\n\t\tisOpen && (\n\t\t\t<Modal\n\t\t\t\ttitle={ __( 'Query block: Reload full page enabled' ) }\n\t\t\t\tclassName=\"wp-block-query__enhanced-pagination-modal\"\n\t\t\t\taria={ {\n\t\t\t\t\tdescribedby: modalDescriptionId,\n\t\t\t\t} }\n\t\t\t\trole=\"alertdialog\"\n\t\t\t\tfocusOnMount=\"firstElement\"\n\t\t\t\tisDismissible={ false }\n\t\t\t\tonRequestClose={ closeModal }\n\t\t\t>\n\t\t\t\t<VStack alignment=\"right\" spacing={ 5 }>\n\t\t\t\t\t<span id={ modalDescriptionId }>{ notice }</span>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'OK' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</VStack>\n\t\t\t</Modal>\n\t\t)\n\t);\n}\n"],"mappings":";;;;;;AAGA,IAAAA,WAAA,GAAAC,OAAA;AAKA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AAKA,IAAAG,MAAA,GAAAH,OAAA;AAAgD,IAAAI,WAAA,GAAAJ,OAAA;AAdhD;AACA;AACA;;AASA;AACA;AACA;;AAGA,MAAMK,kBAAkB,GACvB,uDAAuD;AAEzC,SAASC,uBAAuBA,CAAE;EAChDC,QAAQ;EACRC,UAAU,EAAE;IAAEC;EAAmB,CAAC;EAClCC;AACD,CAAC,EAAG;EACH,MAAM,CAAEC,MAAM,EAAEC,OAAO,CAAE,GAAG,IAAAC,iBAAQ,EAAE,KAAM,CAAC;EAC7C,MAAM;IAAEC,oBAAoB;IAAEC,mBAAmB;IAAEC;EAAqB,CAAC,GACxE,IAAAC,2BAAoB,EAAEV,QAAS,CAAC;EAEjC,IAAAW,kBAAS,EAAE,MAAM;IAChB,IACCT,kBAAkB,IAClBO,oBAAoB,IACpB,CAAEG,MAAM,CAACC,0CAA0C,EAClD;MACDV,aAAa,CAAE;QAAED,kBAAkB,EAAE;MAAM,CAAE,CAAC;MAC9CG,OAAO,CAAE,IAAK,CAAC;IAChB;EACD,CAAC,EAAE,CAAEH,kBAAkB,EAAEO,oBAAoB,EAAEN,aAAa,CAAG,CAAC;EAEhE,MAAMW,UAAU,GAAGA,CAAA,KAAM;IACxBT,OAAO,CAAE,KAAM,CAAC;EACjB,CAAC;EAED,IAAIU,MAAM,GAAG,IAAAC,QAAE,EACd,uIACD,CAAC;EACD,IAAKT,oBAAoB,EAAG;IAC3BQ,MAAM,GACL,IAAAC,QAAE,EACD,wKACD,CAAC,GACD,GAAG,GACHD,MAAM;EACR,CAAC,MAAM,IAAKP,mBAAmB,EAAG;IACjCO,MAAM,GACL,IAAAC,QAAE,EACD,+GACD,CAAC,GACD,GAAG,GACHD,MAAM;EACR;EAEA,OACCX,MAAM,iBACL,IAAAP,WAAA,CAAAoB,GAAA,EAACzB,WAAA,CAAA0B,KAAK;IACLC,KAAK,EAAG,IAAAH,QAAE,EAAE,uCAAwC,CAAG;IACvDI,SAAS,EAAC,2CAA2C;IACrDC,IAAI,EAAG;MACNC,WAAW,EAAExB;IACd,CAAG;IACHyB,IAAI,EAAC,aAAa;IAClBC,YAAY,EAAC,cAAc;IAC3BC,aAAa,EAAG,KAAO;IACvBC,cAAc,EAAGZ,UAAY;IAAAa,QAAA,eAE7B,IAAA9B,WAAA,CAAA+B,IAAA,EAACpC,WAAA,CAAAqC,oBAAM;MAACC,SAAS,EAAC,OAAO;MAACC,OAAO,EAAG,CAAG;MAAAJ,QAAA,gBACtC,IAAA9B,WAAA,CAAAoB,GAAA;QAAMe,EAAE,EAAGlC,kBAAoB;QAAA6B,QAAA,EAAGZ;MAAM,CAAQ,CAAC,eACjD,IAAAlB,WAAA,CAAAoB,GAAA,EAACzB,WAAA,CAAAyC,MAAM;QACNC,qBAAqB;QACrBC,OAAO,EAAC,SAAS;QACjBC,OAAO,EAAGtB,UAAY;QAAAa,QAAA,EAEpB,IAAAX,QAAE,EAAE,IAAK;MAAC,CACL,CAAC;IAAA,CACF;EAAC,CACH,CACP;AAEH","ignoreList":[]}