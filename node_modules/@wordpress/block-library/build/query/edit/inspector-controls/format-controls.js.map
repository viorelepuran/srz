{"version":3,"names":["_components","require","_data","_coreData","_i18n","_jsxRuntime","POST_FORMATS","value","label","__","sort","a","b","normalizedA","toUpperCase","normalizedB","formatNamesToValues","names","formats","map","name","find","item","toLocaleLowerCase","filter","Boolean","FormatControls","onChange","query","format","normalizedFormats","Array","isArray","supportedFormats","useSelect","select","themeSupports","coreStore","getThemeSupports","includes","values","suggestions","jsx","FormTokenField","newValues","__experimentalShowHowTo","__experimentalExpandOnFocus","__nextHasNoMarginBottom","__next40pxDefaultSize"],"sources":["@wordpress/block-library/src/query/edit/inspector-controls/format-controls.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { FormTokenField } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\n\n// All WP post formats, sorted alphabetically by translated name.\n// Value is the post format slug. Label is the name.\nconst POST_FORMATS = [\n\t{ value: 'aside', label: __( 'Aside' ) },\n\t{ value: 'audio', label: __( 'Audio' ) },\n\t{ value: 'chat', label: __( 'Chat' ) },\n\t{ value: 'gallery', label: __( 'Gallery' ) },\n\t{ value: 'image', label: __( 'Image' ) },\n\t{ value: 'link', label: __( 'Link' ) },\n\t{ value: 'quote', label: __( 'Quote' ) },\n\t{ value: 'standard', label: __( 'Standard' ) },\n\t{ value: 'status', label: __( 'Status' ) },\n\t{ value: 'video', label: __( 'Video' ) },\n].sort( ( a, b ) => {\n\tconst normalizedA = a.label.toUpperCase();\n\tconst normalizedB = b.label.toUpperCase();\n\n\tif ( normalizedA < normalizedB ) {\n\t\treturn -1;\n\t}\n\tif ( normalizedA > normalizedB ) {\n\t\treturn 1;\n\t}\n\treturn 0;\n} );\n\n// A helper function to convert translatable post format names into their static values.\nfunction formatNamesToValues( names, formats ) {\n\treturn names\n\t\t.map( ( name ) => {\n\t\t\treturn formats.find(\n\t\t\t\t( item ) =>\n\t\t\t\t\titem.label.toLocaleLowerCase() === name.toLocaleLowerCase()\n\t\t\t)?.value;\n\t\t} )\n\t\t.filter( Boolean );\n}\n\nexport default function FormatControls( { onChange, query: { format } } ) {\n\t// 'format' is expected to be an array. If it is not an array, for example\n\t// if a user has manually entered an invalid value in the block markup,\n\t// convert it to an array to prevent JavaScript errors.\n\tconst normalizedFormats = Array.isArray( format ) ? format : [ format ];\n\n\tconst { supportedFormats } = useSelect( ( select ) => {\n\t\tconst themeSupports = select( coreStore ).getThemeSupports();\n\t\treturn {\n\t\t\tsupportedFormats: themeSupports.formats,\n\t\t};\n\t}, [] );\n\n\tconst formats = POST_FORMATS.filter( ( item ) =>\n\t\tsupportedFormats.includes( item.value )\n\t);\n\n\tconst values = normalizedFormats\n\t\t.map(\n\t\t\t( name ) => formats.find( ( item ) => item.value === name )?.label\n\t\t)\n\t\t.filter( Boolean );\n\n\tconst suggestions = formats\n\t\t.filter( ( item ) => ! normalizedFormats.includes( item.value ) )\n\t\t.map( ( item ) => item.label );\n\n\treturn (\n\t\t<FormTokenField\n\t\t\tlabel={ __( 'Formats' ) }\n\t\t\tvalue={ values }\n\t\t\tsuggestions={ suggestions }\n\t\t\tonChange={ ( newValues ) => {\n\t\t\t\tonChange( {\n\t\t\t\t\tformat: formatNamesToValues( newValues, formats ),\n\t\t\t\t} );\n\t\t\t} }\n\t\t\t__experimentalShowHowTo={ false }\n\t\t\t__experimentalExpandOnFocus\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t/>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}