{"version":3,"names":["View","TouchableWithoutFeedback","Text","Dimensions","Animated","Easing","Image","BottomSheet","useState","useEffect","useRef","usePreferredColorSchemeStyle","styles","jsx","_jsx","jsxs","_jsxs","MAX_ITEM_WIDTH","HALF_COLUMN","StylePreview","onPress","isActive","style","url","itemWidth","setItemWidth","label","name","opacity","Value","current","onLayout","columnsNum","Math","floor","getWidth","dimensionsChangeSubscription","addEventListener","remove","labelStyle","labelDark","animateOutline","setValue","timing","toValue","duration","useNativeDriver","easing","linear","start","innerOutlineStyle","innerOutline","innerOutlineDark","getOutline","outlineStyles","map","outlineStyle","index","children","container","width","imageWrapper","outline","image","source","uri","labelSelected"],"sources":["@wordpress/block-editor/src/components/block-styles/preview.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tView,\n\tTouchableWithoutFeedback,\n\tText,\n\tDimensions,\n\tAnimated,\n\tEasing,\n\tImage,\n} from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { BottomSheet } from '@wordpress/components';\nimport { useState, useEffect, useRef } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nconst MAX_ITEM_WIDTH = 120;\nconst HALF_COLUMN = 0.5;\n\nfunction StylePreview( { onPress, isActive, style, url } ) {\n\tconst [ itemWidth, setItemWidth ] = useState( MAX_ITEM_WIDTH );\n\tconst { label, name } = style;\n\tconst opacity = useRef( new Animated.Value( 1 ) ).current;\n\n\tfunction onLayout() {\n\t\tconst columnsNum =\n\t\t\t// To indicate scroll availability, there is a need to display additional half the column.\n\t\t\tMath.floor( BottomSheet.getWidth() / MAX_ITEM_WIDTH ) + HALF_COLUMN;\n\t\tsetItemWidth( BottomSheet.getWidth() / columnsNum );\n\t}\n\n\tuseEffect( () => {\n\t\tonLayout();\n\t\tconst dimensionsChangeSubscription = Dimensions.addEventListener(\n\t\t\t'change',\n\t\t\tonLayout\n\t\t);\n\n\t\treturn () => {\n\t\t\tdimensionsChangeSubscription.remove();\n\t\t};\n\t}, [] );\n\n\tconst labelStyle = usePreferredColorSchemeStyle(\n\t\tstyles.label,\n\t\tstyles.labelDark\n\t);\n\n\tconst animateOutline = () => {\n\t\topacity.setValue( 0 );\n\t\tAnimated.timing( opacity, {\n\t\t\ttoValue: 1,\n\t\t\tduration: 100,\n\t\t\tuseNativeDriver: true,\n\t\t\teasing: Easing.linear,\n\t\t} ).start();\n\t};\n\n\tconst innerOutlineStyle = usePreferredColorSchemeStyle(\n\t\tstyles.innerOutline,\n\t\tstyles.innerOutlineDark\n\t);\n\n\tconst getOutline = ( outlineStyles ) =>\n\t\toutlineStyles.map( ( outlineStyle, index ) => {\n\t\t\treturn (\n\t\t\t\t<Animated.View\n\t\t\t\t\tstyle={ [ outlineStyle, { opacity }, styles[ name ] ] }\n\t\t\t\t\tkey={ index }\n\t\t\t\t/>\n\t\t\t);\n\t\t} );\n\n\treturn (\n\t\t<TouchableWithoutFeedback\n\t\t\tonPress={ () => {\n\t\t\t\tonPress();\n\t\t\t\tanimateOutline();\n\t\t\t} }\n\t\t>\n\t\t\t<View style={ [ styles.container, { width: itemWidth } ] }>\n\t\t\t\t<View style={ styles.imageWrapper }>\n\t\t\t\t\t{ isActive &&\n\t\t\t\t\t\tgetOutline( [ styles.outline, innerOutlineStyle ] ) }\n\t\t\t\t\t<Image\n\t\t\t\t\t\tstyle={ [ styles.image, styles[ name ] ] }\n\t\t\t\t\t\tsource={ { uri: url } }\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t\t<Text\n\t\t\t\t\tstyle={ [ labelStyle, isActive && styles.labelSelected ] }\n\t\t\t\t>\n\t\t\t\t\t{ label }\n\t\t\t\t</Text>\n\t\t\t</View>\n\t\t</TouchableWithoutFeedback>\n\t);\n}\n\nexport default StylePreview;\n"],"mappings":"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","ignoreList":[]}