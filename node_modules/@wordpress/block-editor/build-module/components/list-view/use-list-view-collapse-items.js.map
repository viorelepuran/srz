{"version":3,"names":["useEffect","useSelect","store","blockEditorStore","unlock","useListViewCollapseItems","collapseAll","expand","expandedBlock","getBlockParents","select","_getBlockParents","getExpandedBlock","blockParents"],"sources":["@wordpress/block-editor/src/components/list-view/use-list-view-collapse-items.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nexport default function useListViewCollapseItems( { collapseAll, expand } ) {\n\tconst { expandedBlock, getBlockParents } = useSelect( ( select ) => {\n\t\tconst { getBlockParents: _getBlockParents, getExpandedBlock } = unlock(\n\t\t\tselect( blockEditorStore )\n\t\t);\n\t\treturn {\n\t\t\texpandedBlock: getExpandedBlock(),\n\t\t\tgetBlockParents: _getBlockParents,\n\t\t};\n\t}, [] );\n\n\t// Collapse all but the specified block when the expanded block client Id changes.\n\tuseEffect( () => {\n\t\tif ( expandedBlock ) {\n\t\t\tconst blockParents = getBlockParents( expandedBlock, false );\n\t\t\t// Collapse all blocks and expand the block's parents.\n\t\t\tcollapseAll();\n\t\t\texpand( blockParents );\n\t\t}\n\t}, [ collapseAll, expand, expandedBlock, getBlockParents ] );\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AACvD,SAASC,MAAM,QAAQ,mBAAmB;AAE1C,eAAe,SAASC,wBAAwBA,CAAE;EAAEC,WAAW;EAAEC;AAAO,CAAC,EAAG;EAC3E,MAAM;IAAEC,aAAa;IAAEC;EAAgB,CAAC,GAAGR,SAAS,CAAIS,MAAM,IAAM;IACnE,MAAM;MAAED,eAAe,EAAEE,gBAAgB;MAAEC;IAAiB,CAAC,GAAGR,MAAM,CACrEM,MAAM,CAAEP,gBAAiB,CAC1B,CAAC;IACD,OAAO;MACNK,aAAa,EAAEI,gBAAgB,CAAC,CAAC;MACjCH,eAAe,EAAEE;IAClB,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;;EAEP;EACAX,SAAS,CAAE,MAAM;IAChB,IAAKQ,aAAa,EAAG;MACpB,MAAMK,YAAY,GAAGJ,eAAe,CAAED,aAAa,EAAE,KAAM,CAAC;MAC5D;MACAF,WAAW,CAAC,CAAC;MACbC,MAAM,CAAEM,YAAa,CAAC;IACvB;EACD,CAAC,EAAE,CAAEP,WAAW,EAAEC,MAAM,EAAEC,aAAa,EAAEC,eAAe,CAAG,CAAC;AAC7D","ignoreList":[]}