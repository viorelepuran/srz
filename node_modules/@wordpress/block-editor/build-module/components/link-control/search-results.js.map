{"version":3,"names":["__","sprintf","MenuGroup","clsx","LinkControlSearchCreate","LinkControlSearchItem","CREATE_TYPE","LINK_ENTRY_TYPES","deprecated","jsx","_jsx","LinkControlSearchResults","withCreateSuggestion","currentInputValue","handleSuggestionClick","suggestionsListProps","buildSuggestionItemProps","suggestions","selectedSuggestion","isLoading","isInitialSuggestions","createSuggestionButtonText","suggestionsQuery","resultsListClasses","isSingleDirectEntryResult","length","includes","type","shouldShowCreateSuggestion","shouldShowSuggestionsTypes","labelText","className","children","map","suggestion","index","searchTerm","buttonText","onClick","itemProps","isSelected","isURL","shouldShowType","isFrontPage","isBlogHome","id","__experimentalLinkControlSearchResults","props","since"],"sources":["@wordpress/block-editor/src/components/link-control/search-results.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { MenuGroup } from '@wordpress/components';\n\n/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * Internal dependencies\n */\nimport LinkControlSearchCreate from './search-create-button';\nimport LinkControlSearchItem from './search-item';\nimport { CREATE_TYPE, LINK_ENTRY_TYPES } from './constants';\nimport deprecated from '@wordpress/deprecated';\n\nfunction LinkControlSearchResults( {\n\twithCreateSuggestion,\n\tcurrentInputValue,\n\thandleSuggestionClick,\n\tsuggestionsListProps,\n\tbuildSuggestionItemProps,\n\tsuggestions,\n\tselectedSuggestion,\n\tisLoading,\n\tisInitialSuggestions,\n\tcreateSuggestionButtonText,\n\tsuggestionsQuery,\n} ) {\n\tconst resultsListClasses = clsx(\n\t\t'block-editor-link-control__search-results',\n\t\t{\n\t\t\t'is-loading': isLoading,\n\t\t}\n\t);\n\n\tconst isSingleDirectEntryResult =\n\t\tsuggestions.length === 1 &&\n\t\tLINK_ENTRY_TYPES.includes( suggestions[ 0 ].type );\n\tconst shouldShowCreateSuggestion =\n\t\twithCreateSuggestion &&\n\t\t! isSingleDirectEntryResult &&\n\t\t! isInitialSuggestions;\n\t// If the query has a specified type, then we can skip showing them in the result. See #24839.\n\tconst shouldShowSuggestionsTypes = ! suggestionsQuery?.type;\n\n\tconst labelText = isInitialSuggestions\n\t\t? __( 'Suggestions' )\n\t\t: sprintf(\n\t\t\t\t/* translators: %s: search term. */\n\t\t\t\t__( 'Search results for \"%s\"' ),\n\t\t\t\tcurrentInputValue\n\t\t  );\n\n\treturn (\n\t\t<div className=\"block-editor-link-control__search-results-wrapper\">\n\t\t\t<div\n\t\t\t\t{ ...suggestionsListProps }\n\t\t\t\tclassName={ resultsListClasses }\n\t\t\t\taria-label={ labelText }\n\t\t\t>\n\t\t\t\t<MenuGroup>\n\t\t\t\t\t{ suggestions.map( ( suggestion, index ) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tshouldShowCreateSuggestion &&\n\t\t\t\t\t\t\tCREATE_TYPE === suggestion.type\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<LinkControlSearchCreate\n\t\t\t\t\t\t\t\t\tsearchTerm={ currentInputValue }\n\t\t\t\t\t\t\t\t\tbuttonText={ createSuggestionButtonText }\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\thandleSuggestionClick( suggestion )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// Intentionally only using `type` here as\n\t\t\t\t\t\t\t\t\t// the constant is enough to uniquely\n\t\t\t\t\t\t\t\t\t// identify the single \"CREATE\" suggestion.\n\t\t\t\t\t\t\t\t\tkey={ suggestion.type }\n\t\t\t\t\t\t\t\t\titemProps={ buildSuggestionItemProps(\n\t\t\t\t\t\t\t\t\t\tsuggestion,\n\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tisSelected={ index === selectedSuggestion }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If we're not handling \"Create\" suggestions above then\n\t\t\t\t\t\t// we don't want them in the main results so exit early.\n\t\t\t\t\t\tif ( CREATE_TYPE === suggestion.type ) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<LinkControlSearchItem\n\t\t\t\t\t\t\t\tkey={ `${ suggestion.id }-${ suggestion.type }` }\n\t\t\t\t\t\t\t\titemProps={ buildSuggestionItemProps(\n\t\t\t\t\t\t\t\t\tsuggestion,\n\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tsuggestion={ suggestion }\n\t\t\t\t\t\t\t\tindex={ index }\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\thandleSuggestionClick( suggestion );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tisSelected={ index === selectedSuggestion }\n\t\t\t\t\t\t\t\tisURL={ LINK_ENTRY_TYPES.includes(\n\t\t\t\t\t\t\t\t\tsuggestion.type\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tsearchTerm={ currentInputValue }\n\t\t\t\t\t\t\t\tshouldShowType={ shouldShowSuggestionsTypes }\n\t\t\t\t\t\t\t\tisFrontPage={ suggestion?.isFrontPage }\n\t\t\t\t\t\t\t\tisBlogHome={ suggestion?.isBlogHome }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</MenuGroup>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default LinkControlSearchResults;\n\nexport const __experimentalLinkControlSearchResults = ( props ) => {\n\tdeprecated( 'wp.blockEditor.__experimentalLinkControlSearchResults', {\n\t\tsince: '6.8',\n\t} );\n\n\treturn <LinkControlSearchResults { ...props } />;\n};\n"],"mappings":"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","ignoreList":[]}