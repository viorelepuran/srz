{"version":3,"names":["useMemo","__","useSettings","RANGE_CONTROL_MAX_SIZE","EMPTY_ARRAY","compare","Intl","Collator","numeric","useSpacingSizes","customSpacingSizes","themeSpacingSizes","defaultSpacingSizes","defaultSpacingSizesEnabled","customSizes","themeSizes","defaultSizes","sizes","name","slug","size","every","test","sort","a","b","length","undefined"],"sources":["@wordpress/block-editor/src/components/spacing-sizes-control/hooks/use-spacing-sizes.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useSettings } from '../../use-settings';\nimport { RANGE_CONTROL_MAX_SIZE } from '../utils';\n\nconst EMPTY_ARRAY = [];\n\nconst compare = new Intl.Collator( 'und', { numeric: true } ).compare;\n\nexport default function useSpacingSizes() {\n\tconst [\n\t\tcustomSpacingSizes,\n\t\tthemeSpacingSizes,\n\t\tdefaultSpacingSizes,\n\t\tdefaultSpacingSizesEnabled,\n\t] = useSettings(\n\t\t'spacing.spacingSizes.custom',\n\t\t'spacing.spacingSizes.theme',\n\t\t'spacing.spacingSizes.default',\n\t\t'spacing.defaultSpacingSizes'\n\t);\n\n\tconst customSizes = customSpacingSizes ?? EMPTY_ARRAY;\n\n\tconst themeSizes = themeSpacingSizes ?? EMPTY_ARRAY;\n\n\tconst defaultSizes =\n\t\tdefaultSpacingSizes && defaultSpacingSizesEnabled !== false\n\t\t\t? defaultSpacingSizes\n\t\t\t: EMPTY_ARRAY;\n\n\treturn useMemo( () => {\n\t\tconst sizes = [\n\t\t\t{ name: __( 'None' ), slug: '0', size: 0 },\n\t\t\t...customSizes,\n\t\t\t...themeSizes,\n\t\t\t...defaultSizes,\n\t\t];\n\n\t\t// Using numeric slugs opts-in to sorting by slug.\n\t\tif ( sizes.every( ( { slug } ) => /^[0-9]/.test( slug ) ) ) {\n\t\t\tsizes.sort( ( a, b ) => compare( a.slug, b.slug ) );\n\t\t}\n\n\t\treturn sizes.length > RANGE_CONTROL_MAX_SIZE\n\t\t\t? [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: __( 'Default' ),\n\t\t\t\t\t\tslug: 'default',\n\t\t\t\t\t\tsize: undefined,\n\t\t\t\t\t},\n\t\t\t\t\t...sizes,\n\t\t\t  ]\n\t\t\t: sizes;\n\t}, [ customSizes, themeSizes, defaultSizes ] );\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,EAAE,QAAQ,iBAAiB;;AAEpC;AACA;AACA;AACA,SAASC,WAAW,QAAQ,oBAAoB;AAChD,SAASC,sBAAsB,QAAQ,UAAU;AAEjD,MAAMC,WAAW,GAAG,EAAE;AAEtB,MAAMC,OAAO,GAAG,IAAIC,IAAI,CAACC,QAAQ,CAAE,KAAK,EAAE;EAAEC,OAAO,EAAE;AAAK,CAAE,CAAC,CAACH,OAAO;AAErE,eAAe,SAASI,eAAeA,CAAA,EAAG;EACzC,MAAM,CACLC,kBAAkB,EAClBC,iBAAiB,EACjBC,mBAAmB,EACnBC,0BAA0B,CAC1B,GAAGX,WAAW,CACd,6BAA6B,EAC7B,4BAA4B,EAC5B,8BAA8B,EAC9B,6BACD,CAAC;EAED,MAAMY,WAAW,GAAGJ,kBAAkB,aAAlBA,kBAAkB,cAAlBA,kBAAkB,GAAIN,WAAW;EAErD,MAAMW,UAAU,GAAGJ,iBAAiB,aAAjBA,iBAAiB,cAAjBA,iBAAiB,GAAIP,WAAW;EAEnD,MAAMY,YAAY,GACjBJ,mBAAmB,IAAIC,0BAA0B,KAAK,KAAK,GACxDD,mBAAmB,GACnBR,WAAW;EAEf,OAAOJ,OAAO,CAAE,MAAM;IACrB,MAAMiB,KAAK,GAAG,CACb;MAAEC,IAAI,EAAEjB,EAAE,CAAE,MAAO,CAAC;MAAEkB,IAAI,EAAE,GAAG;MAAEC,IAAI,EAAE;IAAE,CAAC,EAC1C,GAAGN,WAAW,EACd,GAAGC,UAAU,EACb,GAAGC,YAAY,CACf;;IAED;IACA,IAAKC,KAAK,CAACI,KAAK,CAAE,CAAE;MAAEF;IAAK,CAAC,KAAM,QAAQ,CAACG,IAAI,CAAEH,IAAK,CAAE,CAAC,EAAG;MAC3DF,KAAK,CAACM,IAAI,CAAE,CAAEC,CAAC,EAAEC,CAAC,KAAMpB,OAAO,CAAEmB,CAAC,CAACL,IAAI,EAAEM,CAAC,CAACN,IAAK,CAAE,CAAC;IACpD;IAEA,OAAOF,KAAK,CAACS,MAAM,GAAGvB,sBAAsB,GACzC,CACA;MACCe,IAAI,EAAEjB,EAAE,CAAE,SAAU,CAAC;MACrBkB,IAAI,EAAE,SAAS;MACfC,IAAI,EAAEO;IACP,CAAC,EACD,GAAGV,KAAK,CACP,GACDA,KAAK;EACT,CAAC,EAAE,CAAEH,WAAW,EAAEC,UAAU,EAAEC,YAAY,CAAG,CAAC;AAC/C","ignoreList":[]}