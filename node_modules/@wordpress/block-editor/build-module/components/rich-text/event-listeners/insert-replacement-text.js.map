{"version":3,"names":["store","blockEditorStore","props","element","onInput","event","inputType","registry","current","dispatch","__unstableMarkLastChangeAsPersistent","addEventListener","removeEventListener"],"sources":["@wordpress/block-editor/src/components/rich-text/event-listeners/insert-replacement-text.js"],"sourcesContent":["/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../../store';\n\n/**\n * When the browser is about to auto correct, add an undo level so the user can\n * revert the change.\n *\n * @param {Object} props\n */\nexport default ( props ) => ( element ) => {\n\tfunction onInput( event ) {\n\t\tif ( event.inputType !== 'insertReplacementText' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { registry } = props.current;\n\t\tregistry\n\t\t\t.dispatch( blockEditorStore )\n\t\t\t.__unstableMarkLastChangeAsPersistent();\n\t}\n\n\telement.addEventListener( 'beforeinput', onInput );\n\treturn () => {\n\t\telement.removeEventListener( 'beforeinput', onInput );\n\t};\n};\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,KAAK,IAAIC,gBAAgB,QAAQ,gBAAgB;;AAE1D;AACA;AACA;AACA;AACA;AACA;AACA,eAAiBC,KAAK,IAAQC,OAAO,IAAM;EAC1C,SAASC,OAAOA,CAAEC,KAAK,EAAG;IACzB,IAAKA,KAAK,CAACC,SAAS,KAAK,uBAAuB,EAAG;MAClD;IACD;IAEA,MAAM;MAAEC;IAAS,CAAC,GAAGL,KAAK,CAACM,OAAO;IAClCD,QAAQ,CACNE,QAAQ,CAAER,gBAAiB,CAAC,CAC5BS,oCAAoC,CAAC,CAAC;EACzC;EAEAP,OAAO,CAACQ,gBAAgB,CAAE,aAAa,EAAEP,OAAQ,CAAC;EAClD,OAAO,MAAM;IACZD,OAAO,CAACS,mBAAmB,CAAE,aAAa,EAAER,OAAQ,CAAC;EACtD,CAAC;AACF,CAAC","ignoreList":[]}