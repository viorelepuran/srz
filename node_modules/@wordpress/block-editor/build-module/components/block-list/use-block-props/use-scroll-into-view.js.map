{"version":3,"names":["useReducedMotion","useRefEffect","useScrollIntoView","isSelected","prefersReducedMotion","node","ownerDocument","defaultView","IntersectionObserver","observer","entries","isIntersecting","scrollIntoView","behavior","disconnect","observe"],"sources":["@wordpress/block-editor/src/components/block-list/use-block-props/use-scroll-into-view.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useReducedMotion, useRefEffect } from '@wordpress/compose';\n\nexport function useScrollIntoView( { isSelected } ) {\n\tconst prefersReducedMotion = useReducedMotion();\n\treturn useRefEffect(\n\t\t( node ) => {\n\t\t\tif ( isSelected ) {\n\t\t\t\tconst { ownerDocument } = node;\n\t\t\t\tconst { defaultView } = ownerDocument;\n\t\t\t\tif ( ! defaultView.IntersectionObserver ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst observer = new defaultView.IntersectionObserver(\n\t\t\t\t\t( entries ) => {\n\t\t\t\t\t\t// Once observing starts, we always get an initial\n\t\t\t\t\t\t// entry with the intersecting state.\n\t\t\t\t\t\tif ( ! entries[ 0 ].isIntersecting ) {\n\t\t\t\t\t\t\tnode.scrollIntoView( {\n\t\t\t\t\t\t\t\tbehavior: prefersReducedMotion\n\t\t\t\t\t\t\t\t\t? 'instant'\n\t\t\t\t\t\t\t\t\t: 'smooth',\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tobserver.observe( node );\n\t\t\t\treturn () => {\n\t\t\t\t\tobserver.disconnect();\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t[ isSelected ]\n\t);\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,gBAAgB,EAAEC,YAAY,QAAQ,oBAAoB;AAEnE,OAAO,SAASC,iBAAiBA,CAAE;EAAEC;AAAW,CAAC,EAAG;EACnD,MAAMC,oBAAoB,GAAGJ,gBAAgB,CAAC,CAAC;EAC/C,OAAOC,YAAY,CAChBI,IAAI,IAAM;IACX,IAAKF,UAAU,EAAG;MACjB,MAAM;QAAEG;MAAc,CAAC,GAAGD,IAAI;MAC9B,MAAM;QAAEE;MAAY,CAAC,GAAGD,aAAa;MACrC,IAAK,CAAEC,WAAW,CAACC,oBAAoB,EAAG;QACzC;MACD;MACA,MAAMC,QAAQ,GAAG,IAAIF,WAAW,CAACC,oBAAoB,CAClDE,OAAO,IAAM;QACd;QACA;QACA,IAAK,CAAEA,OAAO,CAAE,CAAC,CAAE,CAACC,cAAc,EAAG;UACpCN,IAAI,CAACO,cAAc,CAAE;YACpBC,QAAQ,EAAET,oBAAoB,GAC3B,SAAS,GACT;UACJ,CAAE,CAAC;QACJ;QACAK,QAAQ,CAACK,UAAU,CAAC,CAAC;MACtB,CACD,CAAC;MACDL,QAAQ,CAACM,OAAO,CAAEV,IAAK,CAAC;MACxB,OAAO,MAAM;QACZI,QAAQ,CAACK,UAAU,CAAC,CAAC;MACtB,CAAC;IACF;EACD,CAAC,EACD,CAAEX,UAAU,CACb,CAAC;AACF","ignoreList":[]}