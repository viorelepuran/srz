{"version":3,"names":["ToolbarButton","useSelect","useDispatch","__","sprintf","useRef","useBlockDisplayInformation","BlockIcon","useShowHoveredOrFocusedGestures","store","blockEditorStore","unlock","jsx","_jsx","BlockParentSelector","selectBlock","parentClientId","select","getBlockParents","getSelectedBlockClientId","getParentSectionBlock","selectedBlockClientId","parentSection","parents","_parentClientId","length","blockInformation","nodeRef","showHoveredOrFocusedGestures","ref","highlightParent","className","children","onClick","label","title","showTooltip","icon"],"sources":["@wordpress/block-editor/src/components/block-parent-selector/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { ToolbarButton } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useBlockDisplayInformation from '../use-block-display-information';\nimport BlockIcon from '../block-icon';\nimport { useShowHoveredOrFocusedGestures } from '../block-toolbar/utils';\nimport { store as blockEditorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\n/**\n * Block parent selector component, displaying the hierarchy of the\n * current block selection as a single icon to \"go up\" a level.\n *\n * @return {Component} Parent block selector.\n */\nexport default function BlockParentSelector() {\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\tconst { parentClientId } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetBlockParents,\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetParentSectionBlock,\n\t\t} = unlock( select( blockEditorStore ) );\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\tconst parentSection = getParentSectionBlock( selectedBlockClientId );\n\t\tconst parents = getBlockParents( selectedBlockClientId );\n\t\tconst _parentClientId = parentSection ?? parents[ parents.length - 1 ];\n\t\treturn {\n\t\t\tparentClientId: _parentClientId,\n\t\t};\n\t}, [] );\n\tconst blockInformation = useBlockDisplayInformation( parentClientId );\n\n\t// Allows highlighting the parent block outline when focusing or hovering\n\t// the parent block selector within the child.\n\tconst nodeRef = useRef();\n\tconst showHoveredOrFocusedGestures = useShowHoveredOrFocusedGestures( {\n\t\tref: nodeRef,\n\t\thighlightParent: true,\n\t} );\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"block-editor-block-parent-selector\"\n\t\t\tkey={ parentClientId }\n\t\t\tref={ nodeRef }\n\t\t\t{ ...showHoveredOrFocusedGestures }\n\t\t>\n\t\t\t<ToolbarButton\n\t\t\t\tclassName=\"block-editor-block-parent-selector__button\"\n\t\t\t\tonClick={ () => selectBlock( parentClientId ) }\n\t\t\t\tlabel={ sprintf(\n\t\t\t\t\t/* translators: %s: Name of the block's parent. */\n\t\t\t\t\t__( 'Select parent block: %s' ),\n\t\t\t\t\tblockInformation?.title\n\t\t\t\t) }\n\t\t\t\tshowTooltip\n\t\t\t\ticon={ <BlockIcon icon={ blockInformation?.icon } /> }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,aAAa,QAAQ,uBAAuB;AACrD,SAASC,SAAS,EAAEC,WAAW,QAAQ,iBAAiB;AACxD,SAASC,EAAE,EAAEC,OAAO,QAAQ,iBAAiB;AAC7C,SAASC,MAAM,QAAQ,oBAAoB;;AAE3C;AACA;AACA;AACA,OAAOC,0BAA0B,MAAM,kCAAkC;AACzE,OAAOC,SAAS,MAAM,eAAe;AACrC,SAASC,+BAA+B,QAAQ,wBAAwB;AACxE,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AACvD,SAASC,MAAM,QAAQ,mBAAmB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AALA,SAAAC,GAAA,IAAAC,IAAA;AAMA,eAAe,SAASC,mBAAmBA,CAAA,EAAG;EAC7C,MAAM;IAAEC;EAAY,CAAC,GAAGb,WAAW,CAAEQ,gBAAiB,CAAC;EACvD,MAAM;IAAEM;EAAe,CAAC,GAAGf,SAAS,CAAIgB,MAAM,IAAM;IACnD,MAAM;MACLC,eAAe;MACfC,wBAAwB;MACxBC;IACD,CAAC,GAAGT,MAAM,CAAEM,MAAM,CAAEP,gBAAiB,CAAE,CAAC;IACxC,MAAMW,qBAAqB,GAAGF,wBAAwB,CAAC,CAAC;IACxD,MAAMG,aAAa,GAAGF,qBAAqB,CAAEC,qBAAsB,CAAC;IACpE,MAAME,OAAO,GAAGL,eAAe,CAAEG,qBAAsB,CAAC;IACxD,MAAMG,eAAe,GAAGF,aAAa,aAAbA,aAAa,cAAbA,aAAa,GAAIC,OAAO,CAAEA,OAAO,CAACE,MAAM,GAAG,CAAC,CAAE;IACtE,OAAO;MACNT,cAAc,EAAEQ;IACjB,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EACP,MAAME,gBAAgB,GAAGpB,0BAA0B,CAAEU,cAAe,CAAC;;EAErE;EACA;EACA,MAAMW,OAAO,GAAGtB,MAAM,CAAC,CAAC;EACxB,MAAMuB,4BAA4B,GAAGpB,+BAA+B,CAAE;IACrEqB,GAAG,EAAEF,OAAO;IACZG,eAAe,EAAE;EAClB,CAAE,CAAC;EAEH,oBACCjB,IAAA;IACCkB,SAAS,EAAC,oCAAoC;IAE9CF,GAAG,EAAGF,OAAS;IAAA,GACVC,4BAA4B;IAAAI,QAAA,eAEjCnB,IAAA,CAACb,aAAa;MACb+B,SAAS,EAAC,4CAA4C;MACtDE,OAAO,EAAGA,CAAA,KAAMlB,WAAW,CAAEC,cAAe,CAAG;MAC/CkB,KAAK,EAAG9B,OAAO,CACd;MACAD,EAAE,CAAE,yBAA0B,CAAC,EAC/BuB,gBAAgB,EAAES,KACnB,CAAG;MACHC,WAAW;MACXC,IAAI,eAAGxB,IAAA,CAACN,SAAS;QAAC8B,IAAI,EAAGX,gBAAgB,EAAEW;MAAM,CAAE;IAAG,CACtD;EAAC,GAdIrB,cAeF,CAAC;AAER","ignoreList":[]}