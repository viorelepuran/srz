{"version":3,"names":["clsx","useMemo","useRef","memo","createBlock","createBlocksFromInnerBlocksTemplate","isReusableBlock","isTemplatePart","__experimentalTruncate","Truncate","ENTER","isAppleOS","BlockIcon","InserterListboxItem","InserterDraggableBlocks","jsx","_jsx","jsxs","_jsxs","InserterListItem","className","isFirst","item","onSelect","onHover","isDraggable","props","isDraggingRef","itemIconStyle","icon","backgroundColor","background","color","foreground","blocks","name","initialAttributes","innerBlocks","isSynced","syncStatus","isEnabled","isDisabled","children","draggable","onDragStart","onDragEnd","event","current","disabled","onClick","preventDefault","metaKey","ctrlKey","onKeyDown","keyCode","onMouseEnter","onMouseLeave","style","showColors","numberOfLines","title"],"sources":["@wordpress/block-editor/src/components/inserter-list-item/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo, useRef, memo } from '@wordpress/element';\nimport {\n\tcreateBlock,\n\tcreateBlocksFromInnerBlocksTemplate,\n\tisReusableBlock,\n\tisTemplatePart,\n} from '@wordpress/blocks';\nimport { __experimentalTruncate as Truncate } from '@wordpress/components';\nimport { ENTER, isAppleOS } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\nimport { InserterListboxItem } from '../inserter-listbox';\nimport InserterDraggableBlocks from '../inserter-draggable-blocks';\n\nfunction InserterListItem( {\n\tclassName,\n\tisFirst,\n\titem,\n\tonSelect,\n\tonHover,\n\tisDraggable,\n\t...props\n} ) {\n\tconst isDraggingRef = useRef( false );\n\tconst itemIconStyle = item.icon\n\t\t? {\n\t\t\t\tbackgroundColor: item.icon.background,\n\t\t\t\tcolor: item.icon.foreground,\n\t\t  }\n\t\t: {};\n\tconst blocks = useMemo(\n\t\t() => [\n\t\t\tcreateBlock(\n\t\t\t\titem.name,\n\t\t\t\titem.initialAttributes,\n\t\t\t\tcreateBlocksFromInnerBlocksTemplate( item.innerBlocks )\n\t\t\t),\n\t\t],\n\t\t[ item.name, item.initialAttributes, item.innerBlocks ]\n\t);\n\n\tconst isSynced =\n\t\t( isReusableBlock( item ) && item.syncStatus !== 'unsynced' ) ||\n\t\tisTemplatePart( item );\n\n\treturn (\n\t\t<InserterDraggableBlocks\n\t\t\tisEnabled={ isDraggable && ! item.isDisabled }\n\t\t\tblocks={ blocks }\n\t\t\ticon={ item.icon }\n\t\t>\n\t\t\t{ ( { draggable, onDragStart, onDragEnd } ) => (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t'block-editor-block-types-list__list-item',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'is-synced': isSynced,\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t\tdraggable={ draggable }\n\t\t\t\t\tonDragStart={ ( event ) => {\n\t\t\t\t\t\tisDraggingRef.current = true;\n\t\t\t\t\t\tif ( onDragStart ) {\n\t\t\t\t\t\t\tonHover( null );\n\t\t\t\t\t\t\tonDragStart( event );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t\tonDragEnd={ ( event ) => {\n\t\t\t\t\t\tisDraggingRef.current = false;\n\t\t\t\t\t\tif ( onDragEnd ) {\n\t\t\t\t\t\t\tonDragEnd( event );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<InserterListboxItem\n\t\t\t\t\t\tisFirst={ isFirst }\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t'block-editor-block-types-list__item',\n\t\t\t\t\t\t\tclassName\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tdisabled={ item.isDisabled }\n\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tonSelect(\n\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\tisAppleOS() ? event.metaKey : event.ctrlKey\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tonHover( null );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\tconst { keyCode } = event;\n\t\t\t\t\t\t\tif ( keyCode === ENTER ) {\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tonSelect(\n\t\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\t\tisAppleOS() ? event.metaKey : event.ctrlKey\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tonHover( null );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonMouseEnter={ () => {\n\t\t\t\t\t\t\tif ( isDraggingRef.current ) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonHover( item );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonMouseLeave={ () => onHover( null ) }\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"block-editor-block-types-list__item-icon\"\n\t\t\t\t\t\t\tstyle={ itemIconStyle }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<BlockIcon icon={ item.icon } showColors />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"block-editor-block-types-list__item-title\">\n\t\t\t\t\t\t\t<Truncate numberOfLines={ 3 }>\n\t\t\t\t\t\t\t\t{ item.title }\n\t\t\t\t\t\t\t</Truncate>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</InserterListboxItem>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</InserterDraggableBlocks>\n\t);\n}\n\nexport default memo( InserterListItem );\n"],"mappings":"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","ignoreList":[]}