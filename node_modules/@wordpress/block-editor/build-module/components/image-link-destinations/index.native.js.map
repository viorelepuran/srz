{"version":3,"names":["useNavigation","useRoute","StyleSheet","__","Icon","check","chevronRight","usePreferredColorSchemeStyle","BottomSheet","PanelBody","styles","blockSettingsScreens","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LINK_DESTINATION_NONE","LINK_DESTINATION_MEDIA","LINK_DESTINATION_ATTACHMENT","LINK_DESTINATION_CUSTOM","LinkDestination","children","isSelected","label","onPress","value","valueStyle","optionIcon","optionIconDark","Cell","icon","iconStyle","flatten","unselectedOptionIcon","leftAlign","separatorType","ImageLinkDestinationsScreen","props","navigation","route","url","inputValue","imageUrl","attachmentPageUrl","linkDestination","params","goToLinkPicker","navigate","linkPicker","setLinkDestination","newLinkDestination","newUrl","settings","text","NavBar","BackButton","goBack","Heading","undefined","placeholderTextColor"],"sources":["@wordpress/block-editor/src/components/image-link-destinations/index.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { StyleSheet } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Icon, check, chevronRight } from '@wordpress/icons';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { BottomSheet, PanelBody } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.native.scss';\nimport { blockSettingsScreens } from '../block-settings';\n\nconst LINK_DESTINATION_NONE = 'none';\nconst LINK_DESTINATION_MEDIA = 'media';\nconst LINK_DESTINATION_ATTACHMENT = 'attachment';\nconst LINK_DESTINATION_CUSTOM = 'custom';\n\nfunction LinkDestination( {\n\tchildren,\n\tisSelected,\n\tlabel,\n\tonPress,\n\tvalue,\n\tvalueStyle,\n} ) {\n\tconst optionIcon = usePreferredColorSchemeStyle(\n\t\tstyles.optionIcon,\n\t\tstyles.optionIconDark\n\t);\n\n\treturn (\n\t\t<BottomSheet.Cell\n\t\t\ticon={ check }\n\t\t\ticonStyle={ StyleSheet.flatten( [\n\t\t\t\toptionIcon,\n\t\t\t\t! isSelected && styles.unselectedOptionIcon,\n\t\t\t] ) }\n\t\t\tlabel={ label }\n\t\t\tleftAlign\n\t\t\tonPress={ onPress }\n\t\t\tvalue={ value }\n\t\t\tvalueStyle={ valueStyle }\n\t\t\tseparatorType=\"leftMargin\"\n\t\t>\n\t\t\t{ children }\n\t\t</BottomSheet.Cell>\n\t);\n}\n\nfunction ImageLinkDestinationsScreen( props ) {\n\tconst navigation = useNavigation();\n\tconst route = useRoute();\n\tconst { url = '' } = props;\n\tconst {\n\t\tinputValue = url,\n\t\timageUrl,\n\t\tattachmentPageUrl,\n\t\tlinkDestination,\n\t} = route.params || {};\n\n\tfunction goToLinkPicker() {\n\t\tnavigation.navigate( blockSettingsScreens.linkPicker, {\n\t\t\tinputValue:\n\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM ? inputValue : '',\n\t\t} );\n\t}\n\n\tconst setLinkDestination = ( newLinkDestination ) => () => {\n\t\tlet newUrl;\n\t\tswitch ( newLinkDestination ) {\n\t\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\t\tnewUrl = imageUrl;\n\t\t\t\tbreak;\n\t\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\t\tnewUrl = attachmentPageUrl;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tnewUrl = '';\n\t\t\t\tbreak;\n\t\t}\n\n\t\tnavigation.navigate( blockSettingsScreens.settings, {\n\t\t\t// The `inputValue` name is reused from LinkPicker, as it helps avoid\n\t\t\t// bugs from stale values remaining in the React Navigation route\n\t\t\t// parameters.\n\t\t\tinputValue: newUrl,\n\t\t\t// Clear link text value that may be set from LinkPicker.\n\t\t\ttext: '',\n\t\t} );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<BottomSheet.NavBar>\n\t\t\t\t<BottomSheet.NavBar.BackButton onPress={ navigation.goBack } />\n\t\t\t\t<BottomSheet.NavBar.Heading>\n\t\t\t\t\t{ __( 'Link To' ) }\n\t\t\t\t</BottomSheet.NavBar.Heading>\n\t\t\t</BottomSheet.NavBar>\n\t\t\t<PanelBody>\n\t\t\t\t<LinkDestination\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_NONE }\n\t\t\t\t\tlabel={ __( 'None' ) }\n\t\t\t\t\tonPress={ setLinkDestination( LINK_DESTINATION_NONE ) }\n\t\t\t\t/>\n\t\t\t\t<LinkDestination\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_MEDIA }\n\t\t\t\t\tlabel={ __( 'Media File' ) }\n\t\t\t\t\tonPress={ setLinkDestination( LINK_DESTINATION_MEDIA ) }\n\t\t\t\t/>\n\t\t\t\t{ !! attachmentPageUrl && (\n\t\t\t\t\t<LinkDestination\n\t\t\t\t\t\tisSelected={\n\t\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_ATTACHMENT\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel={ __( 'Attachment Page' ) }\n\t\t\t\t\t\tonPress={ setLinkDestination(\n\t\t\t\t\t\t\tLINK_DESTINATION_ATTACHMENT\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<LinkDestination\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_CUSTOM }\n\t\t\t\t\tlabel={ __( 'Custom URL' ) }\n\t\t\t\t\tonPress={ goToLinkPicker }\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM\n\t\t\t\t\t\t\t? inputValue\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n\t\t\t\t\tvalueStyle={\n\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM\n\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t: styles.placeholderTextColor\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<Icon icon={ chevronRight }></Icon>\n\t\t\t\t</LinkDestination>\n\t\t\t</PanelBody>\n\t\t</>\n\t);\n}\n\nexport default ImageLinkDestinationsScreen;\n"],"mappings":"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","ignoreList":[]}