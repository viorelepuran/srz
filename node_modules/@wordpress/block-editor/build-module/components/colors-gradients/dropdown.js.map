{"version":3,"names":["clsx","Button","ColorIndicator","Dropdown","FlexItem","__experimentalDropdownContentWrapper","DropdownContentWrapper","__experimentalHStack","HStack","__experimentalToolsPanelItem","ToolsPanelItem","useRef","__","reset","resetIcon","ColorGradientControl","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WithToolsPanelItem","setting","children","panelId","props","clearValue","colorValue","onColorChange","gradientValue","onGradientChange","hasValue","label","onDeselect","isShownByDefault","undefined","className","resetAllFilter","LabeledColorIndicator","justify","title","renderToggle","settings","onToggle","isOpen","clearable","colorButtonRef","toggleProps","onClick","ref","value","__next40pxDefaultSize","size","icon","current","focus","ColorGradientSettingsDropdown","colors","disableCustomColors","disableCustomGradients","enableAlpha","gradients","__experimentalIsRenderedInSidebar","popoverProps","placement","offset","shift","map","index","controlProps","showTitle","toggleSettings","renderContent","paddingSize"],"sources":["@wordpress/block-editor/src/components/colors-gradients/dropdown.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tColorIndicator,\n\tDropdown,\n\tFlexItem,\n\t__experimentalDropdownContentWrapper as DropdownContentWrapper,\n\t__experimentalHStack as HStack,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { useRef } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { reset as resetIcon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport ColorGradientControl from './control';\n\n// When the `ColorGradientSettingsDropdown` controls are being rendered to a\n// `ToolsPanel` they must be wrapped in a `ToolsPanelItem`.\nconst WithToolsPanelItem = ( { setting, children, panelId, ...props } ) => {\n\tconst clearValue = () => {\n\t\tif ( setting.colorValue ) {\n\t\t\tsetting.onColorChange();\n\t\t} else if ( setting.gradientValue ) {\n\t\t\tsetting.onGradientChange();\n\t\t}\n\t};\n\treturn (\n\t\t<ToolsPanelItem\n\t\t\thasValue={ () => {\n\t\t\t\treturn !! setting.colorValue || !! setting.gradientValue;\n\t\t\t} }\n\t\t\tlabel={ setting.label }\n\t\t\tonDeselect={ clearValue }\n\t\t\tisShownByDefault={\n\t\t\t\tsetting.isShownByDefault !== undefined\n\t\t\t\t\t? setting.isShownByDefault\n\t\t\t\t\t: true\n\t\t\t}\n\t\t\t{ ...props }\n\t\t\tclassName=\"block-editor-tools-panel-color-gradient-settings__item\"\n\t\t\tpanelId={ panelId }\n\t\t\t// Pass resetAllFilter if supplied due to rendering via SlotFill\n\t\t\t// into parent ToolsPanel.\n\t\t\tresetAllFilter={ setting.resetAllFilter }\n\t\t>\n\t\t\t{ children }\n\t\t</ToolsPanelItem>\n\t);\n};\n\nconst LabeledColorIndicator = ( { colorValue, label } ) => (\n\t<HStack justify=\"flex-start\">\n\t\t<ColorIndicator\n\t\t\tclassName=\"block-editor-panel-color-gradient-settings__color-indicator\"\n\t\t\tcolorValue={ colorValue }\n\t\t/>\n\t\t<FlexItem\n\t\t\tclassName=\"block-editor-panel-color-gradient-settings__color-name\"\n\t\t\ttitle={ label }\n\t\t>\n\t\t\t{ label }\n\t\t</FlexItem>\n\t</HStack>\n);\n\n// Renders a color dropdown's toggle as an `Item` if it is within an `ItemGroup`\n// or as a `Button` if it isn't e.g. the controls are being rendered in\n// a `ToolsPanel`.\nconst renderToggle =\n\t( settings ) =>\n\t( { onToggle, isOpen } ) => {\n\t\tconst {\n\t\t\tclearable,\n\t\t\tcolorValue,\n\t\t\tgradientValue,\n\t\t\tonColorChange,\n\t\t\tonGradientChange,\n\t\t\tlabel,\n\t\t} = settings;\n\t\tconst colorButtonRef = useRef( undefined );\n\n\t\tconst toggleProps = {\n\t\t\tonClick: onToggle,\n\t\t\tclassName: clsx(\n\t\t\t\t'block-editor-panel-color-gradient-settings__dropdown',\n\t\t\t\t{ 'is-open': isOpen }\n\t\t\t),\n\t\t\t'aria-expanded': isOpen,\n\t\t\tref: colorButtonRef,\n\t\t};\n\n\t\tconst clearValue = () => {\n\t\t\tif ( colorValue ) {\n\t\t\t\tonColorChange();\n\t\t\t} else if ( gradientValue ) {\n\t\t\t\tonGradientChange();\n\t\t\t}\n\t\t};\n\n\t\tconst value = colorValue ?? gradientValue;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Button __next40pxDefaultSize { ...toggleProps }>\n\t\t\t\t\t<LabeledColorIndicator\n\t\t\t\t\t\tcolorValue={ value }\n\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t/>\n\t\t\t\t</Button>\n\t\t\t\t{ clearable && value && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Reset' ) }\n\t\t\t\t\t\tclassName=\"block-editor-panel-color-gradient-settings__reset\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\ticon={ resetIcon }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tclearValue();\n\t\t\t\t\t\t\tif ( isOpen ) {\n\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Return focus to parent button\n\t\t\t\t\t\t\tcolorButtonRef.current?.focus();\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t};\n\n// Renders a collection of color controls as dropdowns. Depending upon the\n// context in which these dropdowns are being rendered, they may be wrapped\n// in an `ItemGroup` with each dropdown's toggle as an `Item`, or alternatively,\n// the may be individually wrapped in a `ToolsPanelItem` with the toggle as\n// a regular `Button`.\n//\n// For more context see: https://github.com/WordPress/gutenberg/pull/40084\nexport default function ColorGradientSettingsDropdown( {\n\tcolors,\n\tdisableCustomColors,\n\tdisableCustomGradients,\n\tenableAlpha,\n\tgradients,\n\tsettings,\n\t__experimentalIsRenderedInSidebar,\n\t...props\n} ) {\n\tlet popoverProps;\n\tif ( __experimentalIsRenderedInSidebar ) {\n\t\tpopoverProps = {\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t};\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ settings.map( ( setting, index ) => {\n\t\t\t\tconst controlProps = {\n\t\t\t\t\tclearable: false,\n\t\t\t\t\tcolorValue: setting.colorValue,\n\t\t\t\t\tcolors,\n\t\t\t\t\tdisableCustomColors,\n\t\t\t\t\tdisableCustomGradients,\n\t\t\t\t\tenableAlpha,\n\t\t\t\t\tgradientValue: setting.gradientValue,\n\t\t\t\t\tgradients,\n\t\t\t\t\tlabel: setting.label,\n\t\t\t\t\tonColorChange: setting.onColorChange,\n\t\t\t\t\tonGradientChange: setting.onGradientChange,\n\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t__experimentalIsRenderedInSidebar,\n\t\t\t\t\t...setting,\n\t\t\t\t};\n\t\t\t\tconst toggleSettings = {\n\t\t\t\t\tclearable: setting.clearable,\n\t\t\t\t\tlabel: setting.label,\n\t\t\t\t\tcolorValue: setting.colorValue,\n\t\t\t\t\tgradientValue: setting.gradientValue,\n\t\t\t\t\tonColorChange: setting.onColorChange,\n\t\t\t\t\tonGradientChange: setting.onGradientChange,\n\t\t\t\t};\n\n\t\t\t\treturn (\n\t\t\t\t\tsetting && (\n\t\t\t\t\t\t// If not in an `ItemGroup` wrap the dropdown in a\n\t\t\t\t\t\t// `ToolsPanelItem`\n\t\t\t\t\t\t<WithToolsPanelItem\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\tsetting={ setting }\n\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\t\t\t\tclassName=\"block-editor-tools-panel-color-gradient-settings__dropdown\"\n\t\t\t\t\t\t\t\trenderToggle={ renderToggle( toggleSettings ) }\n\t\t\t\t\t\t\t\trenderContent={ () => (\n\t\t\t\t\t\t\t\t\t<DropdownContentWrapper paddingSize=\"none\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"block-editor-panel-color-gradient-settings__dropdown-content\">\n\t\t\t\t\t\t\t\t\t\t\t<ColorGradientControl\n\t\t\t\t\t\t\t\t\t\t\t\t{ ...controlProps }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</DropdownContentWrapper>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</WithToolsPanelItem>\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}