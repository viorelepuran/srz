{"version":3,"names":["useCallback","useInstanceId","CheckboxControl","BlockTypesChecklist","jsx","_jsx","jsxs","_jsxs","BlockManagerCategory","title","blockTypes","selectedBlockTypes","onChange","instanceId","toggleVisible","blockType","nextIsChecked","filter","name","toggleAllVisible","find","selectedBlockType","length","checkedBlockNames","map","type","some","titleId","isAllChecked","isIndeterminate","role","className","children","__nextHasNoMarginBottom","checked","indeterminate","label","id","value","onItemChange"],"sources":["@wordpress/block-editor/src/components/block-manager/category.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useCallback } from '@wordpress/element';\nimport { useInstanceId } from '@wordpress/compose';\nimport { CheckboxControl } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport BlockTypesChecklist from './checklist';\n\nfunction BlockManagerCategory( {\n\ttitle,\n\tblockTypes,\n\tselectedBlockTypes,\n\tonChange,\n} ) {\n\tconst instanceId = useInstanceId( BlockManagerCategory );\n\n\tconst toggleVisible = useCallback(\n\t\t( blockType, nextIsChecked ) => {\n\t\t\tif ( nextIsChecked ) {\n\t\t\t\tonChange( [ ...selectedBlockTypes, blockType ] );\n\t\t\t} else {\n\t\t\t\tonChange(\n\t\t\t\t\tselectedBlockTypes.filter(\n\t\t\t\t\t\t( { name } ) => name !== blockType.name\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[ selectedBlockTypes, onChange ]\n\t);\n\n\tconst toggleAllVisible = useCallback(\n\t\t( nextIsChecked ) => {\n\t\t\tif ( nextIsChecked ) {\n\t\t\t\tonChange( [\n\t\t\t\t\t...selectedBlockTypes,\n\t\t\t\t\t...blockTypes.filter(\n\t\t\t\t\t\t( blockType ) =>\n\t\t\t\t\t\t\t! selectedBlockTypes.find(\n\t\t\t\t\t\t\t\t( { name } ) => name === blockType.name\n\t\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t] );\n\t\t\t} else {\n\t\t\t\tonChange(\n\t\t\t\t\tselectedBlockTypes.filter(\n\t\t\t\t\t\t( selectedBlockType ) =>\n\t\t\t\t\t\t\t! blockTypes.find(\n\t\t\t\t\t\t\t\t( { name } ) => name === selectedBlockType.name\n\t\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[ blockTypes, selectedBlockTypes, onChange ]\n\t);\n\n\tif ( ! blockTypes.length ) {\n\t\treturn null;\n\t}\n\n\tconst checkedBlockNames = blockTypes\n\t\t.map( ( { name } ) => name )\n\t\t.filter( ( type ) =>\n\t\t\t( selectedBlockTypes ?? [] ).some(\n\t\t\t\t( selectedBlockType ) => selectedBlockType.name === type\n\t\t\t)\n\t\t);\n\n\tconst titleId = 'block-editor-block-manager__category-title-' + instanceId;\n\n\tconst isAllChecked = checkedBlockNames.length === blockTypes.length;\n\tconst isIndeterminate = ! isAllChecked && checkedBlockNames.length > 0;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"group\"\n\t\t\taria-labelledby={ titleId }\n\t\t\tclassName=\"block-editor-block-manager__category\"\n\t\t>\n\t\t\t<CheckboxControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tchecked={ isAllChecked }\n\t\t\t\tonChange={ toggleAllVisible }\n\t\t\t\tclassName=\"block-editor-block-manager__category-title\"\n\t\t\t\tindeterminate={ isIndeterminate }\n\t\t\t\tlabel={ <span id={ titleId }>{ title }</span> }\n\t\t\t/>\n\t\t\t<BlockTypesChecklist\n\t\t\t\tblockTypes={ blockTypes }\n\t\t\t\tvalue={ checkedBlockNames }\n\t\t\t\tonItemChange={ toggleVisible }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default BlockManagerCategory;\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,WAAW,QAAQ,oBAAoB;AAChD,SAASC,aAAa,QAAQ,oBAAoB;AAClD,SAASC,eAAe,QAAQ,uBAAuB;;AAEvD;AACA;AACA;AACA,OAAOC,mBAAmB,MAAM,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAE9C,SAASC,oBAAoBA,CAAE;EAC9BC,KAAK;EACLC,UAAU;EACVC,kBAAkB;EAClBC;AACD,CAAC,EAAG;EACH,MAAMC,UAAU,GAAGZ,aAAa,CAAEO,oBAAqB,CAAC;EAExD,MAAMM,aAAa,GAAGd,WAAW,CAChC,CAAEe,SAAS,EAAEC,aAAa,KAAM;IAC/B,IAAKA,aAAa,EAAG;MACpBJ,QAAQ,CAAE,CAAE,GAAGD,kBAAkB,EAAEI,SAAS,CAAG,CAAC;IACjD,CAAC,MAAM;MACNH,QAAQ,CACPD,kBAAkB,CAACM,MAAM,CACxB,CAAE;QAAEC;MAAK,CAAC,KAAMA,IAAI,KAAKH,SAAS,CAACG,IACpC,CACD,CAAC;IACF;EACD,CAAC,EACD,CAAEP,kBAAkB,EAAEC,QAAQ,CAC/B,CAAC;EAED,MAAMO,gBAAgB,GAAGnB,WAAW,CACjCgB,aAAa,IAAM;IACpB,IAAKA,aAAa,EAAG;MACpBJ,QAAQ,CAAE,CACT,GAAGD,kBAAkB,EACrB,GAAGD,UAAU,CAACO,MAAM,CACjBF,SAAS,IACV,CAAEJ,kBAAkB,CAACS,IAAI,CACxB,CAAE;QAAEF;MAAK,CAAC,KAAMA,IAAI,KAAKH,SAAS,CAACG,IACpC,CACF,CAAC,CACA,CAAC;IACJ,CAAC,MAAM;MACNN,QAAQ,CACPD,kBAAkB,CAACM,MAAM,CACtBI,iBAAiB,IAClB,CAAEX,UAAU,CAACU,IAAI,CAChB,CAAE;QAAEF;MAAK,CAAC,KAAMA,IAAI,KAAKG,iBAAiB,CAACH,IAC5C,CACF,CACD,CAAC;IACF;EACD,CAAC,EACD,CAAER,UAAU,EAAEC,kBAAkB,EAAEC,QAAQ,CAC3C,CAAC;EAED,IAAK,CAAEF,UAAU,CAACY,MAAM,EAAG;IAC1B,OAAO,IAAI;EACZ;EAEA,MAAMC,iBAAiB,GAAGb,UAAU,CAClCc,GAAG,CAAE,CAAE;IAAEN;EAAK,CAAC,KAAMA,IAAK,CAAC,CAC3BD,MAAM,CAAIQ,IAAI,IACd,CAAEd,kBAAkB,aAAlBA,kBAAkB,cAAlBA,kBAAkB,GAAI,EAAE,EAAGe,IAAI,CAC9BL,iBAAiB,IAAMA,iBAAiB,CAACH,IAAI,KAAKO,IACrD,CACD,CAAC;EAEF,MAAME,OAAO,GAAG,6CAA6C,GAAGd,UAAU;EAE1E,MAAMe,YAAY,GAAGL,iBAAiB,CAACD,MAAM,KAAKZ,UAAU,CAACY,MAAM;EACnE,MAAMO,eAAe,GAAG,CAAED,YAAY,IAAIL,iBAAiB,CAACD,MAAM,GAAG,CAAC;EAEtE,oBACCf,KAAA;IACCuB,IAAI,EAAC,OAAO;IACZ,mBAAkBH,OAAS;IAC3BI,SAAS,EAAC,sCAAsC;IAAAC,QAAA,gBAEhD3B,IAAA,CAACH,eAAe;MACf+B,uBAAuB;MACvBC,OAAO,EAAGN,YAAc;MACxBhB,QAAQ,EAAGO,gBAAkB;MAC7BY,SAAS,EAAC,4CAA4C;MACtDI,aAAa,EAAGN,eAAiB;MACjCO,KAAK,eAAG/B,IAAA;QAAMgC,EAAE,EAAGV,OAAS;QAAAK,QAAA,EAAGvB;MAAK,CAAQ;IAAG,CAC/C,CAAC,eACFJ,IAAA,CAACF,mBAAmB;MACnBO,UAAU,EAAGA,UAAY;MACzB4B,KAAK,EAAGf,iBAAmB;MAC3BgB,YAAY,EAAGzB;IAAe,CAC9B,CAAC;EAAA,CACE,CAAC;AAER;AAEA,eAAeN,oBAAoB","ignoreList":[]}