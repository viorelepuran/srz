{"version":3,"names":["__experimentalUseSlotFills","useSlotFills","__experimentalToolsPanel","ToolsPanel","__experimentalToolsPanelItem","ToolsPanelItem","useDispatch","useSelect","__","InspectorControlsGroups","default","InspectorControls","store","blockEditorStore","useToolsPanelDropdownMenuProps","cleanEmptyObject","jsx","_jsx","PositionControlsPanel","selectedClientIds","selectedBlocks","hasPositionAttribute","select","getBlocksByClientId","getSelectedBlockClientIds","selectedBlockClientIds","_selectedBlocks","some","attributes","style","position","type","updateBlockAttributes","dropdownMenuProps","resetPosition","length","attributesByClientId","Object","fromEntries","map","clientId","undefined","top","right","bottom","left","className","label","resetAll","children","isShownByDefault","hasValue","onDeselect","Slot","group","PositionControls","fills","name","hasFills","Boolean"],"sources":["@wordpress/block-editor/src/components/inspector-controls-tabs/position-controls-panel.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalUseSlotFills as useSlotFills,\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport InspectorControlsGroups from '../inspector-controls/groups';\nimport { default as InspectorControls } from '../inspector-controls';\nimport { store as blockEditorStore } from '../../store';\nimport { useToolsPanelDropdownMenuProps } from '../global-styles/utils';\nimport { cleanEmptyObject } from '../../hooks/utils';\n\nconst PositionControlsPanel = () => {\n\tconst { selectedClientIds, selectedBlocks, hasPositionAttribute } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst { getBlocksByClientId, getSelectedBlockClientIds } =\n\t\t\t\tselect( blockEditorStore );\n\n\t\t\tconst selectedBlockClientIds = getSelectedBlockClientIds();\n\t\t\tconst _selectedBlocks = getBlocksByClientId(\n\t\t\t\tselectedBlockClientIds\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tselectedClientIds: selectedBlockClientIds,\n\t\t\t\tselectedBlocks: _selectedBlocks,\n\t\t\t\thasPositionAttribute: _selectedBlocks?.some(\n\t\t\t\t\t( { attributes } ) => !! attributes?.style?.position?.type\n\t\t\t\t),\n\t\t\t};\n\t\t}, [] );\n\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\n\tconst dropdownMenuProps = useToolsPanelDropdownMenuProps();\n\n\tfunction resetPosition() {\n\t\tif ( ! selectedClientIds?.length || ! selectedBlocks?.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst attributesByClientId = Object.fromEntries(\n\t\t\tselectedBlocks?.map( ( { clientId, attributes } ) => [\n\t\t\t\tclientId,\n\t\t\t\t{\n\t\t\t\t\tstyle: cleanEmptyObject( {\n\t\t\t\t\t\t...attributes?.style,\n\t\t\t\t\t\tposition: {\n\t\t\t\t\t\t\t...attributes?.style?.position,\n\t\t\t\t\t\t\ttype: undefined,\n\t\t\t\t\t\t\ttop: undefined,\n\t\t\t\t\t\t\tright: undefined,\n\t\t\t\t\t\t\tbottom: undefined,\n\t\t\t\t\t\t\tleft: undefined,\n\t\t\t\t\t\t},\n\t\t\t\t\t} ),\n\t\t\t\t},\n\t\t\t] )\n\t\t);\n\n\t\tupdateBlockAttributes( selectedClientIds, attributesByClientId, true );\n\t}\n\n\treturn (\n\t\t<ToolsPanel\n\t\t\tclassName=\"block-editor-block-inspector__position\"\n\t\t\tlabel={ __( 'Position' ) }\n\t\t\tresetAll={ resetPosition }\n\t\t\tdropdownMenuProps={ dropdownMenuProps }\n\t\t>\n\t\t\t<ToolsPanelItem\n\t\t\t\tisShownByDefault={ hasPositionAttribute }\n\t\t\t\tlabel={ __( 'Position' ) }\n\t\t\t\thasValue={ () => hasPositionAttribute }\n\t\t\t\tonDeselect={ resetPosition }\n\t\t\t>\n\t\t\t\t<InspectorControls.Slot group=\"position\" />\n\t\t\t</ToolsPanelItem>\n\t\t</ToolsPanel>\n\t);\n};\n\nconst PositionControls = () => {\n\tconst fills = useSlotFills( InspectorControlsGroups.position.name );\n\tconst hasFills = Boolean( fills && fills.length );\n\n\tif ( ! hasFills ) {\n\t\treturn null;\n\t}\n\n\treturn <PositionControlsPanel />;\n};\n\nexport default PositionControls;\n"],"mappings":"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","ignoreList":[]}