{"version":3,"names":["clsx","__","ToolbarDropdownMenu","ToolbarGroup","MenuGroup","MenuItem","useAvailableAlignments","BLOCK_ALIGNMENTS_CONTROLS","DEFAULT_CONTROL","jsx","_jsx","Fragment","_Fragment","BlockAlignmentUI","value","onChange","controls","isToolbar","isCollapsed","enabledControls","hasEnabledControls","length","onChangeAlignment","align","includes","undefined","activeAlignmentControl","defaultAlignmentControl","UIComponent","commonProps","icon","label","extraProps","map","name","controlName","isActive","role","onClick","toggleProps","description","children","onClose","className","info","title","isSelected","iconPosition"],"sources":["@wordpress/block-editor/src/components/block-alignment-control/ui.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tToolbarDropdownMenu,\n\tToolbarGroup,\n\tMenuGroup,\n\tMenuItem,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport useAvailableAlignments from './use-available-alignments';\nimport { BLOCK_ALIGNMENTS_CONTROLS, DEFAULT_CONTROL } from './constants';\n\nfunction BlockAlignmentUI( {\n\tvalue,\n\tonChange,\n\tcontrols,\n\tisToolbar,\n\tisCollapsed = true,\n} ) {\n\tconst enabledControls = useAvailableAlignments( controls );\n\tconst hasEnabledControls = !! enabledControls.length;\n\n\tif ( ! hasEnabledControls ) {\n\t\treturn null;\n\t}\n\n\tfunction onChangeAlignment( align ) {\n\t\tonChange( [ value, 'none' ].includes( align ) ? undefined : align );\n\t}\n\n\tconst activeAlignmentControl = BLOCK_ALIGNMENTS_CONTROLS[ value ];\n\tconst defaultAlignmentControl =\n\t\tBLOCK_ALIGNMENTS_CONTROLS[ DEFAULT_CONTROL ];\n\n\tconst UIComponent = isToolbar ? ToolbarGroup : ToolbarDropdownMenu;\n\tconst commonProps = {\n\t\ticon: activeAlignmentControl\n\t\t\t? activeAlignmentControl.icon\n\t\t\t: defaultAlignmentControl.icon,\n\t\tlabel: __( 'Align' ),\n\t};\n\tconst extraProps = isToolbar\n\t\t? {\n\t\t\t\tisCollapsed,\n\t\t\t\tcontrols: enabledControls.map( ( { name: controlName } ) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...BLOCK_ALIGNMENTS_CONTROLS[ controlName ],\n\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\tvalue === controlName ||\n\t\t\t\t\t\t\t( ! value && controlName === 'none' ),\n\t\t\t\t\t\trole: isCollapsed ? 'menuitemradio' : undefined,\n\t\t\t\t\t\tonClick: () => onChangeAlignment( controlName ),\n\t\t\t\t\t};\n\t\t\t\t} ),\n\t\t  }\n\t\t: {\n\t\t\t\ttoggleProps: { description: __( 'Change alignment' ) },\n\t\t\t\tchildren: ( { onClose } ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<MenuGroup className=\"block-editor-block-alignment-control__menu-group\">\n\t\t\t\t\t\t\t\t{ enabledControls.map(\n\t\t\t\t\t\t\t\t\t( { name: controlName, info } ) => {\n\t\t\t\t\t\t\t\t\t\tconst { icon, title } =\n\t\t\t\t\t\t\t\t\t\t\tBLOCK_ALIGNMENTS_CONTROLS[\n\t\t\t\t\t\t\t\t\t\t\t\tcontrolName\n\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t// If no value is provided, mark as selected the `none` option.\n\t\t\t\t\t\t\t\t\t\tconst isSelected =\n\t\t\t\t\t\t\t\t\t\t\tcontrolName === value ||\n\t\t\t\t\t\t\t\t\t\t\t( ! value &&\n\t\t\t\t\t\t\t\t\t\t\t\tcontrolName === 'none' );\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\tkey={ controlName }\n\t\t\t\t\t\t\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\t\t\t\t\t\t\ticonPosition=\"left\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'components-dropdown-menu__menu-item',\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'is-active': isSelected,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeAlignment(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrolName\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\trole=\"menuitemradio\"\n\t\t\t\t\t\t\t\t\t\t\t\tinfo={ info }\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t  };\n\n\treturn <UIComponent { ...commonProps } { ...extraProps } />;\n}\n\nexport default BlockAlignmentUI;\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;;AAEvB;AACA;AACA;AACA,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SACCC,mBAAmB,EACnBC,YAAY,EACZC,SAAS,EACTC,QAAQ,QACF,uBAAuB;;AAE9B;AACA;AACA;AACA,OAAOC,sBAAsB,MAAM,4BAA4B;AAC/D,SAASC,yBAAyB,EAAEC,eAAe,QAAQ,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzE,SAASC,gBAAgBA,CAAE;EAC1BC,KAAK;EACLC,QAAQ;EACRC,QAAQ;EACRC,SAAS;EACTC,WAAW,GAAG;AACf,CAAC,EAAG;EACH,MAAMC,eAAe,GAAGb,sBAAsB,CAAEU,QAAS,CAAC;EAC1D,MAAMI,kBAAkB,GAAG,CAAC,CAAED,eAAe,CAACE,MAAM;EAEpD,IAAK,CAAED,kBAAkB,EAAG;IAC3B,OAAO,IAAI;EACZ;EAEA,SAASE,iBAAiBA,CAAEC,KAAK,EAAG;IACnCR,QAAQ,CAAE,CAAED,KAAK,EAAE,MAAM,CAAE,CAACU,QAAQ,CAAED,KAAM,CAAC,GAAGE,SAAS,GAAGF,KAAM,CAAC;EACpE;EAEA,MAAMG,sBAAsB,GAAGnB,yBAAyB,CAAEO,KAAK,CAAE;EACjE,MAAMa,uBAAuB,GAC5BpB,yBAAyB,CAAEC,eAAe,CAAE;EAE7C,MAAMoB,WAAW,GAAGX,SAAS,GAAGd,YAAY,GAAGD,mBAAmB;EAClE,MAAM2B,WAAW,GAAG;IACnBC,IAAI,EAAEJ,sBAAsB,GACzBA,sBAAsB,CAACI,IAAI,GAC3BH,uBAAuB,CAACG,IAAI;IAC/BC,KAAK,EAAE9B,EAAE,CAAE,OAAQ;EACpB,CAAC;EACD,MAAM+B,UAAU,GAAGf,SAAS,GACzB;IACAC,WAAW;IACXF,QAAQ,EAAEG,eAAe,CAACc,GAAG,CAAE,CAAE;MAAEC,IAAI,EAAEC;IAAY,CAAC,KAAM;MAC3D,OAAO;QACN,GAAG5B,yBAAyB,CAAE4B,WAAW,CAAE;QAC3CC,QAAQ,EACPtB,KAAK,KAAKqB,WAAW,IACnB,CAAErB,KAAK,IAAIqB,WAAW,KAAK,MAAQ;QACtCE,IAAI,EAAEnB,WAAW,GAAG,eAAe,GAAGO,SAAS;QAC/Ca,OAAO,EAAEA,CAAA,KAAMhB,iBAAiB,CAAEa,WAAY;MAC/C,CAAC;IACF,CAAE;EACF,CAAC,GACD;IACAI,WAAW,EAAE;MAAEC,WAAW,EAAEvC,EAAE,CAAE,kBAAmB;IAAE,CAAC;IACtDwC,QAAQ,EAAEA,CAAE;MAAEC;IAAQ,CAAC,KAAM;MAC5B,oBACChC,IAAA,CAAAE,SAAA;QAAA6B,QAAA,eACC/B,IAAA,CAACN,SAAS;UAACuC,SAAS,EAAC,kDAAkD;UAAAF,QAAA,EACpEtB,eAAe,CAACc,GAAG,CACpB,CAAE;YAAEC,IAAI,EAAEC,WAAW;YAAES;UAAK,CAAC,KAAM;YAClC,MAAM;cAAEd,IAAI;cAAEe;YAAM,CAAC,GACpBtC,yBAAyB,CACxB4B,WAAW,CACX;YACF;YACA,MAAMW,UAAU,GACfX,WAAW,KAAKrB,KAAK,IACnB,CAAEA,KAAK,IACRqB,WAAW,KAAK,MAAQ;YAC1B,oBACCzB,IAAA,CAACL,QAAQ;cAERyB,IAAI,EAAGA,IAAM;cACbiB,YAAY,EAAC,MAAM;cACnBJ,SAAS,EAAG3C,IAAI,CACf,qCAAqC,EACrC;gBACC,WAAW,EAAE8C;cACd,CACD,CAAG;cACHA,UAAU,EAAGA,UAAY;cACzBR,OAAO,EAAGA,CAAA,KAAM;gBACfhB,iBAAiB,CAChBa,WACD,CAAC;gBACDO,OAAO,CAAC,CAAC;cACV,CAAG;cACHL,IAAI,EAAC,eAAe;cACpBO,IAAI,EAAGA,IAAM;cAAAH,QAAA,EAEXI;YAAK,GAnBDV,WAoBG,CAAC;UAEb,CACD;QAAC,CACS;MAAC,CACX,CAAC;IAEL;EACA,CAAC;EAEJ,oBAAOzB,IAAA,CAACkB,WAAW;IAAA,GAAMC,WAAW;IAAA,GAAQG;EAAU,CAAI,CAAC;AAC5D;AAEA,eAAenB,gBAAgB","ignoreList":[]}