{"version":3,"names":["_i18n","require","_components","_element","_utils","_gap","_utils2","_definitions","_jsxRuntime","RANGE_CONTROL_MAX_VALUES","px","vw","vh","em","rem","svw","lvw","dvw","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax","units","value","label","default","_default","exports","name","__","inspectorControls","GridLayoutInspectorControls","layout","onChange","layoutBlockSupport","allowSizingOnChildren","showColumnsControl","window","__experimentalEnableGridInteractivity","columnCount","showMinWidthControl","jsxs","Fragment","children","jsx","GridLayoutTypeControl","__experimentalVStack","spacing","GridLayoutColumnsAndRowsControl","GridLayoutMinimumWidthControl","toolBarControls","GridLayoutToolbarControls","getLayoutStyle","selector","style","blockName","hasBlockGapSupport","layoutDefinitions","LAYOUT_DEFINITIONS","minimumColumnWidth","rowCount","process","env","NODE_ENV","Error","blockGapValue","blockGap","shouldSkipSerialization","getGapCSSValue","undefined","output","rules","maxValue","push","length","appendSelectors","join","getBlockGapCSS","getOrientation","getAlignments","isManualPlacement","defaultValue","quantity","unit","parseQuantityAndUnitFromRawValue","handleSliderChange","next","handleUnitChange","newUnit","newValue","includes","toFixed","Math","round","BaseControl","VisualLabel","as","Flex","gap","FlexItem","isBlock","__experimentalUnitControl","size","onUnitChange","min","hideLabelFromVision","RangeControl","__next40pxDefaultSize","__nextHasNoMarginBottom","max","withInputField","defaultColumnCount","__experimentalNumberControl","defaultNewColumnCount","newColumnCount","parseInt","newRowCount","tempColumnCount","setTempColumnCount","useState","tempRowCount","setTempRowCount","tempMinimumColumnWidth","setTempMinimumColumnWidth","gridPlacement","onChangeType","helpText","__experimentalToggleGroupControl","help","__experimentalToggleGroupControlOption"],"sources":["@wordpress/block-editor/src/layouts/grid.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nimport {\n\tBaseControl,\n\tFlex,\n\tFlexItem,\n\tRangeControl,\n\t__experimentalNumberControl as NumberControl,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { appendSelectors, getBlockGapCSS } from './utils';\nimport { getGapCSSValue } from '../hooks/gap';\nimport { shouldSkipSerialization } from '../hooks/utils';\nimport { LAYOUT_DEFINITIONS } from './definitions';\n\nconst RANGE_CONTROL_MAX_VALUES = {\n\tpx: 600,\n\t'%': 100,\n\tvw: 100,\n\tvh: 100,\n\tem: 38,\n\trem: 38,\n\tsvw: 100,\n\tlvw: 100,\n\tdvw: 100,\n\tsvh: 100,\n\tlvh: 100,\n\tdvh: 100,\n\tvi: 100,\n\tsvi: 100,\n\tlvi: 100,\n\tdvi: 100,\n\tvb: 100,\n\tsvb: 100,\n\tlvb: 100,\n\tdvb: 100,\n\tvmin: 100,\n\tsvmin: 100,\n\tlvmin: 100,\n\tdvmin: 100,\n\tvmax: 100,\n\tsvmax: 100,\n\tlvmax: 100,\n\tdvmax: 100,\n};\n\nconst units = [\n\t{ value: 'px', label: 'px', default: 0 },\n\t{ value: 'rem', label: 'rem', default: 0 },\n\t{ value: 'em', label: 'em', default: 0 },\n];\n\nexport default {\n\tname: 'grid',\n\tlabel: __( 'Grid' ),\n\tinspectorControls: function GridLayoutInspectorControls( {\n\t\tlayout = {},\n\t\tonChange,\n\t\tlayoutBlockSupport = {},\n\t} ) {\n\t\tconst { allowSizingOnChildren = false } = layoutBlockSupport;\n\n\t\t// In the experiment we want to also show column control in Auto mode, and\n\t\t// the minimum width control in Manual mode.\n\t\tconst showColumnsControl =\n\t\t\twindow.__experimentalEnableGridInteractivity ||\n\t\t\t!! layout?.columnCount;\n\t\tconst showMinWidthControl =\n\t\t\twindow.__experimentalEnableGridInteractivity ||\n\t\t\t! layout?.columnCount;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<GridLayoutTypeControl\n\t\t\t\t\tlayout={ layout }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t/>\n\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t{ showColumnsControl && (\n\t\t\t\t\t\t<GridLayoutColumnsAndRowsControl\n\t\t\t\t\t\t\tlayout={ layout }\n\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\tallowSizingOnChildren={ allowSizingOnChildren }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ showMinWidthControl && (\n\t\t\t\t\t\t<GridLayoutMinimumWidthControl\n\t\t\t\t\t\t\tlayout={ layout }\n\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</VStack>\n\t\t\t</>\n\t\t);\n\t},\n\ttoolBarControls: function GridLayoutToolbarControls() {\n\t\treturn null;\n\t},\n\tgetLayoutStyle: function getLayoutStyle( {\n\t\tselector,\n\t\tlayout,\n\t\tstyle,\n\t\tblockName,\n\t\thasBlockGapSupport,\n\t\tlayoutDefinitions = LAYOUT_DEFINITIONS,\n\t} ) {\n\t\tconst {\n\t\t\tminimumColumnWidth = null,\n\t\t\tcolumnCount = null,\n\t\t\trowCount = null,\n\t\t} = layout;\n\n\t\t// Check that the grid layout attributes are of the correct type, so that we don't accidentally\n\t\t// write code that stores a string attribute instead of a number.\n\t\tif ( process.env.NODE_ENV === 'development' ) {\n\t\t\tif (\n\t\t\t\tminimumColumnWidth &&\n\t\t\t\ttypeof minimumColumnWidth !== 'string'\n\t\t\t) {\n\t\t\t\tthrow new Error( 'minimumColumnWidth must be a string' );\n\t\t\t}\n\t\t\tif ( columnCount && typeof columnCount !== 'number' ) {\n\t\t\t\tthrow new Error( 'columnCount must be a number' );\n\t\t\t}\n\t\t\tif ( rowCount && typeof rowCount !== 'number' ) {\n\t\t\t\tthrow new Error( 'rowCount must be a number' );\n\t\t\t}\n\t\t}\n\n\t\t// If a block's block.json skips serialization for spacing or spacing.blockGap,\n\t\t// don't apply the user-defined value to the styles.\n\t\tconst blockGapValue =\n\t\t\tstyle?.spacing?.blockGap &&\n\t\t\t! shouldSkipSerialization( blockName, 'spacing', 'blockGap' )\n\t\t\t\t? getGapCSSValue( style?.spacing?.blockGap, '0.5em' )\n\t\t\t\t: undefined;\n\n\t\tlet output = '';\n\t\tconst rules = [];\n\n\t\tif ( minimumColumnWidth && columnCount > 0 ) {\n\t\t\tconst maxValue = `max(${ minimumColumnWidth }, ( 100% - (${\n\t\t\t\tblockGapValue || '1.2rem'\n\t\t\t}*${ columnCount - 1 }) ) / ${ columnCount })`;\n\t\t\trules.push(\n\t\t\t\t`grid-template-columns: repeat(auto-fill, minmax(${ maxValue }, 1fr))`,\n\t\t\t\t`container-type: inline-size`\n\t\t\t);\n\t\t\tif ( rowCount ) {\n\t\t\t\trules.push(\n\t\t\t\t\t`grid-template-rows: repeat(${ rowCount }, minmax(1rem, auto))`\n\t\t\t\t);\n\t\t\t}\n\t\t} else if ( columnCount ) {\n\t\t\trules.push(\n\t\t\t\t`grid-template-columns: repeat(${ columnCount }, minmax(0, 1fr))`\n\t\t\t);\n\t\t\tif ( rowCount ) {\n\t\t\t\trules.push(\n\t\t\t\t\t`grid-template-rows: repeat(${ rowCount }, minmax(1rem, auto))`\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\trules.push(\n\t\t\t\t`grid-template-columns: repeat(auto-fill, minmax(min(${\n\t\t\t\t\tminimumColumnWidth || '12rem'\n\t\t\t\t}, 100%), 1fr))`,\n\t\t\t\t'container-type: inline-size'\n\t\t\t);\n\t\t}\n\n\t\tif ( rules.length ) {\n\t\t\t// Reason to disable: the extra line breaks added by prettier mess with the unit tests.\n\t\t\t// eslint-disable-next-line prettier/prettier\n\t\t\toutput = `${ appendSelectors( selector ) } { ${ rules.join(\n\t\t\t\t'; '\n\t\t\t) }; }`;\n\t\t}\n\n\t\t// Output blockGap styles based on rules contained in layout definitions in theme.json.\n\t\tif ( hasBlockGapSupport && blockGapValue ) {\n\t\t\toutput += getBlockGapCSS(\n\t\t\t\tselector,\n\t\t\t\tlayoutDefinitions,\n\t\t\t\t'grid',\n\t\t\t\tblockGapValue\n\t\t\t);\n\t\t}\n\t\treturn output;\n\t},\n\tgetOrientation() {\n\t\treturn 'horizontal';\n\t},\n\tgetAlignments() {\n\t\treturn [];\n\t},\n};\n\n// Enables setting minimum width of grid items.\nfunction GridLayoutMinimumWidthControl( { layout, onChange } ) {\n\tconst { minimumColumnWidth, columnCount, isManualPlacement } = layout;\n\tconst defaultValue = isManualPlacement || columnCount ? null : '12rem';\n\tconst value = minimumColumnWidth || defaultValue;\n\tconst [ quantity, unit = 'rem' ] =\n\t\tparseQuantityAndUnitFromRawValue( value );\n\n\tconst handleSliderChange = ( next ) => {\n\t\tonChange( {\n\t\t\t...layout,\n\t\t\tminimumColumnWidth: [ next, unit ].join( '' ),\n\t\t} );\n\t};\n\n\t// Mostly copied from HeightControl.\n\tconst handleUnitChange = ( newUnit ) => {\n\t\t// Attempt to smooth over differences between currentUnit and newUnit.\n\t\t// This should slightly improve the experience of switching between unit types.\n\t\tlet newValue;\n\n\t\tif ( [ 'em', 'rem' ].includes( newUnit ) && unit === 'px' ) {\n\t\t\t// Convert pixel value to an approximate of the new unit, assuming a root size of 16px.\n\t\t\tnewValue = ( quantity / 16 ).toFixed( 2 ) + newUnit;\n\t\t} else if ( [ 'em', 'rem' ].includes( unit ) && newUnit === 'px' ) {\n\t\t\t// Convert to pixel value assuming a root size of 16px.\n\t\t\tnewValue = Math.round( quantity * 16 ) + newUnit;\n\t\t}\n\n\t\tonChange( {\n\t\t\t...layout,\n\t\t\tminimumColumnWidth: newValue,\n\t\t} );\n\t};\n\n\treturn (\n\t\t<fieldset>\n\t\t\t<BaseControl.VisualLabel as=\"legend\">\n\t\t\t\t{ __( 'Minimum column width' ) }\n\t\t\t</BaseControl.VisualLabel>\n\t\t\t<Flex gap={ 4 }>\n\t\t\t\t<FlexItem isBlock>\n\t\t\t\t\t<UnitControl\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t...layout,\n\t\t\t\t\t\t\t\tminimumColumnWidth:\n\t\t\t\t\t\t\t\t\tnewValue === '' ? undefined : newValue,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonUnitChange={ handleUnitChange }\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\tlabel={ __( 'Minimum column width' ) }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t/>\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem isBlock>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tonChange={ handleSliderChange }\n\t\t\t\t\t\tvalue={ quantity || 0 }\n\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\tmax={ RANGE_CONTROL_MAX_VALUES[ unit ] || 600 }\n\t\t\t\t\t\twithInputField={ false }\n\t\t\t\t\t\tlabel={ __( 'Minimum column width' ) }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t/>\n\t\t\t\t</FlexItem>\n\t\t\t</Flex>\n\t\t</fieldset>\n\t);\n}\n\n// Enables setting number of grid columns\nfunction GridLayoutColumnsAndRowsControl( {\n\tlayout,\n\tonChange,\n\tallowSizingOnChildren,\n} ) {\n\t// If the grid interactivity experiment is enabled, allow unsetting the column count.\n\tconst defaultColumnCount = window.__experimentalEnableGridInteractivity\n\t\t? undefined\n\t\t: 3;\n\tconst {\n\t\tcolumnCount = defaultColumnCount,\n\t\trowCount,\n\t\tisManualPlacement,\n\t} = layout;\n\n\treturn (\n\t\t<>\n\t\t\t<fieldset>\n\t\t\t\t{ ( ! window.__experimentalEnableGridInteractivity ||\n\t\t\t\t\t! isManualPlacement ) && (\n\t\t\t\t\t<BaseControl.VisualLabel as=\"legend\">\n\t\t\t\t\t\t{ __( 'Columns' ) }\n\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t) }\n\t\t\t\t<Flex gap={ 4 }>\n\t\t\t\t\t<FlexItem isBlock>\n\t\t\t\t\t\t<NumberControl\n\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\twindow.__experimentalEnableGridInteractivity\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t// Allow unsetting the column count when in auto mode.\n\t\t\t\t\t\t\t\t\tconst defaultNewColumnCount =\n\t\t\t\t\t\t\t\t\t\tisManualPlacement ? 1 : undefined;\n\t\t\t\t\t\t\t\t\tconst newColumnCount =\n\t\t\t\t\t\t\t\t\t\tvalue === '' || value === '0'\n\t\t\t\t\t\t\t\t\t\t\t? defaultNewColumnCount\n\t\t\t\t\t\t\t\t\t\t\t: parseInt( value, 10 );\n\t\t\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t\t\t...layout,\n\t\t\t\t\t\t\t\t\t\tcolumnCount: newColumnCount,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// Don't allow unsetting the column count.\n\t\t\t\t\t\t\t\t\tconst newColumnCount =\n\t\t\t\t\t\t\t\t\t\tvalue === '' || value === '0'\n\t\t\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t\t\t: parseInt( value, 10 );\n\t\t\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t\t\t...layout,\n\t\t\t\t\t\t\t\t\t\tcolumnCount: newColumnCount,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tvalue={ columnCount }\n\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\thideLabelFromVision={\n\t\t\t\t\t\t\t\t! window.__experimentalEnableGridInteractivity ||\n\t\t\t\t\t\t\t\t! isManualPlacement\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FlexItem>\n\n\t\t\t\t\t<FlexItem isBlock>\n\t\t\t\t\t\t{ window.__experimentalEnableGridInteractivity &&\n\t\t\t\t\t\tallowSizingOnChildren &&\n\t\t\t\t\t\tisManualPlacement ? (\n\t\t\t\t\t\t\t<NumberControl\n\t\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\t\t// Don't allow unsetting the row count.\n\t\t\t\t\t\t\t\t\tconst newRowCount =\n\t\t\t\t\t\t\t\t\t\tvalue === '' || value === '0'\n\t\t\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t\t\t: parseInt( value, 10 );\n\t\t\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t\t\t...layout,\n\t\t\t\t\t\t\t\t\t\trowCount: newRowCount,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tvalue={ rowCount }\n\t\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\t\tlabel={ __( 'Rows' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tvalue={ columnCount ?? 1 }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t\t\t...layout,\n\t\t\t\t\t\t\t\t\t\tcolumnCount:\n\t\t\t\t\t\t\t\t\t\t\tvalue === '' || value === '0'\n\t\t\t\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t\t\t\t: value,\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\t\tmax={ 16 }\n\t\t\t\t\t\t\t\twithInputField={ false }\n\t\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t</fieldset>\n\t\t</>\n\t);\n}\n\n// Enables switching between grid types\nfunction GridLayoutTypeControl( { layout, onChange } ) {\n\tconst { columnCount, rowCount, minimumColumnWidth, isManualPlacement } =\n\t\tlayout;\n\n\t/**\n\t * When switching, temporarily save any custom values set on the\n\t * previous type so we can switch back without loss.\n\t */\n\tconst [ tempColumnCount, setTempColumnCount ] = useState(\n\t\tcolumnCount || 3\n\t);\n\tconst [ tempRowCount, setTempRowCount ] = useState( rowCount );\n\tconst [ tempMinimumColumnWidth, setTempMinimumColumnWidth ] = useState(\n\t\tminimumColumnWidth || '12rem'\n\t);\n\n\tconst gridPlacement =\n\t\tisManualPlacement ||\n\t\t( !! columnCount && ! window.__experimentalEnableGridInteractivity )\n\t\t\t? 'manual'\n\t\t\t: 'auto';\n\n\tconst onChangeType = ( value ) => {\n\t\tif ( value === 'manual' ) {\n\t\t\tsetTempMinimumColumnWidth( minimumColumnWidth || '12rem' );\n\t\t} else {\n\t\t\tsetTempColumnCount( columnCount || 3 );\n\t\t\tsetTempRowCount( rowCount );\n\t\t}\n\t\tonChange( {\n\t\t\t...layout,\n\t\t\tcolumnCount: value === 'manual' ? tempColumnCount : null,\n\t\t\trowCount:\n\t\t\t\tvalue === 'manual' &&\n\t\t\t\twindow.__experimentalEnableGridInteractivity\n\t\t\t\t\t? tempRowCount\n\t\t\t\t\t: undefined,\n\t\t\tisManualPlacement:\n\t\t\t\tvalue === 'manual' &&\n\t\t\t\twindow.__experimentalEnableGridInteractivity\n\t\t\t\t\t? true\n\t\t\t\t\t: undefined,\n\t\t\tminimumColumnWidth:\n\t\t\t\tvalue === 'auto' ? tempMinimumColumnWidth : null,\n\t\t} );\n\t};\n\n\tconst helpText =\n\t\tgridPlacement === 'manual'\n\t\t\t? __(\n\t\t\t\t\t'Grid items can be manually placed in any position on the grid.'\n\t\t\t  )\n\t\t\t: __(\n\t\t\t\t\t'Grid items are placed automatically depending on their order.'\n\t\t\t  );\n\n\treturn (\n\t\t<ToggleGroupControl\n\t\t\t__next40pxDefaultSize\n\t\t\t__nextHasNoMarginBottom\n\t\t\tlabel={ __( 'Grid item position' ) }\n\t\t\tvalue={ gridPlacement }\n\t\t\tonChange={ onChangeType }\n\t\t\tisBlock\n\t\t\thelp={\n\t\t\t\twindow.__experimentalEnableGridInteractivity\n\t\t\t\t\t? helpText\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t>\n\t\t\t<ToggleGroupControlOption\n\t\t\t\tkey=\"auto\"\n\t\t\t\tvalue=\"auto\"\n\t\t\t\tlabel={ __( 'Auto' ) }\n\t\t\t/>\n\t\t\t<ToggleGroupControlOption\n\t\t\t\tkey=\"manual\"\n\t\t\t\tvalue=\"manual\"\n\t\t\t\tlabel={ __( 'Manual' ) }\n\t\t\t/>\n\t\t</ToggleGroupControl>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}