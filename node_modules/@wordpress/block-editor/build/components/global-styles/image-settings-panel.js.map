{"version":3,"names":["_components","require","_i18n","_utils","_jsxRuntime","useHasImageSettingsPanel","name","value","inheritedValue","lightbox","allowEditing","ImageSettingsPanel","onChange","panelId","dropdownMenuProps","useToolsPanelDropdownMenuProps","resetLightbox","undefined","onChangeLightbox","newSetting","enabled","lightboxChecked","jsx","Fragment","children","__experimentalToolsPanel","label","_x","resetAll","__experimentalToolsPanelItem","hasValue","__","onDeselect","isShownByDefault","ToggleControl","__nextHasNoMarginBottom","checked"],"sources":["@wordpress/block-editor/src/components/global-styles/image-settings-panel.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\tToggleControl,\n} from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useToolsPanelDropdownMenuProps } from './utils';\n\nexport function useHasImageSettingsPanel( name, value, inheritedValue ) {\n\t// Note: If lightbox `value` exists, that means it was\n\t// defined via the the Global Styles UI and will NOT\n\t// be a boolean value or contain the `allowEditing` property,\n\t// so we should show the settings panel in those cases.\n\treturn (\n\t\t( name === 'core/image' && inheritedValue?.lightbox?.allowEditing ) ||\n\t\t!! value?.lightbox\n\t);\n}\n\nexport default function ImageSettingsPanel( {\n\tonChange,\n\tvalue,\n\tinheritedValue,\n\tpanelId,\n} ) {\n\tconst dropdownMenuProps = useToolsPanelDropdownMenuProps();\n\tconst resetLightbox = () => {\n\t\tonChange( undefined );\n\t};\n\n\tconst onChangeLightbox = ( newSetting ) => {\n\t\tonChange( {\n\t\t\tenabled: newSetting,\n\t\t} );\n\t};\n\n\tlet lightboxChecked = false;\n\n\tif ( inheritedValue?.lightbox?.enabled ) {\n\t\tlightboxChecked = inheritedValue.lightbox.enabled;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ToolsPanel\n\t\t\t\tlabel={ _x( 'Settings', 'Image settings' ) }\n\t\t\t\tresetAll={ resetLightbox }\n\t\t\t\tpanelId={ panelId }\n\t\t\t\tdropdownMenuProps={ dropdownMenuProps }\n\t\t\t>\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t// We use the `userSettings` prop instead of `settings`, because `settings`\n\t\t\t\t\t// contains the core/theme values for the lightbox and we want to show the\n\t\t\t\t\t// \"RESET\" button ONLY when the user has explicitly set a value in the\n\t\t\t\t\t// Global Styles.\n\t\t\t\t\thasValue={ () => !! value?.lightbox }\n\t\t\t\t\tlabel={ __( 'Enlarge on click' ) }\n\t\t\t\t\tonDeselect={ resetLightbox }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t\tpanelId={ panelId }\n\t\t\t\t>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Enlarge on click' ) }\n\t\t\t\t\t\tchecked={ lightboxChecked }\n\t\t\t\t\t\tonChange={ onChangeLightbox }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t</ToolsPanel>\n\t\t</>\n\t);\n}\n"],"mappings":";;;;;;;AAGA,IAAAA,WAAA,GAAAC,OAAA;AAKA,IAAAC,KAAA,GAAAD,OAAA;AAKA,IAAAE,MAAA,GAAAF,OAAA;AAAyD,IAAAG,WAAA,GAAAH,OAAA;AAbzD;AACA;AACA;;AAQA;AACA;AACA;;AAGO,SAASI,wBAAwBA,CAAEC,IAAI,EAAEC,KAAK,EAAEC,cAAc,EAAG;EACvE;EACA;EACA;EACA;EACA,OACGF,IAAI,KAAK,YAAY,IAAIE,cAAc,EAAEC,QAAQ,EAAEC,YAAY,IACjE,CAAC,CAAEH,KAAK,EAAEE,QAAQ;AAEpB;AAEe,SAASE,kBAAkBA,CAAE;EAC3CC,QAAQ;EACRL,KAAK;EACLC,cAAc;EACdK;AACD,CAAC,EAAG;EACH,MAAMC,iBAAiB,GAAG,IAAAC,qCAA8B,EAAC,CAAC;EAC1D,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC3BJ,QAAQ,CAAEK,SAAU,CAAC;EACtB,CAAC;EAED,MAAMC,gBAAgB,GAAKC,UAAU,IAAM;IAC1CP,QAAQ,CAAE;MACTQ,OAAO,EAAED;IACV,CAAE,CAAC;EACJ,CAAC;EAED,IAAIE,eAAe,GAAG,KAAK;EAE3B,IAAKb,cAAc,EAAEC,QAAQ,EAAEW,OAAO,EAAG;IACxCC,eAAe,GAAGb,cAAc,CAACC,QAAQ,CAACW,OAAO;EAClD;EAEA,oBACC,IAAAhB,WAAA,CAAAkB,GAAA,EAAAlB,WAAA,CAAAmB,QAAA;IAAAC,QAAA,eACC,IAAApB,WAAA,CAAAkB,GAAA,EAACtB,WAAA,CAAAyB,wBAAU;MACVC,KAAK,EAAG,IAAAC,QAAE,EAAE,UAAU,EAAE,gBAAiB,CAAG;MAC5CC,QAAQ,EAAGZ,aAAe;MAC1BH,OAAO,EAAGA,OAAS;MACnBC,iBAAiB,EAAGA,iBAAmB;MAAAU,QAAA,eAEvC,IAAApB,WAAA,CAAAkB,GAAA,EAACtB,WAAA,CAAA6B;MACA;MACA;MACA;MACA;MAAA;QACAC,QAAQ,EAAGA,CAAA,KAAM,CAAC,CAAEvB,KAAK,EAAEE,QAAU;QACrCiB,KAAK,EAAG,IAAAK,QAAE,EAAE,kBAAmB,CAAG;QAClCC,UAAU,EAAGhB,aAAe;QAC5BiB,gBAAgB;QAChBpB,OAAO,EAAGA,OAAS;QAAAW,QAAA,eAEnB,IAAApB,WAAA,CAAAkB,GAAA,EAACtB,WAAA,CAAAkC,aAAa;UACbC,uBAAuB;UACvBT,KAAK,EAAG,IAAAK,QAAE,EAAE,kBAAmB,CAAG;UAClCK,OAAO,EAAGf,eAAiB;UAC3BT,QAAQ,EAAGM;QAAkB,CAC7B;MAAC,CACa;IAAC,CACN;EAAC,CACZ,CAAC;AAEL","ignoreList":[]}