{"version":3,"names":["_native","require","_reactNative","_i18n","_icons","_compose","_components","_styleNative","_interopRequireDefault","_blockSettings","_jsxRuntime","LINK_DESTINATION_NONE","LINK_DESTINATION_MEDIA","LINK_DESTINATION_ATTACHMENT","LINK_DESTINATION_CUSTOM","LinkDestination","children","isSelected","label","onPress","value","valueStyle","optionIcon","usePreferredColorSchemeStyle","styles","optionIconDark","jsx","BottomSheet","Cell","icon","check","iconStyle","StyleSheet","flatten","unselectedOptionIcon","leftAlign","separatorType","ImageLinkDestinationsScreen","props","navigation","useNavigation","route","useRoute","url","inputValue","imageUrl","attachmentPageUrl","linkDestination","params","goToLinkPicker","navigate","blockSettingsScreens","linkPicker","setLinkDestination","newLinkDestination","newUrl","settings","text","jsxs","Fragment","NavBar","BackButton","goBack","Heading","__","PanelBody","undefined","placeholderTextColor","Icon","chevronRight","_default","exports","default"],"sources":["@wordpress/block-editor/src/components/image-link-destinations/index.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { StyleSheet } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Icon, check, chevronRight } from '@wordpress/icons';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { BottomSheet, PanelBody } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.native.scss';\nimport { blockSettingsScreens } from '../block-settings';\n\nconst LINK_DESTINATION_NONE = 'none';\nconst LINK_DESTINATION_MEDIA = 'media';\nconst LINK_DESTINATION_ATTACHMENT = 'attachment';\nconst LINK_DESTINATION_CUSTOM = 'custom';\n\nfunction LinkDestination( {\n\tchildren,\n\tisSelected,\n\tlabel,\n\tonPress,\n\tvalue,\n\tvalueStyle,\n} ) {\n\tconst optionIcon = usePreferredColorSchemeStyle(\n\t\tstyles.optionIcon,\n\t\tstyles.optionIconDark\n\t);\n\n\treturn (\n\t\t<BottomSheet.Cell\n\t\t\ticon={ check }\n\t\t\ticonStyle={ StyleSheet.flatten( [\n\t\t\t\toptionIcon,\n\t\t\t\t! isSelected && styles.unselectedOptionIcon,\n\t\t\t] ) }\n\t\t\tlabel={ label }\n\t\t\tleftAlign\n\t\t\tonPress={ onPress }\n\t\t\tvalue={ value }\n\t\t\tvalueStyle={ valueStyle }\n\t\t\tseparatorType=\"leftMargin\"\n\t\t>\n\t\t\t{ children }\n\t\t</BottomSheet.Cell>\n\t);\n}\n\nfunction ImageLinkDestinationsScreen( props ) {\n\tconst navigation = useNavigation();\n\tconst route = useRoute();\n\tconst { url = '' } = props;\n\tconst {\n\t\tinputValue = url,\n\t\timageUrl,\n\t\tattachmentPageUrl,\n\t\tlinkDestination,\n\t} = route.params || {};\n\n\tfunction goToLinkPicker() {\n\t\tnavigation.navigate( blockSettingsScreens.linkPicker, {\n\t\t\tinputValue:\n\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM ? inputValue : '',\n\t\t} );\n\t}\n\n\tconst setLinkDestination = ( newLinkDestination ) => () => {\n\t\tlet newUrl;\n\t\tswitch ( newLinkDestination ) {\n\t\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\t\tnewUrl = imageUrl;\n\t\t\t\tbreak;\n\t\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\t\tnewUrl = attachmentPageUrl;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tnewUrl = '';\n\t\t\t\tbreak;\n\t\t}\n\n\t\tnavigation.navigate( blockSettingsScreens.settings, {\n\t\t\t// The `inputValue` name is reused from LinkPicker, as it helps avoid\n\t\t\t// bugs from stale values remaining in the React Navigation route\n\t\t\t// parameters.\n\t\t\tinputValue: newUrl,\n\t\t\t// Clear link text value that may be set from LinkPicker.\n\t\t\ttext: '',\n\t\t} );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<BottomSheet.NavBar>\n\t\t\t\t<BottomSheet.NavBar.BackButton onPress={ navigation.goBack } />\n\t\t\t\t<BottomSheet.NavBar.Heading>\n\t\t\t\t\t{ __( 'Link To' ) }\n\t\t\t\t</BottomSheet.NavBar.Heading>\n\t\t\t</BottomSheet.NavBar>\n\t\t\t<PanelBody>\n\t\t\t\t<LinkDestination\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_NONE }\n\t\t\t\t\tlabel={ __( 'None' ) }\n\t\t\t\t\tonPress={ setLinkDestination( LINK_DESTINATION_NONE ) }\n\t\t\t\t/>\n\t\t\t\t<LinkDestination\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_MEDIA }\n\t\t\t\t\tlabel={ __( 'Media File' ) }\n\t\t\t\t\tonPress={ setLinkDestination( LINK_DESTINATION_MEDIA ) }\n\t\t\t\t/>\n\t\t\t\t{ !! attachmentPageUrl && (\n\t\t\t\t\t<LinkDestination\n\t\t\t\t\t\tisSelected={\n\t\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_ATTACHMENT\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel={ __( 'Attachment Page' ) }\n\t\t\t\t\t\tonPress={ setLinkDestination(\n\t\t\t\t\t\t\tLINK_DESTINATION_ATTACHMENT\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<LinkDestination\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_CUSTOM }\n\t\t\t\t\tlabel={ __( 'Custom URL' ) }\n\t\t\t\t\tonPress={ goToLinkPicker }\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM\n\t\t\t\t\t\t\t? inputValue\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n\t\t\t\t\tvalueStyle={\n\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM\n\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t: styles.placeholderTextColor\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<Icon icon={ chevronRight }></Icon>\n\t\t\t\t</LinkDestination>\n\t\t\t</PanelBody>\n\t\t</>\n\t);\n}\n\nexport default ImageLinkDestinationsScreen;\n"],"mappings":"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","ignoreList":[]}