{"version":3,"names":["_components","require","_i18n","_data","_element","_useStylesForBlock","_interopRequireDefault","_utils","_store","_globalStyles","_privateKeys","_blockStyleVariation","_jsxRuntime","styleIcon","jsxs","SVG","viewBox","xmlns","width","height","focusable","children","jsx","Path","d","stroke","strokeWidth","SwitchSectionStyle","clientId","_mergedConfig$setting","_mergedConfig$styles","stylesToRender","activeStyle","className","useStylesForBlocks","updateBlockAttributes","useDispatch","blockEditorStore","merged","mergedConfig","useContext","GlobalStylesContext","globalSettings","globalStyles","blockName","useSelect","select","settings","getSettings","__experimentalFeatures","globalStylesDataKey","getBlockName","activeStyleBackground","name","getVariationStylesWithRefValues","styles","color","background","undefined","length","handleStyleSwitch","currentIndex","findIndex","style","nextIndex","nextStyle","styleClassName","replaceActiveStyle","ToolbarGroup","ToolbarButton","onClick","label","__","Icon","icon","fill","_default","exports","default"],"sources":["@wordpress/block-editor/src/components/block-toolbar/switch-section-style.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tToolbarButton,\n\tToolbarGroup,\n\tIcon,\n\tPath,\n\tSVG,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useStylesForBlocks from '../block-styles/use-styles-for-block';\nimport { replaceActiveStyle } from '../block-styles/utils';\nimport { store as blockEditorStore } from '../../store';\nimport { GlobalStylesContext } from '../global-styles';\nimport { globalStylesDataKey } from '../../store/private-keys';\nimport { getVariationStylesWithRefValues } from '../../hooks/block-style-variation';\n\nconst styleIcon = (\n\t<SVG\n\t\tviewBox=\"0 0 24 24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\taria-hidden=\"true\"\n\t\tfocusable=\"false\"\n\t>\n\t\t<Path d=\"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3z\" />\n\t\t<Path\n\t\t\tstroke=\"currentColor\"\n\t\t\tstrokeWidth=\"1.5\"\n\t\t\td=\"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3z\"\n\t\t/>\n\t</SVG>\n);\n\nfunction SwitchSectionStyle( { clientId } ) {\n\tconst { stylesToRender, activeStyle, className } = useStylesForBlocks( {\n\t\tclientId,\n\t} );\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\n\n\t// Get global styles data\n\tconst { merged: mergedConfig } = useContext( GlobalStylesContext );\n\tconst { globalSettings, globalStyles, blockName } = useSelect(\n\t\t( select ) => {\n\t\t\tconst settings = select( blockEditorStore ).getSettings();\n\t\t\treturn {\n\t\t\t\tglobalSettings: settings.__experimentalFeatures,\n\t\t\t\tglobalStyles: settings[ globalStylesDataKey ],\n\t\t\t\tblockName: select( blockEditorStore ).getBlockName( clientId ),\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\t// Get the background color for the active style\n\tconst activeStyleBackground = activeStyle?.name\n\t\t? getVariationStylesWithRefValues(\n\t\t\t\t{\n\t\t\t\t\tsettings: mergedConfig?.settings ?? globalSettings,\n\t\t\t\t\tstyles: mergedConfig?.styles ?? globalStyles,\n\t\t\t\t},\n\t\t\t\tblockName,\n\t\t\t\tactiveStyle.name\n\t\t  )?.color?.background\n\t\t: undefined;\n\n\tif ( ! stylesToRender || stylesToRender.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst handleStyleSwitch = () => {\n\t\tconst currentIndex = stylesToRender.findIndex(\n\t\t\t( style ) => style.name === activeStyle.name\n\t\t);\n\n\t\tconst nextIndex = ( currentIndex + 1 ) % stylesToRender.length;\n\t\tconst nextStyle = stylesToRender[ nextIndex ];\n\n\t\tconst styleClassName = replaceActiveStyle(\n\t\t\tclassName,\n\t\t\tactiveStyle,\n\t\t\tnextStyle\n\t\t);\n\n\t\tupdateBlockAttributes( clientId, {\n\t\t\tclassName: styleClassName,\n\t\t} );\n\t};\n\n\treturn (\n\t\t<ToolbarGroup>\n\t\t\t<ToolbarButton\n\t\t\t\tonClick={ handleStyleSwitch }\n\t\t\t\tlabel={ __( 'Shuffle styles' ) }\n\t\t\t>\n\t\t\t\t<Icon\n\t\t\t\t\ticon={ styleIcon }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\tfill: activeStyleBackground || 'transparent',\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</ToolbarButton>\n\t\t</ToolbarGroup>\n\t);\n}\n\nexport default SwitchSectionStyle;\n"],"mappings":"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","ignoreList":[]}