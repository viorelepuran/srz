{"version":3,"names":["_element","require","_compose","_components","_checklist","_interopRequireDefault","_jsxRuntime","BlockManagerCategory","title","blockTypes","selectedBlockTypes","onChange","instanceId","useInstanceId","toggleVisible","useCallback","blockType","nextIsChecked","filter","name","toggleAllVisible","find","selectedBlockType","length","checkedBlockNames","map","type","some","titleId","isAllChecked","isIndeterminate","jsxs","role","className","children","jsx","CheckboxControl","__nextHasNoMarginBottom","checked","indeterminate","label","id","default","value","onItemChange","_default","exports"],"sources":["@wordpress/block-editor/src/components/block-manager/category.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useCallback } from '@wordpress/element';\nimport { useInstanceId } from '@wordpress/compose';\nimport { CheckboxControl } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport BlockTypesChecklist from './checklist';\n\nfunction BlockManagerCategory( {\n\ttitle,\n\tblockTypes,\n\tselectedBlockTypes,\n\tonChange,\n} ) {\n\tconst instanceId = useInstanceId( BlockManagerCategory );\n\n\tconst toggleVisible = useCallback(\n\t\t( blockType, nextIsChecked ) => {\n\t\t\tif ( nextIsChecked ) {\n\t\t\t\tonChange( [ ...selectedBlockTypes, blockType ] );\n\t\t\t} else {\n\t\t\t\tonChange(\n\t\t\t\t\tselectedBlockTypes.filter(\n\t\t\t\t\t\t( { name } ) => name !== blockType.name\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[ selectedBlockTypes, onChange ]\n\t);\n\n\tconst toggleAllVisible = useCallback(\n\t\t( nextIsChecked ) => {\n\t\t\tif ( nextIsChecked ) {\n\t\t\t\tonChange( [\n\t\t\t\t\t...selectedBlockTypes,\n\t\t\t\t\t...blockTypes.filter(\n\t\t\t\t\t\t( blockType ) =>\n\t\t\t\t\t\t\t! selectedBlockTypes.find(\n\t\t\t\t\t\t\t\t( { name } ) => name === blockType.name\n\t\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t] );\n\t\t\t} else {\n\t\t\t\tonChange(\n\t\t\t\t\tselectedBlockTypes.filter(\n\t\t\t\t\t\t( selectedBlockType ) =>\n\t\t\t\t\t\t\t! blockTypes.find(\n\t\t\t\t\t\t\t\t( { name } ) => name === selectedBlockType.name\n\t\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[ blockTypes, selectedBlockTypes, onChange ]\n\t);\n\n\tif ( ! blockTypes.length ) {\n\t\treturn null;\n\t}\n\n\tconst checkedBlockNames = blockTypes\n\t\t.map( ( { name } ) => name )\n\t\t.filter( ( type ) =>\n\t\t\t( selectedBlockTypes ?? [] ).some(\n\t\t\t\t( selectedBlockType ) => selectedBlockType.name === type\n\t\t\t)\n\t\t);\n\n\tconst titleId = 'block-editor-block-manager__category-title-' + instanceId;\n\n\tconst isAllChecked = checkedBlockNames.length === blockTypes.length;\n\tconst isIndeterminate = ! isAllChecked && checkedBlockNames.length > 0;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"group\"\n\t\t\taria-labelledby={ titleId }\n\t\t\tclassName=\"block-editor-block-manager__category\"\n\t\t>\n\t\t\t<CheckboxControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tchecked={ isAllChecked }\n\t\t\t\tonChange={ toggleAllVisible }\n\t\t\t\tclassName=\"block-editor-block-manager__category-title\"\n\t\t\t\tindeterminate={ isIndeterminate }\n\t\t\t\tlabel={ <span id={ titleId }>{ title }</span> }\n\t\t\t/>\n\t\t\t<BlockTypesChecklist\n\t\t\t\tblockTypes={ blockTypes }\n\t\t\t\tvalue={ checkedBlockNames }\n\t\t\t\tonItemChange={ toggleVisible }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default BlockManagerCategory;\n"],"mappings":"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","ignoreList":[]}