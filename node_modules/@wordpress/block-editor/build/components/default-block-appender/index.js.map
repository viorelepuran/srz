{"version":3,"names":["_clsx","_interopRequireDefault","require","_i18n","_htmlEntities","_data","_keycodes","_inserter","_store","_jsxRuntime","ZWNBSP","exports","DefaultBlockAppender","rootClientId","showPrompt","isLocked","placeholder","isManualGrid","useSelect","select","getBlockCount","getSettings","getTemplateLock","getBlockAttributes","blockEditorStore","isEmpty","bodyPlaceholder","layout","isManualPlacement","insertDefaultBlock","startTyping","useDispatch","value","decodeEntities","__","onAppend","undefined","jsxs","className","clsx","children","jsx","tabIndex","role","onKeyDown","event","ENTER","keyCode","SPACE","onClick","onFocus","default","position","isAppender","__experimentalIsQuick"],"sources":["@wordpress/block-editor/src/components/default-block-appender/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { ENTER, SPACE } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport Inserter from '../inserter';\nimport { store as blockEditorStore } from '../../store';\n\n/**\n * Zero width non-breaking space, used as padding for the paragraph when it is\n * empty.\n */\nexport const ZWNBSP = '\\ufeff';\n\nexport default function DefaultBlockAppender( { rootClientId } ) {\n\tconst { showPrompt, isLocked, placeholder, isManualGrid } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockCount,\n\t\t\t\tgetSettings,\n\t\t\t\tgetTemplateLock,\n\t\t\t\tgetBlockAttributes,\n\t\t\t} = select( blockEditorStore );\n\n\t\t\tconst isEmpty = ! getBlockCount( rootClientId );\n\t\t\tconst { bodyPlaceholder } = getSettings();\n\n\t\t\treturn {\n\t\t\t\tshowPrompt: isEmpty,\n\t\t\t\tisLocked: !! getTemplateLock( rootClientId ),\n\t\t\t\tplaceholder: bodyPlaceholder,\n\t\t\t\tisManualGrid:\n\t\t\t\t\tgetBlockAttributes( rootClientId )?.layout\n\t\t\t\t\t\t?.isManualPlacement,\n\t\t\t};\n\t\t},\n\t\t[ rootClientId ]\n\t);\n\n\tconst { insertDefaultBlock, startTyping } = useDispatch( blockEditorStore );\n\n\tif ( isLocked || isManualGrid ) {\n\t\treturn null;\n\t}\n\n\tconst value =\n\t\tdecodeEntities( placeholder ) || __( 'Type / to choose a block' );\n\n\tconst onAppend = () => {\n\t\tinsertDefaultBlock( undefined, rootClientId );\n\t\tstartTyping();\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tdata-root-client-id={ rootClientId || '' }\n\t\t\tclassName={ clsx( 'block-editor-default-block-appender', {\n\t\t\t\t'has-visible-prompt': showPrompt,\n\t\t\t} ) }\n\t\t>\n\t\t\t<p\n\t\t\t\ttabIndex=\"0\"\n\t\t\t\t// We want this element to be styled as a paragraph by themes.\n\t\t\t\t// eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n\t\t\t\trole=\"button\"\n\t\t\t\taria-label={ __( 'Add default block' ) }\n\t\t\t\t// A wrapping container for this one already has the wp-block className.\n\t\t\t\tclassName=\"block-editor-default-block-appender__content\"\n\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\tif ( ENTER === event.keyCode || SPACE === event.keyCode ) {\n\t\t\t\t\t\tonAppend();\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\tonClick={ () => onAppend() }\n\t\t\t\tonFocus={ () => {\n\t\t\t\t\tif ( showPrompt ) {\n\t\t\t\t\t\tonAppend();\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ showPrompt ? value : ZWNBSP }\n\t\t\t</p>\n\t\t\t<Inserter\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\tposition=\"bottom right\"\n\t\t\t\tisAppender\n\t\t\t\t__experimentalIsQuick\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}