{"version":3,"names":["_reactNative","require","_element","_data","_blockListContext","_store","_jsxRuntime","BlockListItemCell","children","item","clientId","onLayout","blocksLayouts","updateBlocksLayouts","useBlockListContext","rootClientId","useSelect","select","getBlockRootClientId","blockEditorStore","useEffect","shouldRemove","onCellLayout","useCallback","event","nativeEvent","layout","jsx","View","testID","_default","exports","default"],"sources":["@wordpress/block-editor/src/components/block-list/block-list-item-cell.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { View } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useCallback } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { useBlockListContext } from './block-list-context';\nimport { store as blockEditorStore } from '../../store';\n\nfunction BlockListItemCell( { children, item: clientId, onLayout } ) {\n\tconst { blocksLayouts, updateBlocksLayouts } = useBlockListContext();\n\tconst { rootClientId } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockRootClientId } = select( blockEditorStore );\n\t\t\treturn { rootClientId: getBlockRootClientId( clientId ) };\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\tupdateBlocksLayouts( blocksLayouts, {\n\t\t\t\tclientId,\n\t\t\t\tshouldRemove: true,\n\t\t\t} );\n\t\t};\n\t}, [] );\n\n\tconst onCellLayout = useCallback(\n\t\t( event ) => {\n\t\t\tconst {\n\t\t\t\tnativeEvent: { layout },\n\t\t\t} = event;\n\t\t\tupdateBlocksLayouts( blocksLayouts, {\n\t\t\t\tclientId,\n\t\t\t\trootClientId,\n\t\t\t\t...layout,\n\t\t\t} );\n\n\t\t\tif ( onLayout ) {\n\t\t\t\tonLayout( event );\n\t\t\t}\n\t\t},\n\t\t[ clientId, rootClientId, updateBlocksLayouts, onLayout ]\n\t);\n\n\treturn (\n\t\t<View testID=\"block-list-item-cell\" onLayout={ onCellLayout }>\n\t\t\t{ children }\n\t\t</View>\n\t);\n}\n\nexport default BlockListItemCell;\n"],"mappings":";;;;;;AAGA,IAAAA,YAAA,GAAAC,OAAA;AAKA,IAAAC,QAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AAKA,IAAAG,iBAAA,GAAAH,OAAA;AACA,IAAAI,MAAA,GAAAJ,OAAA;AAAwD,IAAAK,WAAA,GAAAL,OAAA;AAfxD;AACA;AACA;;AAGA;AACA;AACA;;AAIA;AACA;AACA;;AAIA,SAASM,iBAAiBA,CAAE;EAAEC,QAAQ;EAAEC,IAAI,EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAG;EACpE,MAAM;IAAEC,aAAa;IAAEC;EAAoB,CAAC,GAAG,IAAAC,qCAAmB,EAAC,CAAC;EACpE,MAAM;IAAEC;EAAa,CAAC,GAAG,IAAAC,eAAS,EAC/BC,MAAM,IAAM;IACb,MAAM;MAAEC;IAAqB,CAAC,GAAGD,MAAM,CAAEE,YAAiB,CAAC;IAC3D,OAAO;MAAEJ,YAAY,EAAEG,oBAAoB,CAAER,QAAS;IAAE,CAAC;EAC1D,CAAC,EACD,CAAEA,QAAQ,CACX,CAAC;EAED,IAAAU,kBAAS,EAAE,MAAM;IAChB,OAAO,MAAM;MACZP,mBAAmB,CAAED,aAAa,EAAE;QACnCF,QAAQ;QACRW,YAAY,EAAE;MACf,CAAE,CAAC;IACJ,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEP,MAAMC,YAAY,GAAG,IAAAC,oBAAW,EAC7BC,KAAK,IAAM;IACZ,MAAM;MACLC,WAAW,EAAE;QAAEC;MAAO;IACvB,CAAC,GAAGF,KAAK;IACTX,mBAAmB,CAAED,aAAa,EAAE;MACnCF,QAAQ;MACRK,YAAY;MACZ,GAAGW;IACJ,CAAE,CAAC;IAEH,IAAKf,QAAQ,EAAG;MACfA,QAAQ,CAAEa,KAAM,CAAC;IAClB;EACD,CAAC,EACD,CAAEd,QAAQ,EAAEK,YAAY,EAAEF,mBAAmB,EAAEF,QAAQ,CACxD,CAAC;EAED,oBACC,IAAAL,WAAA,CAAAqB,GAAA,EAAC3B,YAAA,CAAA4B,IAAI;IAACC,MAAM,EAAC,sBAAsB;IAAClB,QAAQ,EAAGW,YAAc;IAAAd,QAAA,EAC1DA;EAAQ,CACL,CAAC;AAET;AAAC,IAAAsB,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEczB,iBAAiB","ignoreList":[]}