{"version":3,"names":["_components","require","_i18n","_icons","_element","_utils","_jsxRuntime","getShouldDisableSyncFilter","sourceFilter","getShouldHideSourcesFilter","category","name","myPatternsCategory","PATTERN_SOURCE_MENU_OPTIONS","value","label","_x","INSERTER_PATTERN_TYPES","directory","__","theme","user","PatternsFilter","setPatternSyncFilter","setPatternSourceFilter","patternSyncFilter","patternSourceFilter","scrollContainerRef","currentPatternSourceFilter","shouldDisableSyncFilter","shouldHideSourcesFilter","patternSyncMenuOptions","useMemo","INSERTER_SYNC_TYPES","full","disabled","unsynced","handleSetSourceFilterChange","newSourceFilter","jsx","Fragment","children","DropdownMenu","popoverProps","placement","toggleProps","size","icon","Icon","SVG","width","height","viewBox","fill","xmlns","Path","d","jsxs","MenuGroup","MenuItemsChoice","choices","onSelect","current","scrollTo","className","createInterpolateElement","Link","ExternalLink","href"],"sources":["@wordpress/block-editor/src/components/inserter/block-patterns-tab/patterns-filter.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tSVG,\n\tPath,\n\tDropdownMenu,\n\tMenuGroup,\n\tMenuItemsChoice,\n\tExternalLink,\n} from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { Icon } from '@wordpress/icons';\nimport { useMemo, createInterpolateElement } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport {\n\tmyPatternsCategory,\n\tINSERTER_SYNC_TYPES,\n\tINSERTER_PATTERN_TYPES,\n} from './utils';\n\nconst getShouldDisableSyncFilter = ( sourceFilter ) =>\n\tsourceFilter !== 'all' && sourceFilter !== 'user';\nconst getShouldHideSourcesFilter = ( category ) => {\n\treturn category.name === myPatternsCategory.name;\n};\n\nconst PATTERN_SOURCE_MENU_OPTIONS = [\n\t{\n\t\tvalue: 'all',\n\t\tlabel: _x( 'All', 'patterns' ),\n\t},\n\t{\n\t\tvalue: INSERTER_PATTERN_TYPES.directory,\n\t\tlabel: __( 'Pattern Directory' ),\n\t},\n\t{\n\t\tvalue: INSERTER_PATTERN_TYPES.theme,\n\t\tlabel: __( 'Theme & Plugins' ),\n\t},\n\t{\n\t\tvalue: INSERTER_PATTERN_TYPES.user,\n\t\tlabel: __( 'User' ),\n\t},\n];\n\nexport function PatternsFilter( {\n\tsetPatternSyncFilter,\n\tsetPatternSourceFilter,\n\tpatternSyncFilter,\n\tpatternSourceFilter,\n\tscrollContainerRef,\n\tcategory,\n} ) {\n\t// If the category is `myPatterns` then we need to set the source filter to `user`, but\n\t// we do this by deriving from props rather than calling setPatternSourceFilter otherwise\n\t// the user may be confused when switching to another category if the haven't explicitly set\n\t// this filter themselves.\n\tconst currentPatternSourceFilter =\n\t\tcategory.name === myPatternsCategory.name\n\t\t\t? INSERTER_PATTERN_TYPES.user\n\t\t\t: patternSourceFilter;\n\n\t// We need to disable the sync filter option if the source filter is not 'all' or 'user'\n\t// otherwise applying them will just result in no patterns being shown.\n\tconst shouldDisableSyncFilter = getShouldDisableSyncFilter(\n\t\tcurrentPatternSourceFilter\n\t);\n\n\t// We also hide the directory and theme source filter if the category is `myPatterns`\n\t// otherwise there will only be one option available.\n\tconst shouldHideSourcesFilter = getShouldHideSourcesFilter( category );\n\n\tconst patternSyncMenuOptions = useMemo(\n\t\t() => [\n\t\t\t{\n\t\t\t\tvalue: 'all',\n\t\t\t\tlabel: _x( 'All', 'patterns' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: INSERTER_SYNC_TYPES.full,\n\t\t\t\tlabel: _x( 'Synced', 'patterns' ),\n\t\t\t\tdisabled: shouldDisableSyncFilter,\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: INSERTER_SYNC_TYPES.unsynced,\n\t\t\t\tlabel: _x( 'Not synced', 'patterns' ),\n\t\t\t\tdisabled: shouldDisableSyncFilter,\n\t\t\t},\n\t\t],\n\t\t[ shouldDisableSyncFilter ]\n\t);\n\n\tfunction handleSetSourceFilterChange( newSourceFilter ) {\n\t\tsetPatternSourceFilter( newSourceFilter );\n\t\tif ( getShouldDisableSyncFilter( newSourceFilter ) ) {\n\t\t\tsetPatternSyncFilter( 'all' );\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<DropdownMenu\n\t\t\t\tpopoverProps={ {\n\t\t\t\t\tplacement: 'right-end',\n\t\t\t\t} }\n\t\t\t\tlabel={ __( 'Filter patterns' ) }\n\t\t\t\ttoggleProps={ { size: 'compact' } }\n\t\t\t\ticon={\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<SVG\n\t\t\t\t\t\t\t\twidth=\"24\"\n\t\t\t\t\t\t\t\theight=\"24\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Path\n\t\t\t\t\t\t\t\t\td=\"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</SVG>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{ () => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ ! shouldHideSourcesFilter && (\n\t\t\t\t\t\t\t<MenuGroup label={ __( 'Source' ) }>\n\t\t\t\t\t\t\t\t<MenuItemsChoice\n\t\t\t\t\t\t\t\t\tchoices={ PATTERN_SOURCE_MENU_OPTIONS }\n\t\t\t\t\t\t\t\t\tonSelect={ ( value ) => {\n\t\t\t\t\t\t\t\t\t\thandleSetSourceFilterChange( value );\n\t\t\t\t\t\t\t\t\t\tscrollContainerRef.current?.scrollTo(\n\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tvalue={ currentPatternSourceFilter }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<MenuGroup label={ __( 'Type' ) }>\n\t\t\t\t\t\t\t<MenuItemsChoice\n\t\t\t\t\t\t\t\tchoices={ patternSyncMenuOptions }\n\t\t\t\t\t\t\t\tonSelect={ ( value ) => {\n\t\t\t\t\t\t\t\t\tsetPatternSyncFilter( value );\n\t\t\t\t\t\t\t\t\tscrollContainerRef.current?.scrollTo(\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tvalue={ patternSyncFilter }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<div className=\"block-editor-inserter__patterns-filter-help\">\n\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Patterns are available from the <Link>WordPress.org Pattern Directory</Link>, bundled in the active theme, or created by users on this site. Only patterns created on this site can be synced.'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tLink: (\n\t\t\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/patterns/'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</DropdownMenu>\n\t\t</>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}