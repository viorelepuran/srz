{"version":3,"names":["_components","require","_i18n","_blocks","_data","_keycodes","_store","_useConvertToGroupButtonProps","_interopRequireDefault","_toolbar","_jsxRuntime","ConvertToGroupButton","clientIds","isGroupable","isUngroupable","onUngroup","blocksSelection","groupingBlockName","onClose","getSelectedBlockClientIds","useSelect","blockEditorStore","replaceBlocks","useDispatch","onConvertToGroup","newBlocks","switchToBlockType","onConvertFromGroup","innerBlocks","length","attributes","selectedBlockClientIds","jsxs","Fragment","children","jsx","MenuItem","shortcut","displayShortcut","primary","undefined","onClick","_x"],"sources":["@wordpress/block-editor/src/components/convert-to-group-buttons/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { _x } from '@wordpress/i18n';\nimport { switchToBlockType } from '@wordpress/blocks';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { displayShortcut } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\nimport useConvertToGroupButtonProps from './use-convert-to-group-button-props';\nimport BlockGroupToolbar from './toolbar';\n\nfunction ConvertToGroupButton( {\n\tclientIds,\n\tisGroupable,\n\tisUngroupable,\n\tonUngroup,\n\tblocksSelection,\n\tgroupingBlockName,\n\tonClose = () => {},\n} ) {\n\tconst { getSelectedBlockClientIds } = useSelect( blockEditorStore );\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\tconst onConvertToGroup = () => {\n\t\t// Activate the `transform` on the Grouping Block which does the conversion.\n\t\tconst newBlocks = switchToBlockType(\n\t\t\tblocksSelection,\n\t\t\tgroupingBlockName\n\t\t);\n\t\tif ( newBlocks ) {\n\t\t\treplaceBlocks( clientIds, newBlocks );\n\t\t}\n\t};\n\n\tconst onConvertFromGroup = () => {\n\t\tlet innerBlocks = blocksSelection[ 0 ].innerBlocks;\n\t\tif ( ! innerBlocks.length ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( onUngroup ) {\n\t\t\tinnerBlocks = onUngroup(\n\t\t\t\tblocksSelection[ 0 ].attributes,\n\t\t\t\tblocksSelection[ 0 ].innerBlocks\n\t\t\t);\n\t\t}\n\t\treplaceBlocks( clientIds, innerBlocks );\n\t};\n\n\tif ( ! isGroupable && ! isUngroupable ) {\n\t\treturn null;\n\t}\n\n\tconst selectedBlockClientIds = getSelectedBlockClientIds();\n\n\treturn (\n\t\t<>\n\t\t\t{ isGroupable && (\n\t\t\t\t<MenuItem\n\t\t\t\t\tshortcut={\n\t\t\t\t\t\tselectedBlockClientIds.length > 1\n\t\t\t\t\t\t\t? displayShortcut.primary( 'g' )\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonConvertToGroup();\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ _x( 'Group', 'verb' ) }\n\t\t\t\t</MenuItem>\n\t\t\t) }\n\t\t\t{ isUngroupable && (\n\t\t\t\t<MenuItem\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonConvertFromGroup();\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Ungroup',\n\t\t\t\t\t\t'Ungrouping blocks from within a grouping block back into individual blocks within the Editor'\n\t\t\t\t\t) }\n\t\t\t\t</MenuItem>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport {\n\tBlockGroupToolbar,\n\tConvertToGroupButton,\n\tuseConvertToGroupButtonProps,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAGA,IAAAA,WAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AACA,IAAAG,KAAA,GAAAH,OAAA;AACA,IAAAI,SAAA,GAAAJ,OAAA;AAKA,IAAAK,MAAA,GAAAL,OAAA;AACA,IAAAM,6BAAA,GAAAC,sBAAA,CAAAP,OAAA;AACA,IAAAQ,QAAA,GAAAD,sBAAA,CAAAP,OAAA;AAA0C,IAAAS,WAAA,GAAAT,OAAA;AAd1C;AACA;AACA;;AAOA;AACA;AACA;;AAKA,SAASU,oBAAoBA,CAAE;EAC9BC,SAAS;EACTC,WAAW;EACXC,aAAa;EACbC,SAAS;EACTC,eAAe;EACfC,iBAAiB;EACjBC,OAAO,GAAGA,CAAA,KAAM,CAAC;AAClB,CAAC,EAAG;EACH,MAAM;IAAEC;EAA0B,CAAC,GAAG,IAAAC,eAAS,EAAEC,YAAiB,CAAC;EACnE,MAAM;IAAEC;EAAc,CAAC,GAAG,IAAAC,iBAAW,EAAEF,YAAiB,CAAC;EACzD,MAAMG,gBAAgB,GAAGA,CAAA,KAAM;IAC9B;IACA,MAAMC,SAAS,GAAG,IAAAC,yBAAiB,EAClCV,eAAe,EACfC,iBACD,CAAC;IACD,IAAKQ,SAAS,EAAG;MAChBH,aAAa,CAAEV,SAAS,EAAEa,SAAU,CAAC;IACtC;EACD,CAAC;EAED,MAAME,kBAAkB,GAAGA,CAAA,KAAM;IAChC,IAAIC,WAAW,GAAGZ,eAAe,CAAE,CAAC,CAAE,CAACY,WAAW;IAClD,IAAK,CAAEA,WAAW,CAACC,MAAM,EAAG;MAC3B;IACD;IACA,IAAKd,SAAS,EAAG;MAChBa,WAAW,GAAGb,SAAS,CACtBC,eAAe,CAAE,CAAC,CAAE,CAACc,UAAU,EAC/Bd,eAAe,CAAE,CAAC,CAAE,CAACY,WACtB,CAAC;IACF;IACAN,aAAa,CAAEV,SAAS,EAAEgB,WAAY,CAAC;EACxC,CAAC;EAED,IAAK,CAAEf,WAAW,IAAI,CAAEC,aAAa,EAAG;IACvC,OAAO,IAAI;EACZ;EAEA,MAAMiB,sBAAsB,GAAGZ,yBAAyB,CAAC,CAAC;EAE1D,oBACC,IAAAT,WAAA,CAAAsB,IAAA,EAAAtB,WAAA,CAAAuB,QAAA;IAAAC,QAAA,GACGrB,WAAW,iBACZ,IAAAH,WAAA,CAAAyB,GAAA,EAACnC,WAAA,CAAAoC,QAAQ;MACRC,QAAQ,EACPN,sBAAsB,CAACF,MAAM,GAAG,CAAC,GAC9BS,yBAAe,CAACC,OAAO,CAAE,GAAI,CAAC,GAC9BC,SACH;MACDC,OAAO,EAAGA,CAAA,KAAM;QACfjB,gBAAgB,CAAC,CAAC;QAClBN,OAAO,CAAC,CAAC;MACV,CAAG;MAAAgB,QAAA,EAED,IAAAQ,QAAE,EAAE,OAAO,EAAE,MAAO;IAAC,CACd,CACV,EACC5B,aAAa,iBACd,IAAAJ,WAAA,CAAAyB,GAAA,EAACnC,WAAA,CAAAoC,QAAQ;MACRK,OAAO,EAAGA,CAAA,KAAM;QACfd,kBAAkB,CAAC,CAAC;QACpBT,OAAO,CAAC,CAAC;MACV,CAAG;MAAAgB,QAAA,EAED,IAAAQ,QAAE,EACH,SAAS,EACT,8FACD;IAAC,CACQ,CACV;EAAA,CACA,CAAC;AAEL","ignoreList":[]}