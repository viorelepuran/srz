{"version":3,"names":["_components","require","_data","_i18n","_groups","_interopRequireDefault","_inspectorControls","_store","_utils","_utils2","_jsxRuntime","PositionControlsPanel","selectedClientIds","selectedBlocks","hasPositionAttribute","useSelect","select","getBlocksByClientId","getSelectedBlockClientIds","blockEditorStore","selectedBlockClientIds","_selectedBlocks","some","attributes","style","position","type","updateBlockAttributes","useDispatch","dropdownMenuProps","useToolsPanelDropdownMenuProps","resetPosition","length","attributesByClientId","Object","fromEntries","map","clientId","cleanEmptyObject","undefined","top","right","bottom","left","jsx","__experimentalToolsPanel","className","label","__","resetAll","children","__experimentalToolsPanelItem","isShownByDefault","hasValue","onDeselect","default","Slot","group","PositionControls","fills","useSlotFills","InspectorControlsGroups","name","hasFills","Boolean","_default","exports"],"sources":["@wordpress/block-editor/src/components/inspector-controls-tabs/position-controls-panel.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalUseSlotFills as useSlotFills,\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport InspectorControlsGroups from '../inspector-controls/groups';\nimport { default as InspectorControls } from '../inspector-controls';\nimport { store as blockEditorStore } from '../../store';\nimport { useToolsPanelDropdownMenuProps } from '../global-styles/utils';\nimport { cleanEmptyObject } from '../../hooks/utils';\n\nconst PositionControlsPanel = () => {\n\tconst { selectedClientIds, selectedBlocks, hasPositionAttribute } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst { getBlocksByClientId, getSelectedBlockClientIds } =\n\t\t\t\tselect( blockEditorStore );\n\n\t\t\tconst selectedBlockClientIds = getSelectedBlockClientIds();\n\t\t\tconst _selectedBlocks = getBlocksByClientId(\n\t\t\t\tselectedBlockClientIds\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tselectedClientIds: selectedBlockClientIds,\n\t\t\t\tselectedBlocks: _selectedBlocks,\n\t\t\t\thasPositionAttribute: _selectedBlocks?.some(\n\t\t\t\t\t( { attributes } ) => !! attributes?.style?.position?.type\n\t\t\t\t),\n\t\t\t};\n\t\t}, [] );\n\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\n\tconst dropdownMenuProps = useToolsPanelDropdownMenuProps();\n\n\tfunction resetPosition() {\n\t\tif ( ! selectedClientIds?.length || ! selectedBlocks?.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst attributesByClientId = Object.fromEntries(\n\t\t\tselectedBlocks?.map( ( { clientId, attributes } ) => [\n\t\t\t\tclientId,\n\t\t\t\t{\n\t\t\t\t\tstyle: cleanEmptyObject( {\n\t\t\t\t\t\t...attributes?.style,\n\t\t\t\t\t\tposition: {\n\t\t\t\t\t\t\t...attributes?.style?.position,\n\t\t\t\t\t\t\ttype: undefined,\n\t\t\t\t\t\t\ttop: undefined,\n\t\t\t\t\t\t\tright: undefined,\n\t\t\t\t\t\t\tbottom: undefined,\n\t\t\t\t\t\t\tleft: undefined,\n\t\t\t\t\t\t},\n\t\t\t\t\t} ),\n\t\t\t\t},\n\t\t\t] )\n\t\t);\n\n\t\tupdateBlockAttributes( selectedClientIds, attributesByClientId, true );\n\t}\n\n\treturn (\n\t\t<ToolsPanel\n\t\t\tclassName=\"block-editor-block-inspector__position\"\n\t\t\tlabel={ __( 'Position' ) }\n\t\t\tresetAll={ resetPosition }\n\t\t\tdropdownMenuProps={ dropdownMenuProps }\n\t\t>\n\t\t\t<ToolsPanelItem\n\t\t\t\tisShownByDefault={ hasPositionAttribute }\n\t\t\t\tlabel={ __( 'Position' ) }\n\t\t\t\thasValue={ () => hasPositionAttribute }\n\t\t\t\tonDeselect={ resetPosition }\n\t\t\t>\n\t\t\t\t<InspectorControls.Slot group=\"position\" />\n\t\t\t</ToolsPanelItem>\n\t\t</ToolsPanel>\n\t);\n};\n\nconst PositionControls = () => {\n\tconst fills = useSlotFills( InspectorControlsGroups.position.name );\n\tconst hasFills = Boolean( fills && fills.length );\n\n\tif ( ! hasFills ) {\n\t\treturn null;\n\t}\n\n\treturn <PositionControlsPanel />;\n};\n\nexport default PositionControls;\n"],"mappings":"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","ignoreList":[]}