{"version":3,"names":["_components","require","_data","_i18n","_icons","_element","_blockTitle","_interopRequireDefault","_store","_lockUnlock","_useBlockRefs","_getEditorRegion","_jsxRuntime","BlockBreadcrumb","rootLabelText","selectBlock","clearSelectedBlock","useDispatch","blockEditorStore","clientId","parents","hasSelection","useSelect","select","getSelectionStart","getSelectedBlockClientId","getEnabledBlockParents","unlock","selectedBlockClientId","rootLabel","__","blockRef","useRef","useBlockElementRef","jsxs","className","role","children","undefined","jsx","Button","size","onClick","blockEditor","current","closest","getEditorRegion","focus","Icon","icon","chevronRightSmall","map","parentClientId","default","maximumLength","_default","exports"],"sources":["@wordpress/block-editor/src/components/block-breadcrumb/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { chevronRightSmall, Icon } from '@wordpress/icons';\nimport { useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport BlockTitle from '../block-title';\nimport { store as blockEditorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport { useBlockElementRef } from '../block-list/use-block-props/use-block-refs';\nimport getEditorRegion from '../../utils/get-editor-region';\n\n/**\n * Block breadcrumb component, displaying the hierarchy of the current block selection as a breadcrumb.\n *\n * @param {Object} props               Component props.\n * @param {string} props.rootLabelText Translated label for the root element of the breadcrumb trail.\n * @return {Element}                   Block Breadcrumb.\n */\nfunction BlockBreadcrumb( { rootLabelText } ) {\n\tconst { selectBlock, clearSelectedBlock } = useDispatch( blockEditorStore );\n\tconst { clientId, parents, hasSelection } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetSelectionStart,\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetEnabledBlockParents,\n\t\t} = unlock( select( blockEditorStore ) );\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\treturn {\n\t\t\tparents: getEnabledBlockParents( selectedBlockClientId ),\n\t\t\tclientId: selectedBlockClientId,\n\t\t\thasSelection: !! getSelectionStart().clientId,\n\t\t};\n\t}, [] );\n\tconst rootLabel = rootLabelText || __( 'Document' );\n\n\t// We don't care about this specific ref, but this is a way\n\t// to get a ref within the editor canvas so we can focus it later.\n\tconst blockRef = useRef();\n\tuseBlockElementRef( clientId, blockRef );\n\n\t/*\n\t * Disable reason: The `list` ARIA role is redundant but\n\t * Safari+VoiceOver won't announce the list otherwise.\n\t */\n\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\treturn (\n\t\t<ul\n\t\t\tclassName=\"block-editor-block-breadcrumb\"\n\t\t\trole=\"list\"\n\t\t\taria-label={ __( 'Block breadcrumb' ) }\n\t\t>\n\t\t\t<li\n\t\t\t\tclassName={\n\t\t\t\t\t! hasSelection\n\t\t\t\t\t\t? 'block-editor-block-breadcrumb__current'\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\taria-current={ ! hasSelection ? 'true' : undefined }\n\t\t\t>\n\t\t\t\t{ hasSelection && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tclassName=\"block-editor-block-breadcrumb__button\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t// Find the block editor wrapper for the selected block\n\t\t\t\t\t\t\tconst blockEditor = blockRef.current?.closest(\n\t\t\t\t\t\t\t\t'.editor-styles-wrapper'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tclearSelectedBlock();\n\n\t\t\t\t\t\t\tgetEditorRegion( blockEditor )?.focus();\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ rootLabel }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\t{ ! hasSelection && <span>{ rootLabel }</span> }\n\t\t\t\t{ !! clientId && (\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon={ chevronRightSmall }\n\t\t\t\t\t\tclassName=\"block-editor-block-breadcrumb__separator\"\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</li>\n\n\t\t\t{ parents.map( ( parentClientId ) => (\n\t\t\t\t<li key={ parentClientId }>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tclassName=\"block-editor-block-breadcrumb__button\"\n\t\t\t\t\t\tonClick={ () => selectBlock( parentClientId ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockTitle\n\t\t\t\t\t\t\tclientId={ parentClientId }\n\t\t\t\t\t\t\tmaximumLength={ 35 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon={ chevronRightSmall }\n\t\t\t\t\t\tclassName=\"block-editor-block-breadcrumb__separator\"\n\t\t\t\t\t/>\n\t\t\t\t</li>\n\t\t\t) ) }\n\t\t\t{ !! clientId && (\n\t\t\t\t<li\n\t\t\t\t\tclassName=\"block-editor-block-breadcrumb__current\"\n\t\t\t\t\taria-current=\"true\"\n\t\t\t\t>\n\t\t\t\t\t<BlockTitle clientId={ clientId } maximumLength={ 35 } />\n\t\t\t\t</li>\n\t\t\t) }\n\t\t</ul>\n\t\t/* eslint-enable jsx-a11y/no-redundant-roles */\n\t);\n}\n\nexport default BlockBreadcrumb;\n"],"mappings":"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","ignoreList":[]}