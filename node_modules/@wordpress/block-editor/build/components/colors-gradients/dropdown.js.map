{"version":3,"names":["_clsx","_interopRequireDefault","require","_components","_element","_i18n","_icons","_control","_jsxRuntime","WithToolsPanelItem","setting","children","panelId","props","clearValue","colorValue","onColorChange","gradientValue","onGradientChange","jsx","__experimentalToolsPanelItem","hasValue","label","onDeselect","isShownByDefault","undefined","className","resetAllFilter","LabeledColorIndicator","jsxs","__experimentalHStack","justify","ColorIndicator","FlexItem","title","renderToggle","settings","onToggle","isOpen","clearable","colorButtonRef","useRef","toggleProps","onClick","clsx","ref","value","Fragment","Button","__next40pxDefaultSize","__","size","icon","resetIcon","current","focus","ColorGradientSettingsDropdown","colors","disableCustomColors","disableCustomGradients","enableAlpha","gradients","__experimentalIsRenderedInSidebar","popoverProps","placement","offset","shift","map","index","controlProps","showTitle","toggleSettings","Dropdown","renderContent","__experimentalDropdownContentWrapper","paddingSize","default"],"sources":["@wordpress/block-editor/src/components/colors-gradients/dropdown.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tColorIndicator,\n\tDropdown,\n\tFlexItem,\n\t__experimentalDropdownContentWrapper as DropdownContentWrapper,\n\t__experimentalHStack as HStack,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { useRef } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { reset as resetIcon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport ColorGradientControl from './control';\n\n// When the `ColorGradientSettingsDropdown` controls are being rendered to a\n// `ToolsPanel` they must be wrapped in a `ToolsPanelItem`.\nconst WithToolsPanelItem = ( { setting, children, panelId, ...props } ) => {\n\tconst clearValue = () => {\n\t\tif ( setting.colorValue ) {\n\t\t\tsetting.onColorChange();\n\t\t} else if ( setting.gradientValue ) {\n\t\t\tsetting.onGradientChange();\n\t\t}\n\t};\n\treturn (\n\t\t<ToolsPanelItem\n\t\t\thasValue={ () => {\n\t\t\t\treturn !! setting.colorValue || !! setting.gradientValue;\n\t\t\t} }\n\t\t\tlabel={ setting.label }\n\t\t\tonDeselect={ clearValue }\n\t\t\tisShownByDefault={\n\t\t\t\tsetting.isShownByDefault !== undefined\n\t\t\t\t\t? setting.isShownByDefault\n\t\t\t\t\t: true\n\t\t\t}\n\t\t\t{ ...props }\n\t\t\tclassName=\"block-editor-tools-panel-color-gradient-settings__item\"\n\t\t\tpanelId={ panelId }\n\t\t\t// Pass resetAllFilter if supplied due to rendering via SlotFill\n\t\t\t// into parent ToolsPanel.\n\t\t\tresetAllFilter={ setting.resetAllFilter }\n\t\t>\n\t\t\t{ children }\n\t\t</ToolsPanelItem>\n\t);\n};\n\nconst LabeledColorIndicator = ( { colorValue, label } ) => (\n\t<HStack justify=\"flex-start\">\n\t\t<ColorIndicator\n\t\t\tclassName=\"block-editor-panel-color-gradient-settings__color-indicator\"\n\t\t\tcolorValue={ colorValue }\n\t\t/>\n\t\t<FlexItem\n\t\t\tclassName=\"block-editor-panel-color-gradient-settings__color-name\"\n\t\t\ttitle={ label }\n\t\t>\n\t\t\t{ label }\n\t\t</FlexItem>\n\t</HStack>\n);\n\n// Renders a color dropdown's toggle as an `Item` if it is within an `ItemGroup`\n// or as a `Button` if it isn't e.g. the controls are being rendered in\n// a `ToolsPanel`.\nconst renderToggle =\n\t( settings ) =>\n\t( { onToggle, isOpen } ) => {\n\t\tconst {\n\t\t\tclearable,\n\t\t\tcolorValue,\n\t\t\tgradientValue,\n\t\t\tonColorChange,\n\t\t\tonGradientChange,\n\t\t\tlabel,\n\t\t} = settings;\n\t\tconst colorButtonRef = useRef( undefined );\n\n\t\tconst toggleProps = {\n\t\t\tonClick: onToggle,\n\t\t\tclassName: clsx(\n\t\t\t\t'block-editor-panel-color-gradient-settings__dropdown',\n\t\t\t\t{ 'is-open': isOpen }\n\t\t\t),\n\t\t\t'aria-expanded': isOpen,\n\t\t\tref: colorButtonRef,\n\t\t};\n\n\t\tconst clearValue = () => {\n\t\t\tif ( colorValue ) {\n\t\t\t\tonColorChange();\n\t\t\t} else if ( gradientValue ) {\n\t\t\t\tonGradientChange();\n\t\t\t}\n\t\t};\n\n\t\tconst value = colorValue ?? gradientValue;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Button __next40pxDefaultSize { ...toggleProps }>\n\t\t\t\t\t<LabeledColorIndicator\n\t\t\t\t\t\tcolorValue={ value }\n\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t/>\n\t\t\t\t</Button>\n\t\t\t\t{ clearable && value && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Reset' ) }\n\t\t\t\t\t\tclassName=\"block-editor-panel-color-gradient-settings__reset\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\ticon={ resetIcon }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tclearValue();\n\t\t\t\t\t\t\tif ( isOpen ) {\n\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Return focus to parent button\n\t\t\t\t\t\t\tcolorButtonRef.current?.focus();\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t};\n\n// Renders a collection of color controls as dropdowns. Depending upon the\n// context in which these dropdowns are being rendered, they may be wrapped\n// in an `ItemGroup` with each dropdown's toggle as an `Item`, or alternatively,\n// the may be individually wrapped in a `ToolsPanelItem` with the toggle as\n// a regular `Button`.\n//\n// For more context see: https://github.com/WordPress/gutenberg/pull/40084\nexport default function ColorGradientSettingsDropdown( {\n\tcolors,\n\tdisableCustomColors,\n\tdisableCustomGradients,\n\tenableAlpha,\n\tgradients,\n\tsettings,\n\t__experimentalIsRenderedInSidebar,\n\t...props\n} ) {\n\tlet popoverProps;\n\tif ( __experimentalIsRenderedInSidebar ) {\n\t\tpopoverProps = {\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t};\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ settings.map( ( setting, index ) => {\n\t\t\t\tconst controlProps = {\n\t\t\t\t\tclearable: false,\n\t\t\t\t\tcolorValue: setting.colorValue,\n\t\t\t\t\tcolors,\n\t\t\t\t\tdisableCustomColors,\n\t\t\t\t\tdisableCustomGradients,\n\t\t\t\t\tenableAlpha,\n\t\t\t\t\tgradientValue: setting.gradientValue,\n\t\t\t\t\tgradients,\n\t\t\t\t\tlabel: setting.label,\n\t\t\t\t\tonColorChange: setting.onColorChange,\n\t\t\t\t\tonGradientChange: setting.onGradientChange,\n\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t__experimentalIsRenderedInSidebar,\n\t\t\t\t\t...setting,\n\t\t\t\t};\n\t\t\t\tconst toggleSettings = {\n\t\t\t\t\tclearable: setting.clearable,\n\t\t\t\t\tlabel: setting.label,\n\t\t\t\t\tcolorValue: setting.colorValue,\n\t\t\t\t\tgradientValue: setting.gradientValue,\n\t\t\t\t\tonColorChange: setting.onColorChange,\n\t\t\t\t\tonGradientChange: setting.onGradientChange,\n\t\t\t\t};\n\n\t\t\t\treturn (\n\t\t\t\t\tsetting && (\n\t\t\t\t\t\t// If not in an `ItemGroup` wrap the dropdown in a\n\t\t\t\t\t\t// `ToolsPanelItem`\n\t\t\t\t\t\t<WithToolsPanelItem\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\tsetting={ setting }\n\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\t\t\t\tclassName=\"block-editor-tools-panel-color-gradient-settings__dropdown\"\n\t\t\t\t\t\t\t\trenderToggle={ renderToggle( toggleSettings ) }\n\t\t\t\t\t\t\t\trenderContent={ () => (\n\t\t\t\t\t\t\t\t\t<DropdownContentWrapper paddingSize=\"none\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"block-editor-panel-color-gradient-settings__dropdown-content\">\n\t\t\t\t\t\t\t\t\t\t\t<ColorGradientControl\n\t\t\t\t\t\t\t\t\t\t\t\t{ ...controlProps }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</DropdownContentWrapper>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</WithToolsPanelItem>\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}