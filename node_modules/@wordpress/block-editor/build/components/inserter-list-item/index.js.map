{"version":3,"names":["_clsx","_interopRequireDefault","require","_element","_blocks","_components","_keycodes","_blockIcon","_inserterListbox","_inserterDraggableBlocks","_jsxRuntime","InserterListItem","className","isFirst","item","onSelect","onHover","isDraggable","props","isDraggingRef","useRef","itemIconStyle","icon","backgroundColor","background","color","foreground","blocks","useMemo","createBlock","name","initialAttributes","createBlocksFromInnerBlocksTemplate","innerBlocks","isSynced","isReusableBlock","syncStatus","isTemplatePart","jsx","default","isEnabled","isDisabled","children","draggable","onDragStart","onDragEnd","clsx","event","current","jsxs","InserterListboxItem","disabled","onClick","preventDefault","isAppleOS","metaKey","ctrlKey","onKeyDown","keyCode","ENTER","onMouseEnter","onMouseLeave","style","showColors","__experimentalTruncate","numberOfLines","title","_default","exports","memo"],"sources":["@wordpress/block-editor/src/components/inserter-list-item/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo, useRef, memo } from '@wordpress/element';\nimport {\n\tcreateBlock,\n\tcreateBlocksFromInnerBlocksTemplate,\n\tisReusableBlock,\n\tisTemplatePart,\n} from '@wordpress/blocks';\nimport { __experimentalTruncate as Truncate } from '@wordpress/components';\nimport { ENTER, isAppleOS } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\nimport { InserterListboxItem } from '../inserter-listbox';\nimport InserterDraggableBlocks from '../inserter-draggable-blocks';\n\nfunction InserterListItem( {\n\tclassName,\n\tisFirst,\n\titem,\n\tonSelect,\n\tonHover,\n\tisDraggable,\n\t...props\n} ) {\n\tconst isDraggingRef = useRef( false );\n\tconst itemIconStyle = item.icon\n\t\t? {\n\t\t\t\tbackgroundColor: item.icon.background,\n\t\t\t\tcolor: item.icon.foreground,\n\t\t  }\n\t\t: {};\n\tconst blocks = useMemo(\n\t\t() => [\n\t\t\tcreateBlock(\n\t\t\t\titem.name,\n\t\t\t\titem.initialAttributes,\n\t\t\t\tcreateBlocksFromInnerBlocksTemplate( item.innerBlocks )\n\t\t\t),\n\t\t],\n\t\t[ item.name, item.initialAttributes, item.innerBlocks ]\n\t);\n\n\tconst isSynced =\n\t\t( isReusableBlock( item ) && item.syncStatus !== 'unsynced' ) ||\n\t\tisTemplatePart( item );\n\n\treturn (\n\t\t<InserterDraggableBlocks\n\t\t\tisEnabled={ isDraggable && ! item.isDisabled }\n\t\t\tblocks={ blocks }\n\t\t\ticon={ item.icon }\n\t\t>\n\t\t\t{ ( { draggable, onDragStart, onDragEnd } ) => (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t'block-editor-block-types-list__list-item',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'is-synced': isSynced,\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t\tdraggable={ draggable }\n\t\t\t\t\tonDragStart={ ( event ) => {\n\t\t\t\t\t\tisDraggingRef.current = true;\n\t\t\t\t\t\tif ( onDragStart ) {\n\t\t\t\t\t\t\tonHover( null );\n\t\t\t\t\t\t\tonDragStart( event );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t\tonDragEnd={ ( event ) => {\n\t\t\t\t\t\tisDraggingRef.current = false;\n\t\t\t\t\t\tif ( onDragEnd ) {\n\t\t\t\t\t\t\tonDragEnd( event );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<InserterListboxItem\n\t\t\t\t\t\tisFirst={ isFirst }\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t'block-editor-block-types-list__item',\n\t\t\t\t\t\t\tclassName\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tdisabled={ item.isDisabled }\n\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tonSelect(\n\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\tisAppleOS() ? event.metaKey : event.ctrlKey\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tonHover( null );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\tconst { keyCode } = event;\n\t\t\t\t\t\t\tif ( keyCode === ENTER ) {\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tonSelect(\n\t\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\t\tisAppleOS() ? event.metaKey : event.ctrlKey\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tonHover( null );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonMouseEnter={ () => {\n\t\t\t\t\t\t\tif ( isDraggingRef.current ) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonHover( item );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonMouseLeave={ () => onHover( null ) }\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"block-editor-block-types-list__item-icon\"\n\t\t\t\t\t\t\tstyle={ itemIconStyle }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<BlockIcon icon={ item.icon } showColors />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"block-editor-block-types-list__item-title\">\n\t\t\t\t\t\t\t<Truncate numberOfLines={ 3 }>\n\t\t\t\t\t\t\t\t{ item.title }\n\t\t\t\t\t\t\t</Truncate>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</InserterListboxItem>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</InserterDraggableBlocks>\n\t);\n}\n\nexport default memo( InserterListItem );\n"],"mappings":"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","ignoreList":[]}