{"version":3,"names":["_apiFetch","_interopRequireDefault","require","_url","_icons","_htmlEntities","_jsxRuntime","SHOWN_SUGGESTIONS","createLinkCompleter","name","className","triggerPrefix","options","letters","apiFetch","path","addQueryArgs","per_page","search","type","order_by","filter","option","title","getOptionKeywords","item","expansionWords","split","getOptionLabel","jsxs","Fragment","children","jsx","Icon","icon","subtype","page","post","decodeEntities","getOptionCompletion","href","url","_default","exports","default"],"sources":["@wordpress/block-editor/src/autocompleters/link.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\n// Disable Reason: Needs to be refactored.\n// eslint-disable-next-line no-restricted-imports\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\nimport { Icon, page, post } from '@wordpress/icons';\nimport { decodeEntities } from '@wordpress/html-entities';\n\nconst SHOWN_SUGGESTIONS = 10;\n\n/**\n * Creates a suggestion list for links to posts or pages.\n *\n * @return {Object} A links completer.\n */\nfunction createLinkCompleter() {\n\treturn {\n\t\tname: 'links',\n\t\tclassName: 'block-editor-autocompleters__link',\n\t\ttriggerPrefix: '[[',\n\t\toptions: async ( letters ) => {\n\t\t\tlet options = await apiFetch( {\n\t\t\t\tpath: addQueryArgs( '/wp/v2/search', {\n\t\t\t\t\tper_page: SHOWN_SUGGESTIONS,\n\t\t\t\t\tsearch: letters,\n\t\t\t\t\ttype: 'post',\n\t\t\t\t\torder_by: 'menu_order',\n\t\t\t\t} ),\n\t\t\t} );\n\n\t\t\toptions = options.filter( ( option ) => option.title !== '' );\n\n\t\t\treturn options;\n\t\t},\n\t\tgetOptionKeywords( item ) {\n\t\t\tconst expansionWords = item.title.split( /\\s+/ );\n\t\t\treturn [ ...expansionWords ];\n\t\t},\n\t\tgetOptionLabel( item ) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tkey=\"icon\"\n\t\t\t\t\t\ticon={ item.subtype === 'page' ? page : post }\n\t\t\t\t\t/>\n\t\t\t\t\t{ decodeEntities( item.title ) }\n\t\t\t\t</>\n\t\t\t);\n\t\t},\n\t\tgetOptionCompletion( item ) {\n\t\t\treturn <a href={ item.url }>{ item.title }</a>;\n\t\t},\n\t};\n}\n\n/**\n * Creates a suggestion list for links to posts or pages..\n *\n * @return {Object} A link completer.\n */\nexport default createLinkCompleter();\n"],"mappings":";;;;;;;AAKA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,IAAA,GAAAD,OAAA;AACA,IAAAE,MAAA,GAAAF,OAAA;AACA,IAAAG,aAAA,GAAAH,OAAA;AAA0D,IAAAI,WAAA,GAAAJ,OAAA;AAR1D;AACA;AACA;AACA;AACA;;AAMA,MAAMK,iBAAiB,GAAG,EAAE;;AAE5B;AACA;AACA;AACA;AACA;AACA,SAASC,mBAAmBA,CAAA,EAAG;EAC9B,OAAO;IACNC,IAAI,EAAE,OAAO;IACbC,SAAS,EAAE,mCAAmC;IAC9CC,aAAa,EAAE,IAAI;IACnBC,OAAO,EAAE,MAAQC,OAAO,IAAM;MAC7B,IAAID,OAAO,GAAG,MAAM,IAAAE,iBAAQ,EAAE;QAC7BC,IAAI,EAAE,IAAAC,iBAAY,EAAE,eAAe,EAAE;UACpCC,QAAQ,EAAEV,iBAAiB;UAC3BW,MAAM,EAAEL,OAAO;UACfM,IAAI,EAAE,MAAM;UACZC,QAAQ,EAAE;QACX,CAAE;MACH,CAAE,CAAC;MAEHR,OAAO,GAAGA,OAAO,CAACS,MAAM,CAAIC,MAAM,IAAMA,MAAM,CAACC,KAAK,KAAK,EAAG,CAAC;MAE7D,OAAOX,OAAO;IACf,CAAC;IACDY,iBAAiBA,CAAEC,IAAI,EAAG;MACzB,MAAMC,cAAc,GAAGD,IAAI,CAACF,KAAK,CAACI,KAAK,CAAE,KAAM,CAAC;MAChD,OAAO,CAAE,GAAGD,cAAc,CAAE;IAC7B,CAAC;IACDE,cAAcA,CAAEH,IAAI,EAAG;MACtB,oBACC,IAAAnB,WAAA,CAAAuB,IAAA,EAAAvB,WAAA,CAAAwB,QAAA;QAAAC,QAAA,gBACC,IAAAzB,WAAA,CAAA0B,GAAA,EAAC5B,MAAA,CAAA6B,IAAI;UAEJC,IAAI,EAAGT,IAAI,CAACU,OAAO,KAAK,MAAM,GAAGC,WAAI,GAAGC;QAAM,GAD1C,MAEJ,CAAC,EACA,IAAAC,4BAAc,EAAEb,IAAI,CAACF,KAAM,CAAC;MAAA,CAC7B,CAAC;IAEL,CAAC;IACDgB,mBAAmBA,CAAEd,IAAI,EAAG;MAC3B,oBAAO,IAAAnB,WAAA,CAAA0B,GAAA;QAAGQ,IAAI,EAAGf,IAAI,CAACgB,GAAK;QAAAV,QAAA,EAAGN,IAAI,CAACF;MAAK,CAAK,CAAC;IAC/C;EACD,CAAC;AACF;;AAEA;AACA;AACA;AACA;AACA;AAJA,IAAAmB,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAKepC,mBAAmB,CAAC,CAAC","ignoreList":[]}