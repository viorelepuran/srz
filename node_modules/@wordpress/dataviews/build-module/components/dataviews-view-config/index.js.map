{"version":3,"names":["clsx","Button","__experimentalDropdownContentWrapper","DropdownContentWrapper","Dropdown","__experimentalToggleGroupControl","ToggleGroupControl","__experimentalToggleGroupControlOption","ToggleGroupControlOption","__experimentalToggleGroupControlOptionIcon","ToggleGroupControlOptionIcon","SelectControl","__experimentalItemGroup","ItemGroup","__experimentalItem","Item","__experimentalGrid","Grid","__experimentalVStack","VStack","__experimentalHStack","HStack","__experimentalHeading","Heading","__experimentalText","Text","privateApis","componentsPrivateApis","BaseControl","Icon","__","_x","sprintf","memo","useContext","useMemo","useState","chevronDown","chevronUp","cog","seen","unseen","lock","moreVertical","warning","useInstanceId","SORTING_DIRECTIONS","sortIcons","sortLabels","VIEW_LAYOUTS","DataViewsContext","unlock","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Menu","DATAVIEWS_CONFIG_POPOVER_PROPS","className","placement","offset","ViewTypeMenu","defaultLayouts","list","grid","table","view","onChangeView","availableLayouts","Object","keys","length","activeView","find","v","type","children","TriggerButton","render","size","icon","label","Popover","map","layout","config","RadioItem","value","name","checked","hideOnClick","onChange","e","target","viewWithoutLayout","globalThis","SCRIPT_DEBUG","ItemLabel","SortFieldControl","fields","orderOptions","sortableFields","filter","field","enableSorting","id","__nextHasNoMarginBottom","__next40pxDefaultSize","sort","options","direction","showLevels","SortDirectionControl","isBlock","newDirection","PAGE_SIZE_VALUES","ItemsPerPageControl","perPage","disabled","newItemsPerPage","newItemsPerPageNumber","undefined","parseInt","page","toString","PreviewOptions","previewOptions","onChangePreviewOption","onMenuOpenChange","activeOption","focusPreviewOptionsField","setTimeout","element","document","querySelector","HTMLElement","focus","onOpenChange","FieldItem","description","isVisible","isFirst","isLast","canMove","onToggleVisibility","onMoveUp","onMoveDown","isChangingPreviewOption","setIsChangingPreviewOption","focusVisibilityField","expanded","justify","enableHiding","accessibleWhenDisabled","onClick","RegularFieldItem","index","_view$fields","visibleFieldIds","includes","fieldId","_visibleFieldIds$slic","slice","_visibleFieldIds$slic2","isDefined","item","FieldControl","_view$fields2","togglableFields","titleField","mediaField","descriptionField","Boolean","hiddenFields","f","visibleFields","previewField","previewFields","previewFieldUI","_view$showMedia","isPreviewFieldVisible","showMedia","newPreviewId","lockedFields","isVisibleFlag","ui","visibleLockedFields","_view$isVisibleFlag","hiddenLockedFields","_view$isVisibleFlag2","spacing","isBordered","isSeparated","VisualLabel","style","margin","SettingsSection","title","columns","gap","level","variant","DataviewsViewConfigDropdown","popoverId","_DataViewsViewConfig","activeLayout","expandOnMobile","popoverProps","renderToggle","onToggle","isOpen","renderContent","paddingSize","viewConfigOptions","DataViewsViewConfig"],"sources":["@wordpress/dataviews/src/components/dataviews-view-config/index.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport type { ChangeEvent, ReactNode } from 'react';\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\t__experimentalDropdownContentWrapper as DropdownContentWrapper,\n\tDropdown,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\n\tSelectControl,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalItem as Item,\n\t__experimentalGrid as Grid,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\t__experimentalHeading as Heading,\n\t__experimentalText as Text,\n\tprivateApis as componentsPrivateApis,\n\tBaseControl,\n\tIcon,\n} from '@wordpress/components';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { memo, useContext, useMemo, useState } from '@wordpress/element';\nimport {\n\tchevronDown,\n\tchevronUp,\n\tcog,\n\tseen,\n\tunseen,\n\tlock,\n\tmoreVertical,\n} from '@wordpress/icons';\nimport warning from '@wordpress/warning';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { SORTING_DIRECTIONS, sortIcons, sortLabels } from '../../constants';\nimport { VIEW_LAYOUTS } from '../../dataviews-layouts';\nimport type { NormalizedField, SupportedLayouts, View } from '../../types';\nimport DataViewsContext from '../dataviews-context';\nimport { unlock } from '../../lock-unlock';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\ninterface ViewTypeMenuProps {\n\tdefaultLayouts?: SupportedLayouts;\n}\n\nconst DATAVIEWS_CONFIG_POPOVER_PROPS = {\n\tclassName: 'dataviews-config__popover',\n\tplacement: 'bottom-end',\n\toffset: 9,\n};\n\nfunction ViewTypeMenu( {\n\tdefaultLayouts = { list: {}, grid: {}, table: {} },\n}: ViewTypeMenuProps ) {\n\tconst { view, onChangeView } = useContext( DataViewsContext );\n\tconst availableLayouts = Object.keys( defaultLayouts );\n\tif ( availableLayouts.length <= 1 ) {\n\t\treturn null;\n\t}\n\tconst activeView = VIEW_LAYOUTS.find( ( v ) => view.type === v.type );\n\treturn (\n\t\t<Menu>\n\t\t\t<Menu.TriggerButton\n\t\t\t\trender={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\ticon={ activeView?.icon }\n\t\t\t\t\t\tlabel={ __( 'Layout' ) }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Menu.Popover>\n\t\t\t\t{ availableLayouts.map( ( layout ) => {\n\t\t\t\t\tconst config = VIEW_LAYOUTS.find(\n\t\t\t\t\t\t( v ) => v.type === layout\n\t\t\t\t\t);\n\t\t\t\t\tif ( ! config ) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Menu.RadioItem\n\t\t\t\t\t\t\tkey={ layout }\n\t\t\t\t\t\t\tvalue={ layout }\n\t\t\t\t\t\t\tname=\"view-actions-available-view\"\n\t\t\t\t\t\t\tchecked={ layout === view.type }\n\t\t\t\t\t\t\thideOnClick\n\t\t\t\t\t\t\tonChange={ (\n\t\t\t\t\t\t\t\te: ChangeEvent< HTMLInputElement >\n\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\tswitch ( e.target.value ) {\n\t\t\t\t\t\t\t\t\tcase 'list':\n\t\t\t\t\t\t\t\t\tcase 'grid':\n\t\t\t\t\t\t\t\t\tcase 'table':\n\t\t\t\t\t\t\t\t\t\tconst viewWithoutLayout = { ...view };\n\t\t\t\t\t\t\t\t\t\tif ( 'layout' in viewWithoutLayout ) {\n\t\t\t\t\t\t\t\t\t\t\tdelete viewWithoutLayout.layout;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t// @ts-expect-error\n\t\t\t\t\t\t\t\t\t\treturn onChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t...viewWithoutLayout,\n\t\t\t\t\t\t\t\t\t\t\ttype: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t...defaultLayouts[ e.target.value ],\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twarning( 'Invalid dataview' );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Menu.ItemLabel>{ config.label }</Menu.ItemLabel>\n\t\t\t\t\t\t</Menu.RadioItem>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</Menu.Popover>\n\t\t</Menu>\n\t);\n}\n\nfunction SortFieldControl() {\n\tconst { view, fields, onChangeView } = useContext( DataViewsContext );\n\tconst orderOptions = useMemo( () => {\n\t\tconst sortableFields = fields.filter(\n\t\t\t( field ) => field.enableSorting !== false\n\t\t);\n\t\treturn sortableFields.map( ( field ) => {\n\t\t\treturn {\n\t\t\t\tlabel: field.label,\n\t\t\t\tvalue: field.id,\n\t\t\t};\n\t\t} );\n\t}, [ fields ] );\n\n\treturn (\n\t\t<SelectControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tlabel={ __( 'Sort by' ) }\n\t\t\tvalue={ view.sort?.field }\n\t\t\toptions={ orderOptions }\n\t\t\tonChange={ ( value: string ) => {\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tsort: {\n\t\t\t\t\t\tdirection: view?.sort?.direction || 'desc',\n\t\t\t\t\t\tfield: value,\n\t\t\t\t\t},\n\t\t\t\t\tshowLevels: false,\n\t\t\t\t} );\n\t\t\t} }\n\t\t/>\n\t);\n}\n\nfunction SortDirectionControl() {\n\tconst { view, fields, onChangeView } = useContext( DataViewsContext );\n\n\tconst sortableFields = fields.filter(\n\t\t( field ) => field.enableSorting !== false\n\t);\n\tif ( sortableFields.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tlet value = view.sort?.direction;\n\tif ( ! value && view.sort?.field ) {\n\t\tvalue = 'desc';\n\t}\n\treturn (\n\t\t<ToggleGroupControl\n\t\t\tclassName=\"dataviews-view-config__sort-direction\"\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tisBlock\n\t\t\tlabel={ __( 'Order' ) }\n\t\t\tvalue={ value }\n\t\t\tonChange={ ( newDirection ) => {\n\t\t\t\tif ( newDirection === 'asc' || newDirection === 'desc' ) {\n\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t...view,\n\t\t\t\t\t\tsort: {\n\t\t\t\t\t\t\tdirection: newDirection,\n\t\t\t\t\t\t\tfield:\n\t\t\t\t\t\t\t\tview.sort?.field ||\n\t\t\t\t\t\t\t\t// If there is no field assigned as the sorting field assign the first sortable field.\n\t\t\t\t\t\t\t\tfields.find(\n\t\t\t\t\t\t\t\t\t( field ) => field.enableSorting !== false\n\t\t\t\t\t\t\t\t)?.id ||\n\t\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tshowLevels: false,\n\t\t\t\t\t} );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\twarning( 'Invalid direction' );\n\t\t\t} }\n\t\t>\n\t\t\t{ SORTING_DIRECTIONS.map( ( direction ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ToggleGroupControlOptionIcon\n\t\t\t\t\t\tkey={ direction }\n\t\t\t\t\t\tvalue={ direction }\n\t\t\t\t\t\ticon={ sortIcons[ direction ] }\n\t\t\t\t\t\tlabel={ sortLabels[ direction ] }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ToggleGroupControl>\n\t);\n}\n\nconst PAGE_SIZE_VALUES = [ 10, 20, 50, 100 ];\nfunction ItemsPerPageControl() {\n\tconst { view, onChangeView } = useContext( DataViewsContext );\n\treturn (\n\t\t<ToggleGroupControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tisBlock\n\t\t\tlabel={ __( 'Items per page' ) }\n\t\t\tvalue={ view.perPage || 10 }\n\t\t\tdisabled={ ! view?.sort?.field }\n\t\t\tonChange={ ( newItemsPerPage ) => {\n\t\t\t\tconst newItemsPerPageNumber =\n\t\t\t\t\ttypeof newItemsPerPage === 'number' ||\n\t\t\t\t\tnewItemsPerPage === undefined\n\t\t\t\t\t\t? newItemsPerPage\n\t\t\t\t\t\t: parseInt( newItemsPerPage, 10 );\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tperPage: newItemsPerPageNumber,\n\t\t\t\t\tpage: 1,\n\t\t\t\t} );\n\t\t\t} }\n\t\t>\n\t\t\t{ PAGE_SIZE_VALUES.map( ( value ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\tkey={ value }\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tlabel={ value.toString() }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ToggleGroupControl>\n\t);\n}\n\nfunction PreviewOptions( {\n\tpreviewOptions,\n\tonChangePreviewOption,\n\tonMenuOpenChange,\n\tactiveOption,\n}: {\n\tpreviewOptions?: Array< { label: string; id: string } >;\n\tonChangePreviewOption?: ( newPreviewOption: string ) => void;\n\tonMenuOpenChange: ( isOpen: boolean ) => void;\n\tactiveOption?: string;\n} ) {\n\tconst focusPreviewOptionsField = ( id: string ) => {\n\t\t// Focus the visibility button to avoid focus loss.\n\t\t// Our code is safe against the component being unmounted, so we don't need to worry about cleaning the timeout.\n\t\t// eslint-disable-next-line @wordpress/react-no-unsafe-timeout\n\t\tsetTimeout( () => {\n\t\t\tconst element = document.querySelector(\n\t\t\t\t`.dataviews-field-control__field-${ id } .dataviews-field-control__field-preview-options-button`\n\t\t\t);\n\t\t\tif ( element instanceof HTMLElement ) {\n\t\t\t\telement.focus();\n\t\t\t}\n\t\t}, 50 );\n\t};\n\treturn (\n\t\t<Menu onOpenChange={ onMenuOpenChange }>\n\t\t\t<Menu.TriggerButton\n\t\t\t\trender={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"dataviews-field-control__field-preview-options-button\"\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\tlabel={ __( 'Preview' ) }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Menu.Popover>\n\t\t\t\t{ previewOptions?.map( ( { id, label } ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Menu.RadioItem\n\t\t\t\t\t\t\tkey={ id }\n\t\t\t\t\t\t\tvalue={ id }\n\t\t\t\t\t\t\tchecked={ id === activeOption }\n\t\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\t\tonChangePreviewOption?.( id );\n\t\t\t\t\t\t\t\tfocusPreviewOptionsField( id );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Menu.ItemLabel>{ label }</Menu.ItemLabel>\n\t\t\t\t\t\t</Menu.RadioItem>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</Menu.Popover>\n\t\t</Menu>\n\t);\n}\nfunction FieldItem( {\n\tfield,\n\tlabel,\n\tdescription,\n\tisVisible,\n\tisFirst,\n\tisLast,\n\tcanMove = true,\n\tonToggleVisibility,\n\tonMoveUp,\n\tonMoveDown,\n\tpreviewOptions,\n\tonChangePreviewOption,\n}: {\n\tfield: NormalizedField< any >;\n\tlabel?: string;\n\tdescription?: string;\n\tisVisible: boolean;\n\tisFirst?: boolean;\n\tisLast?: boolean;\n\tcanMove?: boolean;\n\tonToggleVisibility?: () => void;\n\tonMoveUp?: () => void;\n\tonMoveDown?: () => void;\n\tpreviewOptions?: Array< { label: string; id: string } >;\n\tonChangePreviewOption?: ( newPreviewOption: string ) => void;\n} ) {\n\tconst [ isChangingPreviewOption, setIsChangingPreviewOption ] =\n\t\tuseState< boolean >( false );\n\n\tconst focusVisibilityField = () => {\n\t\t// Focus the visibility button to avoid focus loss.\n\t\t// Our code is safe against the component being unmounted, so we don't need to worry about cleaning the timeout.\n\t\t// eslint-disable-next-line @wordpress/react-no-unsafe-timeout\n\t\tsetTimeout( () => {\n\t\t\tconst element = document.querySelector(\n\t\t\t\t`.dataviews-field-control__field-${ field.id } .dataviews-field-control__field-visibility-button`\n\t\t\t);\n\t\t\tif ( element instanceof HTMLElement ) {\n\t\t\t\telement.focus();\n\t\t\t}\n\t\t}, 50 );\n\t};\n\n\treturn (\n\t\t<Item>\n\t\t\t<HStack\n\t\t\t\texpanded\n\t\t\t\tclassName={ clsx(\n\t\t\t\t\t'dataviews-field-control__field',\n\t\t\t\t\t`dataviews-field-control__field-${ field.id }`,\n\t\t\t\t\t// The actions are hidden when the mouse is not hovering the item, or focus\n\t\t\t\t\t// is outside the item.\n\t\t\t\t\t// For actions that require a popover, a menu etc, that would mean that when the interactive element\n\t\t\t\t\t// opens and the focus goes there the actions would be hidden.\n\t\t\t\t\t// To avoid that we add a class to the item, that makes sure actions are visible while there is some\n\t\t\t\t\t// interaction with the item.\n\t\t\t\t\t{ 'is-interacting': isChangingPreviewOption }\n\t\t\t\t) }\n\t\t\t\tjustify=\"flex-start\"\n\t\t\t>\n\t\t\t\t<span className=\"dataviews-field-control__icon\">\n\t\t\t\t\t{ ! canMove && ! field.enableHiding && (\n\t\t\t\t\t\t<Icon icon={ lock } />\n\t\t\t\t\t) }\n\t\t\t\t</span>\n\t\t\t\t<span className=\"dataviews-field-control__label-sub-label-container\">\n\t\t\t\t\t<span className=\"dataviews-field-control__label\">\n\t\t\t\t\t\t{ label || field.label }\n\t\t\t\t\t</span>\n\t\t\t\t\t{ description && (\n\t\t\t\t\t\t<span className=\"dataviews-field-control__sub-label\">\n\t\t\t\t\t\t\t{ description }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) }\n\t\t\t\t</span>\n\t\t\t\t<HStack\n\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\texpanded={ false }\n\t\t\t\t\tclassName=\"dataviews-field-control__actions\"\n\t\t\t\t>\n\t\t\t\t\t{ isVisible && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={ isFirst || ! canMove }\n\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\tonClick={ onMoveUp }\n\t\t\t\t\t\t\t\ticon={ chevronUp }\n\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\tisFirst || ! canMove\n\t\t\t\t\t\t\t\t\t\t? __( \"This field can't be moved up\" )\n\t\t\t\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: field label */\n\t\t\t\t\t\t\t\t\t\t\t\t__( 'Move %s up' ),\n\t\t\t\t\t\t\t\t\t\t\t\tfield.label\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={ isLast || ! canMove }\n\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\tonClick={ onMoveDown }\n\t\t\t\t\t\t\t\ticon={ chevronDown }\n\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\tisLast || ! canMove\n\t\t\t\t\t\t\t\t\t\t? __( \"This field can't be moved down\" )\n\t\t\t\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: field label */\n\t\t\t\t\t\t\t\t\t\t\t\t__( 'Move %s down' ),\n\t\t\t\t\t\t\t\t\t\t\t\tfield.label\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t{ onToggleVisibility && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"dataviews-field-control__field-visibility-button\"\n\t\t\t\t\t\t\tdisabled={ ! field.enableHiding }\n\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tonToggleVisibility();\n\t\t\t\t\t\t\t\tfocusVisibilityField();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\ticon={ isVisible ? unseen : seen }\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\tisVisible\n\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: field label */\n\t\t\t\t\t\t\t\t\t\t\t_x( 'Hide %s', 'field' ),\n\t\t\t\t\t\t\t\t\t\t\tfield.label\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: field label */\n\t\t\t\t\t\t\t\t\t\t\t_x( 'Show %s', 'field' ),\n\t\t\t\t\t\t\t\t\t\t\tfield.label\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ previewOptions && (\n\t\t\t\t\t\t<PreviewOptions\n\t\t\t\t\t\t\tpreviewOptions={ previewOptions }\n\t\t\t\t\t\t\tonChangePreviewOption={ onChangePreviewOption }\n\t\t\t\t\t\t\tonMenuOpenChange={ setIsChangingPreviewOption }\n\t\t\t\t\t\t\tactiveOption={ field.id }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</HStack>\n\t\t\t</HStack>\n\t\t</Item>\n\t);\n}\n\nfunction RegularFieldItem( {\n\tindex,\n\tfield,\n\tview,\n\tonChangeView,\n}: {\n\tindex?: number;\n\tfield: NormalizedField< any >;\n\tview: View;\n\tonChangeView: ( view: View ) => void;\n} ) {\n\tconst visibleFieldIds = view.fields ?? [];\n\tconst isVisible =\n\t\tindex !== undefined && visibleFieldIds.includes( field.id );\n\n\treturn (\n\t\t<FieldItem\n\t\t\tfield={ field }\n\t\t\tisVisible={ isVisible }\n\t\t\tisFirst={ index !== undefined && index < 1 }\n\t\t\tisLast={\n\t\t\t\tindex !== undefined && index === visibleFieldIds.length - 1\n\t\t\t}\n\t\t\tonToggleVisibility={ () => {\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tfields: isVisible\n\t\t\t\t\t\t? visibleFieldIds.filter(\n\t\t\t\t\t\t\t\t( fieldId ) => fieldId !== field.id\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: [ ...visibleFieldIds, field.id ],\n\t\t\t\t} );\n\t\t\t} }\n\t\t\tonMoveUp={\n\t\t\t\tindex !== undefined\n\t\t\t\t\t? () => {\n\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t...( visibleFieldIds.slice(\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tindex - 1\n\t\t\t\t\t\t\t\t\t) ?? [] ),\n\t\t\t\t\t\t\t\t\tfield.id,\n\t\t\t\t\t\t\t\t\tvisibleFieldIds[ index - 1 ],\n\t\t\t\t\t\t\t\t\t...visibleFieldIds.slice( index + 1 ),\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t  }\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\tonMoveDown={\n\t\t\t\tindex !== undefined\n\t\t\t\t\t? () => {\n\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t...( visibleFieldIds.slice( 0, index ) ??\n\t\t\t\t\t\t\t\t\t\t[] ),\n\t\t\t\t\t\t\t\t\tvisibleFieldIds[ index + 1 ],\n\t\t\t\t\t\t\t\t\tfield.id,\n\t\t\t\t\t\t\t\t\t...visibleFieldIds.slice( index + 2 ),\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t  }\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t/>\n\t);\n}\n\nfunction isDefined< T >( item: T | undefined ): item is T {\n\treturn !! item;\n}\n\nfunction FieldControl() {\n\tconst { view, fields, onChangeView } = useContext( DataViewsContext );\n\n\tconst togglableFields = [\n\t\tview?.titleField,\n\t\tview?.mediaField,\n\t\tview?.descriptionField,\n\t].filter( Boolean );\n\tconst visibleFieldIds = view.fields ?? [];\n\tconst hiddenFields = fields.filter(\n\t\t( f ) =>\n\t\t\t! visibleFieldIds.includes( f.id ) &&\n\t\t\t! togglableFields.includes( f.id ) &&\n\t\t\tf.type !== 'media'\n\t);\n\tconst visibleFields = visibleFieldIds\n\t\t.map( ( fieldId ) => fields.find( ( f ) => f.id === fieldId ) )\n\t\t.filter( isDefined );\n\n\tif ( ! visibleFields?.length && ! hiddenFields?.length ) {\n\t\treturn null;\n\t}\n\tconst titleField = fields.find( ( f ) => f.id === view.titleField );\n\tconst previewField = fields.find( ( f ) => f.id === view.mediaField );\n\tconst descriptionField = fields.find(\n\t\t( f ) => f.id === view.descriptionField\n\t);\n\n\tconst previewFields = fields.filter( ( f ) => f.type === 'media' );\n\n\tlet previewFieldUI;\n\tif ( previewFields.length > 1 ) {\n\t\tconst isPreviewFieldVisible =\n\t\t\tisDefined( previewField ) && ( view.showMedia ?? true );\n\t\tpreviewFieldUI = isDefined( previewField ) && (\n\t\t\t<FieldItem\n\t\t\t\tkey={ previewField.id }\n\t\t\t\tfield={ previewField }\n\t\t\t\tlabel={ __( 'Preview' ) }\n\t\t\t\tdescription={ previewField.label }\n\t\t\t\tisVisible={ isPreviewFieldVisible }\n\t\t\t\tonToggleVisibility={ () => {\n\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t...view,\n\t\t\t\t\t\tshowMedia: ! isPreviewFieldVisible,\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t\tcanMove={ false }\n\t\t\t\tpreviewOptions={ previewFields.map( ( field ) => ( {\n\t\t\t\t\tlabel: field.label,\n\t\t\t\t\tid: field.id,\n\t\t\t\t} ) ) }\n\t\t\t\tonChangePreviewOption={ ( newPreviewId ) =>\n\t\t\t\t\tonChangeView( { ...view, mediaField: newPreviewId } )\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t}\n\tconst lockedFields = [\n\t\t{\n\t\t\tfield: titleField,\n\t\t\tisVisibleFlag: 'showTitle',\n\t\t},\n\t\t{\n\t\t\tfield: previewField,\n\t\t\tisVisibleFlag: 'showMedia',\n\t\t\tui: previewFieldUI,\n\t\t},\n\t\t{\n\t\t\tfield: descriptionField,\n\t\t\tisVisibleFlag: 'showDescription',\n\t\t},\n\t].filter( ( { field } ) => isDefined( field ) );\n\tconst visibleLockedFields = lockedFields.filter(\n\t\t( { field, isVisibleFlag } ) =>\n\t\t\t// @ts-expect-error\n\t\t\tisDefined( field ) && ( view[ isVisibleFlag ] ?? true )\n\t) as Array< {\n\t\tfield: NormalizedField< any >;\n\t\tisVisibleFlag: string;\n\t\tui?: ReactNode;\n\t} >;\n\tconst hiddenLockedFields = lockedFields.filter(\n\t\t( { field, isVisibleFlag } ) =>\n\t\t\t// @ts-expect-error\n\t\t\tisDefined( field ) && ! ( view[ isVisibleFlag ] ?? true )\n\t) as Array< {\n\t\tfield: NormalizedField< any >;\n\t\tisVisibleFlag: string;\n\t\tui?: ReactNode;\n\t} >;\n\n\treturn (\n\t\t<VStack className=\"dataviews-field-control\" spacing={ 6 }>\n\t\t\t<VStack className=\"dataviews-view-config__properties\" spacing={ 0 }>\n\t\t\t\t{ ( visibleLockedFields.length > 0 ||\n\t\t\t\t\t!! visibleFields?.length ) && (\n\t\t\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t\t\t{ visibleLockedFields.map(\n\t\t\t\t\t\t\t( { field, isVisibleFlag, ui } ) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\tui ?? (\n\t\t\t\t\t\t\t\t\t\t<FieldItem\n\t\t\t\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\t\t\t\tisVisible\n\t\t\t\t\t\t\t\t\t\t\tonToggleVisibility={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t\t\t\t[ isVisibleFlag ]: false,\n\t\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\tcanMove={ false }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ visibleFields.map( ( field, index ) => (\n\t\t\t\t\t\t\t<RegularFieldItem\n\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\t\t\t\t\tindex={ index }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</ItemGroup>\n\t\t\t\t) }\n\t\t\t</VStack>\n\n\t\t\t{ ( !! hiddenFields?.length || !! hiddenLockedFields.length ) && (\n\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t<BaseControl.VisualLabel style={ { margin: 0 } }>\n\t\t\t\t\t\t{ __( 'Hidden' ) }\n\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t<VStack\n\t\t\t\t\t\tclassName=\"dataviews-view-config__properties\"\n\t\t\t\t\t\tspacing={ 0 }\n\t\t\t\t\t>\n\t\t\t\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t\t\t\t{ hiddenLockedFields.length > 0 &&\n\t\t\t\t\t\t\t\thiddenLockedFields.map(\n\t\t\t\t\t\t\t\t\t( { field, isVisibleFlag, ui } ) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\tui ?? (\n\t\t\t\t\t\t\t\t\t\t\t\t<FieldItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\t\t\t\t\t\tisVisible={ false }\n\t\t\t\t\t\t\t\t\t\t\t\t\tonToggleVisibility={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ isVisibleFlag ]:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t\tcanMove={ false }\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ hiddenFields.map( ( field ) => (\n\t\t\t\t\t\t\t\t<RegularFieldItem\n\t\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\t\tview={ view }\n\t\t\t\t\t\t\t\t\tonChangeView={ onChangeView }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t</VStack>\n\t\t\t\t</VStack>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n\nfunction SettingsSection( {\n\ttitle,\n\tdescription,\n\tchildren,\n}: {\n\ttitle: string;\n\tdescription?: string;\n\tchildren: React.ReactNode;\n} ) {\n\treturn (\n\t\t<Grid columns={ 12 } className=\"dataviews-settings-section\" gap={ 4 }>\n\t\t\t<div className=\"dataviews-settings-section__sidebar\">\n\t\t\t\t<Heading\n\t\t\t\t\tlevel={ 2 }\n\t\t\t\t\tclassName=\"dataviews-settings-section__title\"\n\t\t\t\t>\n\t\t\t\t\t{ title }\n\t\t\t\t</Heading>\n\t\t\t\t{ description && (\n\t\t\t\t\t<Text\n\t\t\t\t\t\tvariant=\"muted\"\n\t\t\t\t\t\tclassName=\"dataviews-settings-section__description\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ description }\n\t\t\t\t\t</Text>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t<Grid\n\t\t\t\tcolumns={ 8 }\n\t\t\t\tgap={ 4 }\n\t\t\t\tclassName=\"dataviews-settings-section__content\"\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\n\nfunction DataviewsViewConfigDropdown() {\n\tconst { view } = useContext( DataViewsContext );\n\tconst popoverId = useInstanceId(\n\t\t_DataViewsViewConfig,\n\t\t'dataviews-view-config-dropdown'\n\t);\n\tconst activeLayout = VIEW_LAYOUTS.find(\n\t\t( layout ) => layout.type === view.type\n\t);\n\treturn (\n\t\t<Dropdown\n\t\t\texpandOnMobile\n\t\t\tpopoverProps={ {\n\t\t\t\t...DATAVIEWS_CONFIG_POPOVER_PROPS,\n\t\t\t\tid: popoverId,\n\t\t\t} }\n\t\t\trenderToggle={ ( { onToggle, isOpen } ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\ticon={ cog }\n\t\t\t\t\t\tlabel={ _x( 'View options', 'View is used as a noun' ) }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\taria-expanded={ isOpen ? 'true' : 'false' }\n\t\t\t\t\t\taria-controls={ popoverId }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t\trenderContent={ () => (\n\t\t\t\t<DropdownContentWrapper\n\t\t\t\t\tpaddingSize=\"medium\"\n\t\t\t\t\tclassName=\"dataviews-config__popover-content-wrapper\"\n\t\t\t\t>\n\t\t\t\t\t<VStack className=\"dataviews-view-config\" spacing={ 6 }>\n\t\t\t\t\t\t<SettingsSection title={ __( 'Appearance' ) }>\n\t\t\t\t\t\t\t<HStack expanded className=\"is-divided-in-two\">\n\t\t\t\t\t\t\t\t<SortFieldControl />\n\t\t\t\t\t\t\t\t<SortDirectionControl />\n\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t{ !! activeLayout?.viewConfigOptions && (\n\t\t\t\t\t\t\t\t<activeLayout.viewConfigOptions />\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<ItemsPerPageControl />\n\t\t\t\t\t\t</SettingsSection>\n\t\t\t\t\t\t<SettingsSection title={ __( 'Properties' ) }>\n\t\t\t\t\t\t\t<FieldControl />\n\t\t\t\t\t\t</SettingsSection>\n\t\t\t\t\t</VStack>\n\t\t\t\t</DropdownContentWrapper>\n\t\t\t) }\n\t\t/>\n\t);\n}\n\nfunction _DataViewsViewConfig( {\n\tdefaultLayouts = { list: {}, grid: {}, table: {} },\n}: {\n\tdefaultLayouts?: SupportedLayouts;\n} ) {\n\treturn (\n\t\t<>\n\t\t\t<ViewTypeMenu defaultLayouts={ defaultLayouts } />\n\t\t\t<DataviewsViewConfigDropdown />\n\t\t</>\n\t);\n}\n\nconst DataViewsViewConfig = memo( _DataViewsViewConfig );\n\nexport default DataViewsViewConfig;\n"],"mappings":"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","ignoreList":[]}