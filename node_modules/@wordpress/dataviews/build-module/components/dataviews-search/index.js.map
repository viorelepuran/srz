{"version":3,"names":["__","useEffect","useRef","memo","useContext","SearchControl","useDebouncedInput","DataViewsContext","jsx","_jsx","DataViewsSearch","Search","label","view","onChangeView","search","setSearch","debouncedSearch","_view$search","onChangeViewRef","viewRef","current","page","searchLabel","className","__nextHasNoMarginBottom","onChange","value","placeholder","size"],"sources":["@wordpress/dataviews/src/components/dataviews-search/index.tsx"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useRef, memo, useContext } from '@wordpress/element';\nimport { SearchControl } from '@wordpress/components';\nimport { useDebouncedInput } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\n\ninterface SearchProps {\n\tlabel?: string;\n}\n\nconst DataViewsSearch = memo( function Search( { label }: SearchProps ) {\n\tconst { view, onChangeView } = useContext( DataViewsContext );\n\tconst [ search, setSearch, debouncedSearch ] = useDebouncedInput(\n\t\tview.search\n\t);\n\tuseEffect( () => {\n\t\tsetSearch( view.search ?? '' );\n\t}, [ view.search, setSearch ] );\n\tconst onChangeViewRef = useRef( onChangeView );\n\tconst viewRef = useRef( view );\n\tuseEffect( () => {\n\t\tonChangeViewRef.current = onChangeView;\n\t\tviewRef.current = view;\n\t}, [ onChangeView, view ] );\n\tuseEffect( () => {\n\t\tif ( debouncedSearch !== viewRef.current?.search ) {\n\t\t\tonChangeViewRef.current( {\n\t\t\t\t...viewRef.current,\n\t\t\t\tpage: 1,\n\t\t\t\tsearch: debouncedSearch,\n\t\t\t} );\n\t\t}\n\t}, [ debouncedSearch ] );\n\tconst searchLabel = label || __( 'Search' );\n\treturn (\n\t\t<SearchControl\n\t\t\tclassName=\"dataviews-search\"\n\t\t\t__nextHasNoMarginBottom\n\t\t\tonChange={ setSearch }\n\t\t\tvalue={ search }\n\t\t\tlabel={ searchLabel }\n\t\t\tplaceholder={ searchLabel }\n\t\t\tsize=\"compact\"\n\t\t/>\n\t);\n} );\n\nexport default DataViewsSearch;\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SAASC,SAAS,EAAEC,MAAM,EAAEC,IAAI,EAAEC,UAAU,QAAQ,oBAAoB;AACxE,SAASC,aAAa,QAAQ,uBAAuB;AACrD,SAASC,iBAAiB,QAAQ,oBAAoB;;AAEtD;AACA;AACA;AACA,OAAOC,gBAAgB,MAAM,sBAAsB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAMpD,MAAMC,eAAe,GAAGP,IAAI,CAAE,SAASQ,MAAMA,CAAE;EAAEC;AAAmB,CAAC,EAAG;EACvE,MAAM;IAAEC,IAAI;IAAEC;EAAa,CAAC,GAAGV,UAAU,CAAEG,gBAAiB,CAAC;EAC7D,MAAM,CAAEQ,MAAM,EAAEC,SAAS,EAAEC,eAAe,CAAE,GAAGX,iBAAiB,CAC/DO,IAAI,CAACE,MACN,CAAC;EACDd,SAAS,CAAE,MAAM;IAAA,IAAAiB,YAAA;IAChBF,SAAS,EAAAE,YAAA,GAAEL,IAAI,CAACE,MAAM,cAAAG,YAAA,cAAAA,YAAA,GAAI,EAAG,CAAC;EAC/B,CAAC,EAAE,CAAEL,IAAI,CAACE,MAAM,EAAEC,SAAS,CAAG,CAAC;EAC/B,MAAMG,eAAe,GAAGjB,MAAM,CAAEY,YAAa,CAAC;EAC9C,MAAMM,OAAO,GAAGlB,MAAM,CAAEW,IAAK,CAAC;EAC9BZ,SAAS,CAAE,MAAM;IAChBkB,eAAe,CAACE,OAAO,GAAGP,YAAY;IACtCM,OAAO,CAACC,OAAO,GAAGR,IAAI;EACvB,CAAC,EAAE,CAAEC,YAAY,EAAED,IAAI,CAAG,CAAC;EAC3BZ,SAAS,CAAE,MAAM;IAChB,IAAKgB,eAAe,KAAKG,OAAO,CAACC,OAAO,EAAEN,MAAM,EAAG;MAClDI,eAAe,CAACE,OAAO,CAAE;QACxB,GAAGD,OAAO,CAACC,OAAO;QAClBC,IAAI,EAAE,CAAC;QACPP,MAAM,EAAEE;MACT,CAAE,CAAC;IACJ;EACD,CAAC,EAAE,CAAEA,eAAe,CAAG,CAAC;EACxB,MAAMM,WAAW,GAAGX,KAAK,IAAIZ,EAAE,CAAE,QAAS,CAAC;EAC3C,oBACCS,IAAA,CAACJ,aAAa;IACbmB,SAAS,EAAC,kBAAkB;IAC5BC,uBAAuB;IACvBC,QAAQ,EAAGV,SAAW;IACtBW,KAAK,EAAGZ,MAAQ;IAChBH,KAAK,EAAGW,WAAa;IACrBK,WAAW,EAAGL,WAAa;IAC3BM,IAAI,EAAC;EAAS,CACd,CAAC;AAEJ,CAAE,CAAC;AAEH,eAAenB,eAAe","ignoreList":[]}