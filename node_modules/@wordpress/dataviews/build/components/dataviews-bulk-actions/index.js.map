{"version":3,"names":["_components","require","_i18n","_element","_data","_icons","_dataviewsContext","_interopRequireDefault","_dataviewsItemActions","_jsxRuntime","ActionWithModal","action","items","ActionTriggerComponent","isModalOpen","setIsModalOpen","useState","actionTriggerProps","onClick","jsxs","Fragment","children","jsx","ActionModal","closeModal","useHasAPossibleBulkAction","actions","item","useMemo","some","supportsBulk","isEligible","useSomeItemHasAPossibleBulkAction","data","BulkSelectionCheckbox","selection","onChangeSelection","getItemId","selectableItems","filter","selectedItems","includes","areAllSelected","length","CheckboxControl","className","__nextHasNoMarginBottom","checked","indeterminate","onChange","map","__","ActionTrigger","isBusy","label","Button","disabled","accessibleWhenDisabled","icon","isDestructive","size","tooltipPosition","EMPTY_ARRAY","ActionButton","actionInProgress","setActionInProgress","registry","useRegistry","selectedEligibleItems","id","callback","renderFooterContent","actionsToShow","message","sprintf","_n","__experimentalHStack","expanded","spacing","closeSmall","showTooltip","FooterContent","footerContentRef","useRef","bulkActions","current","BulkActionsFooter","useContext","DataViewsContext"],"sources":["@wordpress/dataviews/src/components/dataviews-bulk-actions/index.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport type { ReactElement } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tCheckboxControl,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { __, sprintf, _n } from '@wordpress/i18n';\nimport { useMemo, useState, useRef, useContext } from '@wordpress/element';\nimport { useRegistry } from '@wordpress/data';\nimport { closeSmall } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport DataViewsContext from '../dataviews-context';\nimport { ActionModal } from '../dataviews-item-actions';\nimport type { Action, ActionModal as ActionModalType } from '../../types';\nimport type { SetSelection } from '../../private-types';\nimport type { ActionTriggerProps } from '../dataviews-item-actions';\n\ninterface ActionWithModalProps< Item > {\n\taction: ActionModalType< Item >;\n\titems: Item[];\n\tActionTriggerComponent: (\n\t\tprops: ActionTriggerProps< Item >\n\t) => ReactElement;\n}\n\nfunction ActionWithModal< Item >( {\n\taction,\n\titems,\n\tActionTriggerComponent,\n}: ActionWithModalProps< Item > ) {\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst actionTriggerProps = {\n\t\taction,\n\t\tonClick: () => {\n\t\t\tsetIsModalOpen( true );\n\t\t},\n\t\titems,\n\t};\n\treturn (\n\t\t<>\n\t\t\t<ActionTriggerComponent { ...actionTriggerProps } />\n\t\t\t{ isModalOpen && (\n\t\t\t\t<ActionModal\n\t\t\t\t\taction={ action }\n\t\t\t\t\titems={ items }\n\t\t\t\t\tcloseModal={ () => setIsModalOpen( false ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport function useHasAPossibleBulkAction< Item >(\n\tactions: Action< Item >[],\n\titem: Item\n) {\n\treturn useMemo( () => {\n\t\treturn actions.some( ( action ) => {\n\t\t\treturn (\n\t\t\t\taction.supportsBulk &&\n\t\t\t\t( ! action.isEligible || action.isEligible( item ) )\n\t\t\t);\n\t\t} );\n\t}, [ actions, item ] );\n}\n\nexport function useSomeItemHasAPossibleBulkAction< Item >(\n\tactions: Action< Item >[],\n\tdata: Item[]\n) {\n\treturn useMemo( () => {\n\t\treturn data.some( ( item ) => {\n\t\t\treturn actions.some( ( action ) => {\n\t\t\t\treturn (\n\t\t\t\t\taction.supportsBulk &&\n\t\t\t\t\t( ! action.isEligible || action.isEligible( item ) )\n\t\t\t\t);\n\t\t\t} );\n\t\t} );\n\t}, [ actions, data ] );\n}\n\ninterface BulkSelectionCheckboxProps< Item > {\n\tselection: string[];\n\tonChangeSelection: SetSelection;\n\tdata: Item[];\n\tactions: Action< Item >[];\n\tgetItemId: ( item: Item ) => string;\n}\n\nexport function BulkSelectionCheckbox< Item >( {\n\tselection,\n\tonChangeSelection,\n\tdata,\n\tactions,\n\tgetItemId,\n}: BulkSelectionCheckboxProps< Item > ) {\n\tconst selectableItems = useMemo( () => {\n\t\treturn data.filter( ( item ) => {\n\t\t\treturn actions.some(\n\t\t\t\t( action ) =>\n\t\t\t\t\taction.supportsBulk &&\n\t\t\t\t\t( ! action.isEligible || action.isEligible( item ) )\n\t\t\t);\n\t\t} );\n\t}, [ data, actions ] );\n\tconst selectedItems = data.filter(\n\t\t( item ) =>\n\t\t\tselection.includes( getItemId( item ) ) &&\n\t\t\tselectableItems.includes( item )\n\t);\n\tconst areAllSelected = selectedItems.length === selectableItems.length;\n\treturn (\n\t\t<CheckboxControl\n\t\t\tclassName=\"dataviews-view-table-selection-checkbox\"\n\t\t\t__nextHasNoMarginBottom\n\t\t\tchecked={ areAllSelected }\n\t\t\tindeterminate={ ! areAllSelected && !! selectedItems.length }\n\t\t\tonChange={ () => {\n\t\t\t\tif ( areAllSelected ) {\n\t\t\t\t\tonChangeSelection( [] );\n\t\t\t\t} else {\n\t\t\t\t\tonChangeSelection(\n\t\t\t\t\t\tselectableItems.map( ( item ) => getItemId( item ) )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} }\n\t\t\taria-label={\n\t\t\t\tareAllSelected ? __( 'Deselect all' ) : __( 'Select all' )\n\t\t\t}\n\t\t/>\n\t);\n}\n\ninterface ActionButtonProps< Item > {\n\taction: Action< Item >;\n\tselectedItems: Item[];\n\tactionInProgress: string | null;\n\tsetActionInProgress: ( actionId: string | null ) => void;\n}\n\ninterface ToolbarContentProps< Item > {\n\tselection: string[];\n\tonChangeSelection: SetSelection;\n\tdata: Item[];\n\tactions: Action< Item >[];\n\tgetItemId: ( item: Item ) => string;\n}\n\nfunction ActionTrigger< Item >( {\n\taction,\n\tonClick,\n\tisBusy,\n\titems,\n}: ActionTriggerProps< Item > ) {\n\tconst label =\n\t\ttypeof action.label === 'string' ? action.label : action.label( items );\n\treturn (\n\t\t<Button\n\t\t\tdisabled={ isBusy }\n\t\t\taccessibleWhenDisabled\n\t\t\tlabel={ label }\n\t\t\ticon={ action.icon }\n\t\t\tisDestructive={ action.isDestructive }\n\t\t\tsize=\"compact\"\n\t\t\tonClick={ onClick }\n\t\t\tisBusy={ isBusy }\n\t\t\ttooltipPosition=\"top\"\n\t\t/>\n\t);\n}\n\nconst EMPTY_ARRAY: [] = [];\n\nfunction ActionButton< Item >( {\n\taction,\n\tselectedItems,\n\tactionInProgress,\n\tsetActionInProgress,\n}: ActionButtonProps< Item > ) {\n\tconst registry = useRegistry();\n\tconst selectedEligibleItems = useMemo( () => {\n\t\treturn selectedItems.filter( ( item ) => {\n\t\t\treturn ! action.isEligible || action.isEligible( item );\n\t\t} );\n\t}, [ action, selectedItems ] );\n\tif ( 'RenderModal' in action ) {\n\t\treturn (\n\t\t\t<ActionWithModal\n\t\t\t\tkey={ action.id }\n\t\t\t\taction={ action }\n\t\t\t\titems={ selectedEligibleItems }\n\t\t\t\tActionTriggerComponent={ ActionTrigger }\n\t\t\t/>\n\t\t);\n\t}\n\treturn (\n\t\t<ActionTrigger\n\t\t\tkey={ action.id }\n\t\t\taction={ action }\n\t\t\tonClick={ async () => {\n\t\t\t\tsetActionInProgress( action.id );\n\t\t\t\tawait action.callback( selectedItems, {\n\t\t\t\t\tregistry,\n\t\t\t\t} );\n\t\t\t\tsetActionInProgress( null );\n\t\t\t} }\n\t\t\titems={ selectedEligibleItems }\n\t\t\tisBusy={ actionInProgress === action.id }\n\t\t/>\n\t);\n}\n\nfunction renderFooterContent< Item >(\n\tdata: Item[],\n\tactions: Action< Item >[],\n\tgetItemId: ( item: Item ) => string,\n\tselection: string[],\n\tactionsToShow: Action< Item >[],\n\tselectedItems: Item[],\n\tactionInProgress: string | null,\n\tsetActionInProgress: ( actionId: string | null ) => void,\n\tonChangeSelection: SetSelection\n) {\n\tconst message =\n\t\tselectedItems.length > 0\n\t\t\t? sprintf(\n\t\t\t\t\t/* translators: %d: number of items. */\n\t\t\t\t\t_n(\n\t\t\t\t\t\t'%d Item selected',\n\t\t\t\t\t\t'%d Items selected',\n\t\t\t\t\t\tselectedItems.length\n\t\t\t\t\t),\n\t\t\t\t\tselectedItems.length\n\t\t\t  )\n\t\t\t: sprintf(\n\t\t\t\t\t/* translators: %d: number of items. */\n\t\t\t\t\t_n( '%d Item', '%d Items', data.length ),\n\t\t\t\t\tdata.length\n\t\t\t  );\n\treturn (\n\t\t<HStack\n\t\t\texpanded={ false }\n\t\t\tclassName=\"dataviews-bulk-actions-footer__container\"\n\t\t\tspacing={ 3 }\n\t\t>\n\t\t\t<BulkSelectionCheckbox\n\t\t\t\tselection={ selection }\n\t\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\t\tdata={ data }\n\t\t\t\tactions={ actions }\n\t\t\t\tgetItemId={ getItemId }\n\t\t\t/>\n\t\t\t<span className=\"dataviews-bulk-actions-footer__item-count\">\n\t\t\t\t{ message }\n\t\t\t</span>\n\t\t\t<HStack\n\t\t\t\tclassName=\"dataviews-bulk-actions-footer__action-buttons\"\n\t\t\t\texpanded={ false }\n\t\t\t\tspacing={ 1 }\n\t\t\t>\n\t\t\t\t{ actionsToShow.map( ( action ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ActionButton\n\t\t\t\t\t\t\tkey={ action.id }\n\t\t\t\t\t\t\taction={ action }\n\t\t\t\t\t\t\tselectedItems={ selectedItems }\n\t\t\t\t\t\t\tactionInProgress={ actionInProgress }\n\t\t\t\t\t\t\tsetActionInProgress={ setActionInProgress }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t\t{ selectedItems.length > 0 && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\ttooltipPosition=\"top\"\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tlabel={ __( 'Cancel' ) }\n\t\t\t\t\t\tdisabled={ !! actionInProgress }\n\t\t\t\t\t\taccessibleWhenDisabled={ false }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tonChangeSelection( EMPTY_ARRAY );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</HStack>\n\t\t</HStack>\n\t);\n}\n\nfunction FooterContent< Item >( {\n\tselection,\n\tactions,\n\tonChangeSelection,\n\tdata,\n\tgetItemId,\n}: ToolbarContentProps< Item > ) {\n\tconst [ actionInProgress, setActionInProgress ] = useState< string | null >(\n\t\tnull\n\t);\n\tconst footerContentRef = useRef< JSX.Element | null >( null );\n\n\tconst bulkActions = useMemo(\n\t\t() => actions.filter( ( action ) => action.supportsBulk ),\n\t\t[ actions ]\n\t);\n\tconst selectableItems = useMemo( () => {\n\t\treturn data.filter( ( item ) => {\n\t\t\treturn bulkActions.some(\n\t\t\t\t( action ) => ! action.isEligible || action.isEligible( item )\n\t\t\t);\n\t\t} );\n\t}, [ data, bulkActions ] );\n\n\tconst selectedItems = useMemo( () => {\n\t\treturn data.filter(\n\t\t\t( item ) =>\n\t\t\t\tselection.includes( getItemId( item ) ) &&\n\t\t\t\tselectableItems.includes( item )\n\t\t);\n\t}, [ selection, data, getItemId, selectableItems ] );\n\n\tconst actionsToShow = useMemo(\n\t\t() =>\n\t\t\tactions.filter( ( action ) => {\n\t\t\t\treturn (\n\t\t\t\t\taction.supportsBulk &&\n\t\t\t\t\taction.icon &&\n\t\t\t\t\tselectedItems.some(\n\t\t\t\t\t\t( item ) =>\n\t\t\t\t\t\t\t! action.isEligible || action.isEligible( item )\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} ),\n\t\t[ actions, selectedItems ]\n\t);\n\tif ( ! actionInProgress ) {\n\t\tif ( footerContentRef.current ) {\n\t\t\tfooterContentRef.current = null;\n\t\t}\n\t\treturn renderFooterContent(\n\t\t\tdata,\n\t\t\tactions,\n\t\t\tgetItemId,\n\t\t\tselection,\n\t\t\tactionsToShow,\n\t\t\tselectedItems,\n\t\t\tactionInProgress,\n\t\t\tsetActionInProgress,\n\t\t\tonChangeSelection\n\t\t);\n\t} else if ( ! footerContentRef.current ) {\n\t\tfooterContentRef.current = renderFooterContent(\n\t\t\tdata,\n\t\t\tactions,\n\t\t\tgetItemId,\n\t\t\tselection,\n\t\t\tactionsToShow,\n\t\t\tselectedItems,\n\t\t\tactionInProgress,\n\t\t\tsetActionInProgress,\n\t\t\tonChangeSelection\n\t\t);\n\t}\n\treturn footerContentRef.current;\n}\n\nexport function BulkActionsFooter() {\n\tconst {\n\t\tdata,\n\t\tselection,\n\t\tactions = EMPTY_ARRAY,\n\t\tonChangeSelection,\n\t\tgetItemId,\n\t} = useContext( DataViewsContext );\n\treturn (\n\t\t<FooterContent\n\t\t\tselection={ selection }\n\t\t\tonChangeSelection={ onChangeSelection }\n\t\t\tdata={ data }\n\t\t\tactions={ actions }\n\t\t\tgetItemId={ getItemId }\n\t\t/>\n\t);\n}\n"],"mappings":";;;;;;;;;;AAQA,IAAAA,WAAA,GAAAC,OAAA;AAKA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AACA,IAAAG,KAAA,GAAAH,OAAA;AACA,IAAAI,MAAA,GAAAJ,OAAA;AAKA,IAAAK,iBAAA,GAAAC,sBAAA,CAAAN,OAAA;AACA,IAAAO,qBAAA,GAAAP,OAAA;AAAwD,IAAAQ,WAAA,GAAAR,OAAA;AAtBxD;AACA;AACA;;AAGA;AACA;AACA;;AAWA;AACA;AACA;;AAeA,SAASS,eAAeA,CAAU;EACjCC,MAAM;EACNC,KAAK;EACLC;AAC6B,CAAC,EAAG;EACjC,MAAM,CAAEC,WAAW,EAAEC,cAAc,CAAE,GAAG,IAAAC,iBAAQ,EAAE,KAAM,CAAC;EACzD,MAAMC,kBAAkB,GAAG;IAC1BN,MAAM;IACNO,OAAO,EAAEA,CAAA,KAAM;MACdH,cAAc,CAAE,IAAK,CAAC;IACvB,CAAC;IACDH;EACD,CAAC;EACD,oBACC,IAAAH,WAAA,CAAAU,IAAA,EAAAV,WAAA,CAAAW,QAAA;IAAAC,QAAA,gBACC,IAAAZ,WAAA,CAAAa,GAAA,EAACT,sBAAsB;MAAA,GAAMI;IAAkB,CAAI,CAAC,EAClDH,WAAW,iBACZ,IAAAL,WAAA,CAAAa,GAAA,EAACd,qBAAA,CAAAe,WAAW;MACXZ,MAAM,EAAGA,MAAQ;MACjBC,KAAK,EAAGA,KAAO;MACfY,UAAU,EAAGA,CAAA,KAAMT,cAAc,CAAE,KAAM;IAAG,CAC5C,CACD;EAAA,CACA,CAAC;AAEL;AAEO,SAASU,yBAAyBA,CACxCC,OAAyB,EACzBC,IAAU,EACT;EACD,OAAO,IAAAC,gBAAO,EAAE,MAAM;IACrB,OAAOF,OAAO,CAACG,IAAI,CAAIlB,MAAM,IAAM;MAClC,OACCA,MAAM,CAACmB,YAAY,KACjB,CAAEnB,MAAM,CAACoB,UAAU,IAAIpB,MAAM,CAACoB,UAAU,CAAEJ,IAAK,CAAC,CAAE;IAEtD,CAAE,CAAC;EACJ,CAAC,EAAE,CAAED,OAAO,EAAEC,IAAI,CAAG,CAAC;AACvB;AAEO,SAASK,iCAAiCA,CAChDN,OAAyB,EACzBO,IAAY,EACX;EACD,OAAO,IAAAL,gBAAO,EAAE,MAAM;IACrB,OAAOK,IAAI,CAACJ,IAAI,CAAIF,IAAI,IAAM;MAC7B,OAAOD,OAAO,CAACG,IAAI,CAAIlB,MAAM,IAAM;QAClC,OACCA,MAAM,CAACmB,YAAY,KACjB,CAAEnB,MAAM,CAACoB,UAAU,IAAIpB,MAAM,CAACoB,UAAU,CAAEJ,IAAK,CAAC,CAAE;MAEtD,CAAE,CAAC;IACJ,CAAE,CAAC;EACJ,CAAC,EAAE,CAAED,OAAO,EAAEO,IAAI,CAAG,CAAC;AACvB;AAUO,SAASC,qBAAqBA,CAAU;EAC9CC,SAAS;EACTC,iBAAiB;EACjBH,IAAI;EACJP,OAAO;EACPW;AACmC,CAAC,EAAG;EACvC,MAAMC,eAAe,GAAG,IAAAV,gBAAO,EAAE,MAAM;IACtC,OAAOK,IAAI,CAACM,MAAM,CAAIZ,IAAI,IAAM;MAC/B,OAAOD,OAAO,CAACG,IAAI,CAChBlB,MAAM,IACPA,MAAM,CAACmB,YAAY,KACjB,CAAEnB,MAAM,CAACoB,UAAU,IAAIpB,MAAM,CAACoB,UAAU,CAAEJ,IAAK,CAAC,CACpD,CAAC;IACF,CAAE,CAAC;EACJ,CAAC,EAAE,CAAEM,IAAI,EAAEP,OAAO,CAAG,CAAC;EACtB,MAAMc,aAAa,GAAGP,IAAI,CAACM,MAAM,CAC9BZ,IAAI,IACLQ,SAAS,CAACM,QAAQ,CAAEJ,SAAS,CAAEV,IAAK,CAAE,CAAC,IACvCW,eAAe,CAACG,QAAQ,CAAEd,IAAK,CACjC,CAAC;EACD,MAAMe,cAAc,GAAGF,aAAa,CAACG,MAAM,KAAKL,eAAe,CAACK,MAAM;EACtE,oBACC,IAAAlC,WAAA,CAAAa,GAAA,EAACtB,WAAA,CAAA4C,eAAe;IACfC,SAAS,EAAC,yCAAyC;IACnDC,uBAAuB;IACvBC,OAAO,EAAGL,cAAgB;IAC1BM,aAAa,EAAG,CAAEN,cAAc,IAAI,CAAC,CAAEF,aAAa,CAACG,MAAQ;IAC7DM,QAAQ,EAAGA,CAAA,KAAM;MAChB,IAAKP,cAAc,EAAG;QACrBN,iBAAiB,CAAE,EAAG,CAAC;MACxB,CAAC,MAAM;QACNA,iBAAiB,CAChBE,eAAe,CAACY,GAAG,CAAIvB,IAAI,IAAMU,SAAS,CAAEV,IAAK,CAAE,CACpD,CAAC;MACF;IACD,CAAG;IACH,cACCe,cAAc,GAAG,IAAAS,QAAE,EAAE,cAAe,CAAC,GAAG,IAAAA,QAAE,EAAE,YAAa;EACzD,CACD,CAAC;AAEJ;AAiBA,SAASC,aAAaA,CAAU;EAC/BzC,MAAM;EACNO,OAAO;EACPmC,MAAM;EACNzC;AAC2B,CAAC,EAAG;EAC/B,MAAM0C,KAAK,GACV,OAAO3C,MAAM,CAAC2C,KAAK,KAAK,QAAQ,GAAG3C,MAAM,CAAC2C,KAAK,GAAG3C,MAAM,CAAC2C,KAAK,CAAE1C,KAAM,CAAC;EACxE,oBACC,IAAAH,WAAA,CAAAa,GAAA,EAACtB,WAAA,CAAAuD,MAAM;IACNC,QAAQ,EAAGH,MAAQ;IACnBI,sBAAsB;IACtBH,KAAK,EAAGA,KAAO;IACfI,IAAI,EAAG/C,MAAM,CAAC+C,IAAM;IACpBC,aAAa,EAAGhD,MAAM,CAACgD,aAAe;IACtCC,IAAI,EAAC,SAAS;IACd1C,OAAO,EAAGA,OAAS;IACnBmC,MAAM,EAAGA,MAAQ;IACjBQ,eAAe,EAAC;EAAK,CACrB,CAAC;AAEJ;AAEA,MAAMC,WAAe,GAAG,EAAE;AAE1B,SAASC,YAAYA,CAAU;EAC9BpD,MAAM;EACN6B,aAAa;EACbwB,gBAAgB;EAChBC;AAC0B,CAAC,EAAG;EAC9B,MAAMC,QAAQ,GAAG,IAAAC,iBAAW,EAAC,CAAC;EAC9B,MAAMC,qBAAqB,GAAG,IAAAxC,gBAAO,EAAE,MAAM;IAC5C,OAAOY,aAAa,CAACD,MAAM,CAAIZ,IAAI,IAAM;MACxC,OAAO,CAAEhB,MAAM,CAACoB,UAAU,IAAIpB,MAAM,CAACoB,UAAU,CAAEJ,IAAK,CAAC;IACxD,CAAE,CAAC;EACJ,CAAC,EAAE,CAAEhB,MAAM,EAAE6B,aAAa,CAAG,CAAC;EAC9B,IAAK,aAAa,IAAI7B,MAAM,EAAG;IAC9B,oBACC,IAAAF,WAAA,CAAAa,GAAA,EAACZ,eAAe;MAEfC,MAAM,EAAGA,MAAQ;MACjBC,KAAK,EAAGwD,qBAAuB;MAC/BvD,sBAAsB,EAAGuC;IAAe,GAHlCzC,MAAM,CAAC0D,EAIb,CAAC;EAEJ;EACA,oBACC,IAAA5D,WAAA,CAAAa,GAAA,EAAC8B,aAAa;IAEbzC,MAAM,EAAGA,MAAQ;IACjBO,OAAO,EAAG,MAAAA,CAAA,KAAY;MACrB+C,mBAAmB,CAAEtD,MAAM,CAAC0D,EAAG,CAAC;MAChC,MAAM1D,MAAM,CAAC2D,QAAQ,CAAE9B,aAAa,EAAE;QACrC0B;MACD,CAAE,CAAC;MACHD,mBAAmB,CAAE,IAAK,CAAC;IAC5B,CAAG;IACHrD,KAAK,EAAGwD,qBAAuB;IAC/Bf,MAAM,EAAGW,gBAAgB,KAAKrD,MAAM,CAAC0D;EAAI,GAVnC1D,MAAM,CAAC0D,EAWb,CAAC;AAEJ;AAEA,SAASE,mBAAmBA,CAC3BtC,IAAY,EACZP,OAAyB,EACzBW,SAAmC,EACnCF,SAAmB,EACnBqC,aAA+B,EAC/BhC,aAAqB,EACrBwB,gBAA+B,EAC/BC,mBAAwD,EACxD7B,iBAA+B,EAC9B;EACD,MAAMqC,OAAO,GACZjC,aAAa,CAACG,MAAM,GAAG,CAAC,GACrB,IAAA+B,aAAO,EACP;EACA,IAAAC,QAAE,EACD,kBAAkB,EAClB,mBAAmB,EACnBnC,aAAa,CAACG,MACf,CAAC,EACDH,aAAa,CAACG,MACd,CAAC,GACD,IAAA+B,aAAO,EACP;EACA,IAAAC,QAAE,EAAE,SAAS,EAAE,UAAU,EAAE1C,IAAI,CAACU,MAAO,CAAC,EACxCV,IAAI,CAACU,MACL,CAAC;EACL,oBACC,IAAAlC,WAAA,CAAAU,IAAA,EAACnB,WAAA,CAAA4E,oBAAM;IACNC,QAAQ,EAAG,KAAO;IAClBhC,SAAS,EAAC,0CAA0C;IACpDiC,OAAO,EAAG,CAAG;IAAAzD,QAAA,gBAEb,IAAAZ,WAAA,CAAAa,GAAA,EAACY,qBAAqB;MACrBC,SAAS,EAAGA,SAAW;MACvBC,iBAAiB,EAAGA,iBAAmB;MACvCH,IAAI,EAAGA,IAAM;MACbP,OAAO,EAAGA,OAAS;MACnBW,SAAS,EAAGA;IAAW,CACvB,CAAC,eACF,IAAA5B,WAAA,CAAAa,GAAA;MAAMuB,SAAS,EAAC,2CAA2C;MAAAxB,QAAA,EACxDoD;IAAO,CACJ,CAAC,eACP,IAAAhE,WAAA,CAAAU,IAAA,EAACnB,WAAA,CAAA4E,oBAAM;MACN/B,SAAS,EAAC,+CAA+C;MACzDgC,QAAQ,EAAG,KAAO;MAClBC,OAAO,EAAG,CAAG;MAAAzD,QAAA,GAEXmD,aAAa,CAACtB,GAAG,CAAIvC,MAAM,IAAM;QAClC,oBACC,IAAAF,WAAA,CAAAa,GAAA,EAACyC,YAAY;UAEZpD,MAAM,EAAGA,MAAQ;UACjB6B,aAAa,EAAGA,aAAe;UAC/BwB,gBAAgB,EAAGA,gBAAkB;UACrCC,mBAAmB,EAAGA;QAAqB,GAJrCtD,MAAM,CAAC0D,EAKb,CAAC;MAEJ,CAAE,CAAC,EACD7B,aAAa,CAACG,MAAM,GAAG,CAAC,iBACzB,IAAAlC,WAAA,CAAAa,GAAA,EAACtB,WAAA,CAAAuD,MAAM;QACNG,IAAI,EAAGqB,iBAAY;QACnBC,WAAW;QACXnB,eAAe,EAAC,KAAK;QACrBD,IAAI,EAAC,SAAS;QACdN,KAAK,EAAG,IAAAH,QAAE,EAAE,QAAS,CAAG;QACxBK,QAAQ,EAAG,CAAC,CAAEQ,gBAAkB;QAChCP,sBAAsB,EAAG,KAAO;QAChCvC,OAAO,EAAGA,CAAA,KAAM;UACfkB,iBAAiB,CAAE0B,WAAY,CAAC;QACjC;MAAG,CACH,CACD;IAAA,CACM,CAAC;EAAA,CACF,CAAC;AAEX;AAEA,SAASmB,aAAaA,CAAU;EAC/B9C,SAAS;EACTT,OAAO;EACPU,iBAAiB;EACjBH,IAAI;EACJI;AAC4B,CAAC,EAAG;EAChC,MAAM,CAAE2B,gBAAgB,EAAEC,mBAAmB,CAAE,GAAG,IAAAjD,iBAAQ,EACzD,IACD,CAAC;EACD,MAAMkE,gBAAgB,GAAG,IAAAC,eAAM,EAAwB,IAAK,CAAC;EAE7D,MAAMC,WAAW,GAAG,IAAAxD,gBAAO,EAC1B,MAAMF,OAAO,CAACa,MAAM,CAAI5B,MAAM,IAAMA,MAAM,CAACmB,YAAa,CAAC,EACzD,CAAEJ,OAAO,CACV,CAAC;EACD,MAAMY,eAAe,GAAG,IAAAV,gBAAO,EAAE,MAAM;IACtC,OAAOK,IAAI,CAACM,MAAM,CAAIZ,IAAI,IAAM;MAC/B,OAAOyD,WAAW,CAACvD,IAAI,CACpBlB,MAAM,IAAM,CAAEA,MAAM,CAACoB,UAAU,IAAIpB,MAAM,CAACoB,UAAU,CAAEJ,IAAK,CAC9D,CAAC;IACF,CAAE,CAAC;EACJ,CAAC,EAAE,CAAEM,IAAI,EAAEmD,WAAW,CAAG,CAAC;EAE1B,MAAM5C,aAAa,GAAG,IAAAZ,gBAAO,EAAE,MAAM;IACpC,OAAOK,IAAI,CAACM,MAAM,CACfZ,IAAI,IACLQ,SAAS,CAACM,QAAQ,CAAEJ,SAAS,CAAEV,IAAK,CAAE,CAAC,IACvCW,eAAe,CAACG,QAAQ,CAAEd,IAAK,CACjC,CAAC;EACF,CAAC,EAAE,CAAEQ,SAAS,EAAEF,IAAI,EAAEI,SAAS,EAAEC,eAAe,CAAG,CAAC;EAEpD,MAAMkC,aAAa,GAAG,IAAA5C,gBAAO,EAC5B,MACCF,OAAO,CAACa,MAAM,CAAI5B,MAAM,IAAM;IAC7B,OACCA,MAAM,CAACmB,YAAY,IACnBnB,MAAM,CAAC+C,IAAI,IACXlB,aAAa,CAACX,IAAI,CACfF,IAAI,IACL,CAAEhB,MAAM,CAACoB,UAAU,IAAIpB,MAAM,CAACoB,UAAU,CAAEJ,IAAK,CACjD,CAAC;EAEH,CAAE,CAAC,EACJ,CAAED,OAAO,EAAEc,aAAa,CACzB,CAAC;EACD,IAAK,CAAEwB,gBAAgB,EAAG;IACzB,IAAKkB,gBAAgB,CAACG,OAAO,EAAG;MAC/BH,gBAAgB,CAACG,OAAO,GAAG,IAAI;IAChC;IACA,OAAOd,mBAAmB,CACzBtC,IAAI,EACJP,OAAO,EACPW,SAAS,EACTF,SAAS,EACTqC,aAAa,EACbhC,aAAa,EACbwB,gBAAgB,EAChBC,mBAAmB,EACnB7B,iBACD,CAAC;EACF,CAAC,MAAM,IAAK,CAAE8C,gBAAgB,CAACG,OAAO,EAAG;IACxCH,gBAAgB,CAACG,OAAO,GAAGd,mBAAmB,CAC7CtC,IAAI,EACJP,OAAO,EACPW,SAAS,EACTF,SAAS,EACTqC,aAAa,EACbhC,aAAa,EACbwB,gBAAgB,EAChBC,mBAAmB,EACnB7B,iBACD,CAAC;EACF;EACA,OAAO8C,gBAAgB,CAACG,OAAO;AAChC;AAEO,SAASC,iBAAiBA,CAAA,EAAG;EACnC,MAAM;IACLrD,IAAI;IACJE,SAAS;IACTT,OAAO,GAAGoC,WAAW;IACrB1B,iBAAiB;IACjBC;EACD,CAAC,GAAG,IAAAkD,mBAAU,EAAEC,yBAAiB,CAAC;EAClC,oBACC,IAAA/E,WAAA,CAAAa,GAAA,EAAC2D,aAAa;IACb9C,SAAS,EAAGA,SAAW;IACvBC,iBAAiB,EAAGA,iBAAmB;IACvCH,IAAI,EAAGA,IAAM;IACbP,OAAO,EAAGA,OAAS;IACnBW,SAAS,EAAGA;EAAW,CACvB,CAAC;AAEJ","ignoreList":[]}