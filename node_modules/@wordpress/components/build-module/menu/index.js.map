{"version":3,"names":["Ariakit","useContext","useMemo","isRTL","isRTLFn","useContextSystem","contextConnectWithoutRef","Context","Item","CheckboxItem","RadioItem","Group","GroupLabel","Separator","ItemLabel","ItemHelpText","TriggerButton","SubmenuTriggerItem","Popover","jsx","_jsx","UnconnectedMenu","props","children","defaultOpen","open","onOpenChange","placement","variant","parentContext","rtl","computedPlacement","store","test","replace","menuStore","useMenuStore","parent","focusLoop","setOpen","willBeOpen","contextValue","Provider","value","Menu","Object","assign","displayName"],"sources":["@wordpress/components/src/menu/index.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport * as Ariakit from '@ariakit/react';\n\n/**\n * WordPress dependencies\n */\nimport { useContext, useMemo } from '@wordpress/element';\nimport { isRTL as isRTLFn } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useContextSystem, contextConnectWithoutRef } from '../context';\nimport type { ContextProps, Props } from './types';\nimport { Context } from './context';\nimport { Item } from './item';\nimport { CheckboxItem } from './checkbox-item';\nimport { RadioItem } from './radio-item';\nimport { Group } from './group';\nimport { GroupLabel } from './group-label';\nimport { Separator } from './separator';\nimport { ItemLabel } from './item-label';\nimport { ItemHelpText } from './item-help-text';\nimport { TriggerButton } from './trigger-button';\nimport { SubmenuTriggerItem } from './submenu-trigger-item';\nimport { Popover } from './popover';\n\nconst UnconnectedMenu = ( props: Props ) => {\n\tconst {\n\t\tchildren,\n\t\tdefaultOpen = false,\n\t\topen,\n\t\tonOpenChange,\n\t\tplacement,\n\n\t\t// From internal components context\n\t\tvariant,\n\t} = useContextSystem<\n\t\t// @ts-expect-error TODO: missing 'className' in MenuProps\n\t\ttypeof props & Pick< ContextProps, 'variant' >\n\t>( props, 'Menu' );\n\n\tconst parentContext = useContext( Context );\n\n\tconst rtl = isRTLFn();\n\n\t// If an explicit value for the `placement` prop is not passed,\n\t// apply a default placement of `bottom-start` for the root menu popover,\n\t// and of `right-start` for nested menu popovers.\n\tlet computedPlacement =\n\t\tplacement ?? ( parentContext?.store ? 'right-start' : 'bottom-start' );\n\t// Swap left/right in case of RTL direction\n\tif ( rtl ) {\n\t\tif ( /right/.test( computedPlacement ) ) {\n\t\t\tcomputedPlacement = computedPlacement.replace(\n\t\t\t\t'right',\n\t\t\t\t'left'\n\t\t\t) as typeof computedPlacement;\n\t\t} else if ( /left/.test( computedPlacement ) ) {\n\t\t\tcomputedPlacement = computedPlacement.replace(\n\t\t\t\t'left',\n\t\t\t\t'right'\n\t\t\t) as typeof computedPlacement;\n\t\t}\n\t}\n\n\tconst menuStore = Ariakit.useMenuStore( {\n\t\tparent: parentContext?.store,\n\t\topen,\n\t\tdefaultOpen,\n\t\tplacement: computedPlacement,\n\t\tfocusLoop: true,\n\t\tsetOpen( willBeOpen ) {\n\t\t\tonOpenChange?.( willBeOpen );\n\t\t},\n\t\trtl,\n\t} );\n\n\tconst contextValue = useMemo(\n\t\t() => ( { store: menuStore, variant } ),\n\t\t[ menuStore, variant ]\n\t);\n\n\treturn (\n\t\t<Context.Provider value={ contextValue }>{ children }</Context.Provider>\n\t);\n};\n\n/**\n * Menu is a collection of React components that combine to render\n * ARIA-compliant [menu](https://www.w3.org/WAI/ARIA/apg/patterns/menu/) and\n * [menu button](https://www.w3.org/WAI/ARIA/apg/patterns/menubutton/) patterns.\n *\n * `Menu` itself is a wrapper component and context provider.\n * It is responsible for managing the state of the menu and its items, and for\n * rendering the `Menu.TriggerButton` (or the `Menu.SubmenuTriggerItem`)\n * component, and the `Menu.Popover` component.\n */\nexport const Menu = Object.assign(\n\tcontextConnectWithoutRef( UnconnectedMenu, 'Menu' ),\n\t{\n\t\tContext: Object.assign( Context, {\n\t\t\tdisplayName: 'Menu.Context',\n\t\t} ),\n\t\t/**\n\t\t * Renders a menu item inside the `Menu.Popover` or `Menu.Group` components.\n\t\t *\n\t\t * It can optionally contain one instance of the `Menu.ItemLabel` component\n\t\t * and one instance of the `Menu.ItemHelpText` component.\n\t\t */\n\t\tItem: Object.assign( Item, {\n\t\t\tdisplayName: 'Menu.Item',\n\t\t} ),\n\t\t/**\n\t\t * Renders a radio menu item inside the `Menu.Popover` or `Menu.Group`\n\t\t * components.\n\t\t *\n\t\t * It can optionally contain one instance of the `Menu.ItemLabel` component\n\t\t * and one instance of the `Menu.ItemHelpText` component.\n\t\t */\n\t\tRadioItem: Object.assign( RadioItem, {\n\t\t\tdisplayName: 'Menu.RadioItem',\n\t\t} ),\n\t\t/**\n\t\t * Renders a checkbox menu item inside the `Menu.Popover` or `Menu.Group`\n\t\t * components.\n\t\t *\n\t\t * It can optionally contain one instance of the `Menu.ItemLabel` component\n\t\t * and one instance of the `Menu.ItemHelpText` component.\n\t\t */\n\t\tCheckboxItem: Object.assign( CheckboxItem, {\n\t\t\tdisplayName: 'Menu.CheckboxItem',\n\t\t} ),\n\t\t/**\n\t\t * Renders a group for menu items.\n\t\t *\n\t\t * It should contain one instance of `Menu.GroupLabel` and one or more\n\t\t * instances of `Menu.Item`, `Menu.RadioItem`, or `Menu.CheckboxItem`.\n\t\t */\n\t\tGroup: Object.assign( Group, {\n\t\t\tdisplayName: 'Menu.Group',\n\t\t} ),\n\t\t/**\n\t\t * Renders a label in a menu group.\n\t\t *\n\t\t * This component should be wrapped with `Menu.Group` so the\n\t\t * `aria-labelledby` is correctly set on the group element.\n\t\t */\n\t\tGroupLabel: Object.assign( GroupLabel, {\n\t\t\tdisplayName: 'Menu.GroupLabel',\n\t\t} ),\n\t\t/**\n\t\t * Renders a divider between menu items or menu groups.\n\t\t */\n\t\tSeparator: Object.assign( Separator, {\n\t\t\tdisplayName: 'Menu.Separator',\n\t\t} ),\n\t\t/**\n\t\t * Renders a menu item's label text. It should be wrapped with `Menu.Item`,\n\t\t * `Menu.RadioItem`, or `Menu.CheckboxItem`.\n\t\t */\n\t\tItemLabel: Object.assign( ItemLabel, {\n\t\t\tdisplayName: 'Menu.ItemLabel',\n\t\t} ),\n\t\t/**\n\t\t * Renders a menu item's help text. It should be wrapped with `Menu.Item`,\n\t\t * `Menu.RadioItem`, or `Menu.CheckboxItem`.\n\t\t */\n\t\tItemHelpText: Object.assign( ItemHelpText, {\n\t\t\tdisplayName: 'Menu.ItemHelpText',\n\t\t} ),\n\t\t/**\n\t\t * Renders a dropdown menu element that's controlled by a sibling\n\t\t * `Menu.TriggerButton` component. It renders a popover and automatically\n\t\t * focuses on items when the menu is shown.\n\t\t *\n\t\t * The only valid children of `Menu.Popover` are `Menu.Item`,\n\t\t * `Menu.RadioItem`, `Menu.CheckboxItem`, `Menu.Group`, `Menu.Separator`,\n\t\t * and `Menu` (for nested dropdown menus).\n\t\t */\n\t\tPopover: Object.assign( Popover, {\n\t\t\tdisplayName: 'Menu.Popover',\n\t\t} ),\n\t\t/**\n\t\t * Renders a menu button that toggles the visibility of a sibling\n\t\t * `Menu.Popover` component when clicked or when using arrow keys.\n\t\t */\n\t\tTriggerButton: Object.assign( TriggerButton, {\n\t\t\tdisplayName: 'Menu.TriggerButton',\n\t\t} ),\n\t\t/**\n\t\t * Renders a menu item that toggles the visibility of a sibling\n\t\t * `Menu.Popover` component when clicked or when using arrow keys.\n\t\t *\n\t\t * This component is used to create a nested dropdown menu.\n\t\t */\n\t\tSubmenuTriggerItem: Object.assign( SubmenuTriggerItem, {\n\t\t\tdisplayName: 'Menu.SubmenuTriggerItem',\n\t\t} ),\n\t}\n);\n\nexport default Menu;\n"],"mappings":"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","ignoreList":[]}