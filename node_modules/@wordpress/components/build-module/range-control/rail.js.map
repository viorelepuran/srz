{"version":3,"names":["isRTL","RangeMark","MarksWrapper","Rail","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","createElement","_createElement","RangeRail","props","disabled","marks","min","max","step","value","restProps","children","Marks","stepProp","marksData","useMarks","className","map","mark","key","range","Array","isArray","count","Math","round","push","length","placedMarks","forEach","index","isFilled","offset","offsetStyle","style"],"sources":["@wordpress/components/src/range-control/rail.tsx"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { isRTL } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport RangeMark from './mark';\nimport { MarksWrapper, Rail } from './styles/range-control-styles';\n\nimport type { WordPressComponentProps } from '../context';\nimport type {\n\tMarksProps,\n\tRangeMarkProps,\n\tRailProps,\n\tUseMarksArgs,\n} from './types';\n\nexport default function RangeRail(\n\tprops: WordPressComponentProps< RailProps, 'span' >\n) {\n\tconst {\n\t\tdisabled = false,\n\t\tmarks = false,\n\t\tmin = 0,\n\t\tmax = 100,\n\t\tstep = 1,\n\t\tvalue = 0,\n\t\t...restProps\n\t} = props;\n\n\treturn (\n\t\t<>\n\t\t\t<Rail disabled={ disabled } { ...restProps } />\n\t\t\t{ marks && (\n\t\t\t\t<Marks\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\tmarks={ marks }\n\t\t\t\t\tmin={ min }\n\t\t\t\t\tmax={ max }\n\t\t\t\t\tstep={ step }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction Marks( props: WordPressComponentProps< MarksProps, 'span' > ) {\n\tconst {\n\t\tdisabled = false,\n\t\tmarks = false,\n\t\tmin = 0,\n\t\tmax = 100,\n\t\tstep: stepProp = 1,\n\t\tvalue = 0,\n\t} = props;\n\n\tconst step = stepProp === 'any' ? 1 : stepProp;\n\tconst marksData = useMarks( { marks, min, max, step, value } );\n\n\treturn (\n\t\t<MarksWrapper\n\t\t\taria-hidden=\"true\"\n\t\t\tclassName=\"components-range-control__marks\"\n\t\t>\n\t\t\t{ marksData.map( ( mark ) => (\n\t\t\t\t<RangeMark\n\t\t\t\t\t{ ...mark }\n\t\t\t\t\tkey={ mark.key }\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</MarksWrapper>\n\t);\n}\n\nfunction useMarks( {\n\tmarks,\n\tmin = 0,\n\tmax = 100,\n\tstep = 1,\n\tvalue = 0,\n}: UseMarksArgs ) {\n\tif ( ! marks ) {\n\t\treturn [];\n\t}\n\n\tconst range = max - min;\n\tif ( ! Array.isArray( marks ) ) {\n\t\tmarks = [];\n\t\tconst count = 1 + Math.round( range / step );\n\t\twhile ( count > marks.push( { value: step * marks.length + min } ) ) {}\n\t}\n\n\tconst placedMarks: RangeMarkProps[] = [];\n\tmarks.forEach( ( mark, index ) => {\n\t\tif ( mark.value < min || mark.value > max ) {\n\t\t\treturn;\n\t\t}\n\t\tconst key = `mark-${ index }`;\n\t\tconst isFilled = mark.value <= value;\n\t\tconst offset = `${ ( ( mark.value - min ) / range ) * 100 }%`;\n\n\t\tconst offsetStyle = {\n\t\t\t[ isRTL() ? 'right' : 'left' ]: offset,\n\t\t};\n\n\t\tplacedMarks.push( {\n\t\t\t...mark,\n\t\t\tisFilled,\n\t\t\tkey,\n\t\t\tstyle: offsetStyle,\n\t\t} );\n\t} );\n\n\treturn placedMarks;\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,KAAK,QAAQ,iBAAiB;;AAEvC;AACA;AACA;AACA,OAAOC,SAAS,MAAM,QAAQ;AAC9B,SAASC,YAAY,EAAEC,IAAI,QAAQ,+BAA+B;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,QAAA,IAAAC,SAAA,EAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,aAAA,IAAAC,cAAA;AAUnE,eAAe,SAASC,SAASA,CAChCC,KAAmD,EAClD;EACD,MAAM;IACLC,QAAQ,GAAG,KAAK;IAChBC,KAAK,GAAG,KAAK;IACbC,GAAG,GAAG,CAAC;IACPC,GAAG,GAAG,GAAG;IACTC,IAAI,GAAG,CAAC;IACRC,KAAK,GAAG,CAAC;IACT,GAAGC;EACJ,CAAC,GAAGP,KAAK;EAET,oBACCJ,KAAA,CAAAF,SAAA;IAAAc,QAAA,gBACChB,IAAA,CAACF,IAAI;MAACW,QAAQ,EAAGA,QAAU;MAAA,GAAMM;IAAS,CAAI,CAAC,EAC7CL,KAAK,iBACNV,IAAA,CAACiB,KAAK;MACLR,QAAQ,EAAGA,QAAU;MACrBC,KAAK,EAAGA,KAAO;MACfC,GAAG,EAAGA,GAAK;MACXC,GAAG,EAAGA,GAAK;MACXC,IAAI,EAAGA,IAAM;MACbC,KAAK,EAAGA;IAAO,CACf,CACD;EAAA,CACA,CAAC;AAEL;AAEA,SAASG,KAAKA,CAAET,KAAoD,EAAG;EACtE,MAAM;IACLC,QAAQ,GAAG,KAAK;IAChBC,KAAK,GAAG,KAAK;IACbC,GAAG,GAAG,CAAC;IACPC,GAAG,GAAG,GAAG;IACTC,IAAI,EAAEK,QAAQ,GAAG,CAAC;IAClBJ,KAAK,GAAG;EACT,CAAC,GAAGN,KAAK;EAET,MAAMK,IAAI,GAAGK,QAAQ,KAAK,KAAK,GAAG,CAAC,GAAGA,QAAQ;EAC9C,MAAMC,SAAS,GAAGC,QAAQ,CAAE;IAAEV,KAAK;IAAEC,GAAG;IAAEC,GAAG;IAAEC,IAAI;IAAEC;EAAM,CAAE,CAAC;EAE9D,oBACCd,IAAA,CAACH,YAAY;IACZ,eAAY,MAAM;IAClBwB,SAAS,EAAC,iCAAiC;IAAAL,QAAA,EAEzCG,SAAS,CAACG,GAAG,CAAIC,IAAI,iBACtBjB,cAAA,CAACV,SAAS;MAAA,GACJ2B,IAAI;MACTC,GAAG,EAAGD,IAAI,CAACC,GAAK;MAChB,eAAY,MAAM;MAClBf,QAAQ,EAAGA;IAAU,CACrB,CACA;EAAC,CACU,CAAC;AAEjB;AAEA,SAASW,QAAQA,CAAE;EAClBV,KAAK;EACLC,GAAG,GAAG,CAAC;EACPC,GAAG,GAAG,GAAG;EACTC,IAAI,GAAG,CAAC;EACRC,KAAK,GAAG;AACK,CAAC,EAAG;EACjB,IAAK,CAAEJ,KAAK,EAAG;IACd,OAAO,EAAE;EACV;EAEA,MAAMe,KAAK,GAAGb,GAAG,GAAGD,GAAG;EACvB,IAAK,CAAEe,KAAK,CAACC,OAAO,CAAEjB,KAAM,CAAC,EAAG;IAC/BA,KAAK,GAAG,EAAE;IACV,MAAMkB,KAAK,GAAG,CAAC,GAAGC,IAAI,CAACC,KAAK,CAAEL,KAAK,GAAGZ,IAAK,CAAC;IAC5C,OAAQe,KAAK,GAAGlB,KAAK,CAACqB,IAAI,CAAE;MAAEjB,KAAK,EAAED,IAAI,GAAGH,KAAK,CAACsB,MAAM,GAAGrB;IAAI,CAAE,CAAC,EAAG,CAAC;EACvE;EAEA,MAAMsB,WAA6B,GAAG,EAAE;EACxCvB,KAAK,CAACwB,OAAO,CAAE,CAAEX,IAAI,EAAEY,KAAK,KAAM;IACjC,IAAKZ,IAAI,CAACT,KAAK,GAAGH,GAAG,IAAIY,IAAI,CAACT,KAAK,GAAGF,GAAG,EAAG;MAC3C;IACD;IACA,MAAMY,GAAG,GAAG,QAASW,KAAK,EAAG;IAC7B,MAAMC,QAAQ,GAAGb,IAAI,CAACT,KAAK,IAAIA,KAAK;IACpC,MAAMuB,MAAM,GAAG,GAAM,CAAEd,IAAI,CAACT,KAAK,GAAGH,GAAG,IAAKc,KAAK,GAAK,GAAG,GAAI;IAE7D,MAAMa,WAAW,GAAG;MACnB,CAAE3C,KAAK,CAAC,CAAC,GAAG,OAAO,GAAG,MAAM,GAAI0C;IACjC,CAAC;IAEDJ,WAAW,CAACF,IAAI,CAAE;MACjB,GAAGR,IAAI;MACPa,QAAQ;MACRZ,GAAG;MACHe,KAAK,EAAED;IACR,CAAE,CAAC;EACJ,CAAE,CAAC;EAEH,OAAOL,WAAW;AACnB","ignoreList":[]}