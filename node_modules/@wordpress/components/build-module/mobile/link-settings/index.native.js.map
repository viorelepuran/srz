{"version":3,"names":["Platform","Clipboard","compose","withSelect","isURL","prependHTTP","useEffect","useState","useRef","useContext","useCallback","link","external","BottomSheet","BottomSheetContext","PanelBody","TextControl","ToggleControl","FooterMessageControl","PanelActions","LinkRelIcon","styles","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","NEW_TAB_REL","LinkSettings","isVisible","onClose","setAttributes","onEmptyURL","options","withBottomSheet","actions","editorSidebarOpened","showIcon","onLinkCellPressed","urlValue","url","label","linkTarget","rel","urlInputValue","setUrlInputValue","labelInputValue","setLabelInputValue","linkRelInputValue","setLinkRelInputValue","onCloseSettingsSheetConsumed","prevEditorSidebarOpenedRef","onHandleClosingBottomSheet","onCloseSettingsSheet","current","prevEditorSidebarOpened","isSettingSheetOpen","autoFill","getURLFromClipboard","onSetAttributes","onChangeURL","value","onChangeLabel","newURL","onChangeOpenInNewTab","newLinkTarget","undefined","updatedRel","onChangeLinkRel","clipboardText","getString","getSettings","children","LinkCell","valueMask","onPress","icon","valuePlaceholder","placeholder","onChange","onSubmit","autoCapitalize","autoCorrect","autoFocus","OS","keyboardType","linkLabel","openInNewTab","checked","linkRel","style","linkSettingsPanel","footer","separatorType","select","isEditorSidebarOpened"],"sources":["@wordpress/components/src/mobile/link-settings/index.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { Platform } from 'react-native';\nimport Clipboard from '@react-native-clipboard/clipboard';\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport { isURL, prependHTTP } from '@wordpress/url';\nimport {\n\tuseEffect,\n\tuseState,\n\tuseRef,\n\tuseContext,\n\tuseCallback,\n} from '@wordpress/element';\nimport { link, external } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport BottomSheet from '../bottom-sheet';\nimport { BottomSheetContext } from '../bottom-sheet/bottom-sheet-context';\nimport PanelBody from '../../panel/body';\nimport TextControl from '../../text-control';\nimport ToggleControl from '../../toggle-control';\nimport FooterMessageControl from '../../footer-message-control';\nimport PanelActions from '../../panel/actions';\nimport LinkRelIcon from './link-rel';\n\nimport styles from './style.scss';\n\nconst NEW_TAB_REL = 'noreferrer noopener';\nfunction LinkSettings( {\n\t// Control link settings `BottomSheet` visibility\n\tisVisible,\n\t// Callback that is called on closing bottom sheet\n\tonClose,\n\t// Function called to set attributes\n\tsetAttributes,\n\t// Callback that is called when url input field is empty\n\tonEmptyURL,\n\t// Object of available options along with specific, customizable properties.\n\t// Available options keys:\n\t//\t* url - uses `TextControl` component to set `attributes.url`\n\t//\t* linkLabel - uses `TextControl` component to set `attributes.label`\n\t//\t* openInNewTab - uses `ToggleControl` component to set `attributes.linkTarget` and `attributes.rel`\n\t//\t* linkRel - uses `TextControl` component to set `attributes.rel`\n\t//\t* footer - uses `FooterMessageControl` component to display message, e.g. about missing functionality\n\t// Available properties:\n\t//\t* label - control component label, e.g. `Button Link URL`\n\t//\t* placeholder - control component placeholder, e.g. `Add URL`\n\t//\t* autoFocus (url only) - whether url input should be focused on sheet opening\n\t//\t* autoFill (url only) - whether url input should be filled with url from clipboard\n\t// Example:\n\t//\tconst options = {\n\t//\t\turl: {\n\t//\t\t\tlabel: __( 'Button Link URL' ),\n\t//\t\t\tplaceholder: __( 'Add URL' ),\n\t//\t\t\tautoFocus: true,\n\t//\t\t\tautoFill: true,\n\t//\t\t}\n\t//\t}\n\toptions,\n\t// Specifies whether settings should be wrapped into `BottomSheet`\n\twithBottomSheet,\n\t// Defines buttons which will be displayed below the all options.\n\t// It's an array of objects with following properties:\n\t//\t* label - button title\n\t//\t* onPress - callback that is called on pressing button\n\t// Example:\n\t// \tconst actions = [\n\t//\t\t{\n\t//\t\t\tlabel: __( 'Remove link' ),\n\t//\t\t\tonPress: () => setAttributes({ url: '' }),\n\t//\t\t},\n\t//\t];\n\tactions,\n\t// Specifies whether general `BottomSheet` is opened\n\teditorSidebarOpened,\n\t// Specifies whether icon should be displayed next to the label\n\tshowIcon,\n\tonLinkCellPressed,\n\turlValue,\n\t// Attributes properties\n\turl,\n\tlabel = '',\n\tlinkTarget,\n\trel = '',\n} ) {\n\tconst [ urlInputValue, setUrlInputValue ] = useState( '' );\n\tconst [ labelInputValue, setLabelInputValue ] = useState( '' );\n\tconst [ linkRelInputValue, setLinkRelInputValue ] = useState( '' );\n\tconst onCloseSettingsSheetConsumed = useRef( false );\n\tconst prevEditorSidebarOpenedRef = useRef();\n\n\tconst { onHandleClosingBottomSheet } = useContext( BottomSheetContext );\n\tuseEffect( () => {\n\t\tif ( onHandleClosingBottomSheet ) {\n\t\t\tonHandleClosingBottomSheet( onCloseSettingsSheet );\n\t\t}\n\t\t// See https://github.com/WordPress/gutenberg/pull/41166\n\t}, [ urlInputValue, labelInputValue, linkRelInputValue ] );\n\n\tuseEffect( () => {\n\t\tprevEditorSidebarOpenedRef.current = editorSidebarOpened;\n\t} );\n\tconst prevEditorSidebarOpened = prevEditorSidebarOpenedRef.current;\n\n\tuseEffect( () => {\n\t\tif ( url !== urlInputValue ) {\n\t\t\tsetUrlInputValue( url || '' );\n\t\t}\n\t\t// See https://github.com/WordPress/gutenberg/pull/41166\n\t}, [ url ] );\n\n\tuseEffect( () => {\n\t\tsetLabelInputValue( label || '' );\n\t}, [ label ] );\n\n\tuseEffect( () => {\n\t\tsetLinkRelInputValue( rel || '' );\n\t}, [ rel ] );\n\n\tuseEffect( () => {\n\t\tconst isSettingSheetOpen = isVisible || editorSidebarOpened;\n\t\tif ( isSettingSheetOpen ) {\n\t\t\tonCloseSettingsSheetConsumed.current = false;\n\t\t}\n\n\t\tif ( options.url.autoFill && isSettingSheetOpen && ! url ) {\n\t\t\tgetURLFromClipboard();\n\t\t}\n\n\t\tif ( prevEditorSidebarOpened && ! editorSidebarOpened ) {\n\t\t\tonSetAttributes();\n\t\t}\n\t\t// See https://github.com/WordPress/gutenberg/pull/41166\n\t}, [ editorSidebarOpened, isVisible ] );\n\n\tuseEffect( () => {\n\t\tif ( ! urlValue && onEmptyURL ) {\n\t\t\tonEmptyURL();\n\t\t}\n\n\t\tif ( prependHTTP( urlValue ) !== url ) {\n\t\t\tsetAttributes( {\n\t\t\t\turl: prependHTTP( urlValue ),\n\t\t\t} );\n\t\t}\n\t\t// See https://github.com/WordPress/gutenberg/pull/41166\n\t}, [ urlValue ] );\n\n\tconst onChangeURL = useCallback(\n\t\t( value ) => {\n\t\t\tif ( ! value && onEmptyURL ) {\n\t\t\t\tonEmptyURL();\n\t\t\t}\n\t\t\tsetUrlInputValue( value );\n\t\t},\n\t\t[ onEmptyURL ]\n\t);\n\n\tconst onChangeLabel = useCallback( ( value ) => {\n\t\tsetLabelInputValue( value );\n\t}, [] );\n\n\tconst onSetAttributes = useCallback( () => {\n\t\tconst newURL = prependHTTP( urlInputValue );\n\t\tif (\n\t\t\turl !== newURL ||\n\t\t\tlabelInputValue !== label ||\n\t\t\tlinkRelInputValue !== rel\n\t\t) {\n\t\t\tsetAttributes( {\n\t\t\t\turl: newURL,\n\t\t\t\tlabel: labelInputValue,\n\t\t\t\trel: linkRelInputValue,\n\t\t\t} );\n\t\t}\n\t\t// See https://github.com/WordPress/gutenberg/pull/41166\n\t}, [ urlInputValue, labelInputValue, linkRelInputValue, setAttributes ] );\n\n\tconst onCloseSettingsSheet = useCallback( () => {\n\t\tif ( onCloseSettingsSheetConsumed.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tonCloseSettingsSheetConsumed.current = true;\n\n\t\tonSetAttributes();\n\n\t\tif ( onClose ) {\n\t\t\tonClose();\n\t\t}\n\t}, [ onClose, onSetAttributes ] );\n\n\tconst onChangeOpenInNewTab = useCallback(\n\t\t( value ) => {\n\t\t\tconst newLinkTarget = value ? '_blank' : undefined;\n\n\t\t\tlet updatedRel = linkRelInputValue;\n\t\t\tif ( newLinkTarget && ! linkRelInputValue ) {\n\t\t\t\tupdatedRel = NEW_TAB_REL;\n\t\t\t} else if ( ! newLinkTarget && linkRelInputValue === NEW_TAB_REL ) {\n\t\t\t\tupdatedRel = undefined;\n\t\t\t}\n\n\t\t\tsetAttributes( {\n\t\t\t\tlinkTarget: newLinkTarget,\n\t\t\t\trel: updatedRel,\n\t\t\t} );\n\t\t},\n\t\t// See https://github.com/WordPress/gutenberg/pull/41166\n\t\t[ linkRelInputValue ]\n\t);\n\n\tconst onChangeLinkRel = useCallback( ( value ) => {\n\t\tsetLinkRelInputValue( value );\n\t}, [] );\n\n\tasync function getURLFromClipboard() {\n\t\tconst clipboardText = await Clipboard.getString();\n\n\t\tif ( ! clipboardText ) {\n\t\t\treturn;\n\t\t}\n\t\t// Check if pasted text is URL.\n\t\tif ( ! isURL( clipboardText ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetAttributes( { url: clipboardText } );\n\t}\n\n\tfunction getSettings() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ options.url &&\n\t\t\t\t\t( onLinkCellPressed ? (\n\t\t\t\t\t\t<BottomSheet.LinkCell\n\t\t\t\t\t\t\tshowIcon={ showIcon }\n\t\t\t\t\t\t\tvalue={ url }\n\t\t\t\t\t\t\tvalueMask={ options.url.valueMask }\n\t\t\t\t\t\t\tonPress={ onLinkCellPressed }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\ticon={ showIcon && link }\n\t\t\t\t\t\t\tlabel={ options.url.label }\n\t\t\t\t\t\t\tvalue={ urlInputValue }\n\t\t\t\t\t\t\tvaluePlaceholder={ options.url.placeholder }\n\t\t\t\t\t\t\tonChange={ onChangeURL }\n\t\t\t\t\t\t\tonSubmit={ onCloseSettingsSheet }\n\t\t\t\t\t\t\tautoCapitalize=\"none\"\n\t\t\t\t\t\t\tautoCorrect={ false }\n\t\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/no-autofocus\n\t\t\t\t\t\t\tautoFocus={\n\t\t\t\t\t\t\t\tPlatform.OS === 'ios' && options.url.autoFocus\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tkeyboardType=\"url\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t{ options.linkLabel && (\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={ options.linkLabel.label }\n\t\t\t\t\t\tvalue={ labelInputValue }\n\t\t\t\t\t\tvaluePlaceholder={ options.linkLabel.placeholder }\n\t\t\t\t\t\tonChange={ onChangeLabel }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ !! urlInputValue && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ options.openInNewTab && (\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\ticon={ showIcon && external }\n\t\t\t\t\t\t\t\tlabel={ options.openInNewTab.label }\n\t\t\t\t\t\t\t\tchecked={ linkTarget === '_blank' }\n\t\t\t\t\t\t\t\tonChange={ onChangeOpenInNewTab }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ options.linkRel && (\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\ticon={ showIcon && LinkRelIcon }\n\t\t\t\t\t\t\t\tlabel={ options.linkRel.label }\n\t\t\t\t\t\t\t\tvalue={ linkRelInputValue }\n\t\t\t\t\t\t\t\tvaluePlaceholder={ options.linkRel.placeholder }\n\t\t\t\t\t\t\t\tonChange={ onChangeLinkRel }\n\t\t\t\t\t\t\t\tonSubmit={ onCloseSettingsSheet }\n\t\t\t\t\t\t\t\tautoCapitalize=\"none\"\n\t\t\t\t\t\t\t\tautoCorrect={ false }\n\t\t\t\t\t\t\t\tkeyboardType=\"default\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t}\n\n\tif ( ! withBottomSheet ) {\n\t\treturn getSettings();\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<PanelBody style={ styles.linkSettingsPanel }>\n\t\t\t\t{ getSettings() }\n\t\t\t</PanelBody>\n\t\t\t{ options.footer && (\n\t\t\t\t<PanelBody style={ styles.linkSettingsPanel }>\n\t\t\t\t\t<FooterMessageControl\n\t\t\t\t\t\tlabel={ options.footer.label }\n\t\t\t\t\t\tseparatorType={ options.footer.separatorType }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t) }\n\t\t\t{ actions && <PanelActions actions={ actions } /> }\n\t\t</>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { isEditorSidebarOpened } = select( 'core/edit-post' );\n\t\treturn {\n\t\t\teditorSidebarOpened: isEditorSidebarOpened(),\n\t\t};\n\t} ),\n] )( LinkSettings );\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,QAAQ,QAAQ,cAAc;AACvC,OAAOC,SAAS,MAAM,mCAAmC;AACzD;AACA;AACA;AACA,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,UAAU,QAAQ,iBAAiB;AAC5C,SAASC,KAAK,EAAEC,WAAW,QAAQ,gBAAgB;AACnD,SACCC,SAAS,EACTC,QAAQ,EACRC,MAAM,EACNC,UAAU,EACVC,WAAW,QACL,oBAAoB;AAC3B,SAASC,IAAI,EAAEC,QAAQ,QAAQ,kBAAkB;;AAEjD;AACA;AACA;AACA,OAAOC,WAAW,MAAM,iBAAiB;AACzC,SAASC,kBAAkB,QAAQ,sCAAsC;AACzE,OAAOC,SAAS,MAAM,kBAAkB;AACxC,OAAOC,WAAW,MAAM,oBAAoB;AAC5C,OAAOC,aAAa,MAAM,sBAAsB;AAChD,OAAOC,oBAAoB,MAAM,8BAA8B;AAC/D,OAAOC,YAAY,MAAM,qBAAqB;AAC9C,OAAOC,WAAW,MAAM,YAAY;AAEpC,OAAOC,MAAM,MAAM,cAAc;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,QAAA,IAAAC,SAAA,EAAAC,IAAA,IAAAC,KAAA;AAElC,MAAMC,WAAW,GAAG,qBAAqB;AACzC,SAASC,YAAYA,CAAE;EACtB;EACAC,SAAS;EACT;EACAC,OAAO;EACP;EACAC,aAAa;EACb;EACAC,UAAU;EACV;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,OAAO;EACP;EACAC,eAAe;EACf;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,OAAO;EACP;EACAC,mBAAmB;EACnB;EACAC,QAAQ;EACRC,iBAAiB;EACjBC,QAAQ;EACR;EACAC,GAAG;EACHC,KAAK,GAAG,EAAE;EACVC,UAAU;EACVC,GAAG,GAAG;AACP,CAAC,EAAG;EACH,MAAM,CAAEC,aAAa,EAAEC,gBAAgB,CAAE,GAAGvC,QAAQ,CAAE,EAAG,CAAC;EAC1D,MAAM,CAAEwC,eAAe,EAAEC,kBAAkB,CAAE,GAAGzC,QAAQ,CAAE,EAAG,CAAC;EAC9D,MAAM,CAAE0C,iBAAiB,EAAEC,oBAAoB,CAAE,GAAG3C,QAAQ,CAAE,EAAG,CAAC;EAClE,MAAM4C,4BAA4B,GAAG3C,MAAM,CAAE,KAAM,CAAC;EACpD,MAAM4C,0BAA0B,GAAG5C,MAAM,CAAC,CAAC;EAE3C,MAAM;IAAE6C;EAA2B,CAAC,GAAG5C,UAAU,CAAEK,kBAAmB,CAAC;EACvER,SAAS,CAAE,MAAM;IAChB,IAAK+C,0BAA0B,EAAG;MACjCA,0BAA0B,CAAEC,oBAAqB,CAAC;IACnD;IACA;EACD,CAAC,EAAE,CAAET,aAAa,EAAEE,eAAe,EAAEE,iBAAiB,CAAG,CAAC;EAE1D3C,SAAS,CAAE,MAAM;IAChB8C,0BAA0B,CAACG,OAAO,GAAGlB,mBAAmB;EACzD,CAAE,CAAC;EACH,MAAMmB,uBAAuB,GAAGJ,0BAA0B,CAACG,OAAO;EAElEjD,SAAS,CAAE,MAAM;IAChB,IAAKmC,GAAG,KAAKI,aAAa,EAAG;MAC5BC,gBAAgB,CAAEL,GAAG,IAAI,EAAG,CAAC;IAC9B;IACA;EACD,CAAC,EAAE,CAAEA,GAAG,CAAG,CAAC;EAEZnC,SAAS,CAAE,MAAM;IAChB0C,kBAAkB,CAAEN,KAAK,IAAI,EAAG,CAAC;EAClC,CAAC,EAAE,CAAEA,KAAK,CAAG,CAAC;EAEdpC,SAAS,CAAE,MAAM;IAChB4C,oBAAoB,CAAEN,GAAG,IAAI,EAAG,CAAC;EAClC,CAAC,EAAE,CAAEA,GAAG,CAAG,CAAC;EAEZtC,SAAS,CAAE,MAAM;IAChB,MAAMmD,kBAAkB,GAAG3B,SAAS,IAAIO,mBAAmB;IAC3D,IAAKoB,kBAAkB,EAAG;MACzBN,4BAA4B,CAACI,OAAO,GAAG,KAAK;IAC7C;IAEA,IAAKrB,OAAO,CAACO,GAAG,CAACiB,QAAQ,IAAID,kBAAkB,IAAI,CAAEhB,GAAG,EAAG;MAC1DkB,mBAAmB,CAAC,CAAC;IACtB;IAEA,IAAKH,uBAAuB,IAAI,CAAEnB,mBAAmB,EAAG;MACvDuB,eAAe,CAAC,CAAC;IAClB;IACA;EACD,CAAC,EAAE,CAAEvB,mBAAmB,EAAEP,SAAS,CAAG,CAAC;EAEvCxB,SAAS,CAAE,MAAM;IAChB,IAAK,CAAEkC,QAAQ,IAAIP,UAAU,EAAG;MAC/BA,UAAU,CAAC,CAAC;IACb;IAEA,IAAK5B,WAAW,CAAEmC,QAAS,CAAC,KAAKC,GAAG,EAAG;MACtCT,aAAa,CAAE;QACdS,GAAG,EAAEpC,WAAW,CAAEmC,QAAS;MAC5B,CAAE,CAAC;IACJ;IACA;EACD,CAAC,EAAE,CAAEA,QAAQ,CAAG,CAAC;EAEjB,MAAMqB,WAAW,GAAGnD,WAAW,CAC5BoD,KAAK,IAAM;IACZ,IAAK,CAAEA,KAAK,IAAI7B,UAAU,EAAG;MAC5BA,UAAU,CAAC,CAAC;IACb;IACAa,gBAAgB,CAAEgB,KAAM,CAAC;EAC1B,CAAC,EACD,CAAE7B,UAAU,CACb,CAAC;EAED,MAAM8B,aAAa,GAAGrD,WAAW,CAAIoD,KAAK,IAAM;IAC/Cd,kBAAkB,CAAEc,KAAM,CAAC;EAC5B,CAAC,EAAE,EAAG,CAAC;EAEP,MAAMF,eAAe,GAAGlD,WAAW,CAAE,MAAM;IAC1C,MAAMsD,MAAM,GAAG3D,WAAW,CAAEwC,aAAc,CAAC;IAC3C,IACCJ,GAAG,KAAKuB,MAAM,IACdjB,eAAe,KAAKL,KAAK,IACzBO,iBAAiB,KAAKL,GAAG,EACxB;MACDZ,aAAa,CAAE;QACdS,GAAG,EAAEuB,MAAM;QACXtB,KAAK,EAAEK,eAAe;QACtBH,GAAG,EAAEK;MACN,CAAE,CAAC;IACJ;IACA;EACD,CAAC,EAAE,CAAEJ,aAAa,EAAEE,eAAe,EAAEE,iBAAiB,EAAEjB,aAAa,CAAG,CAAC;EAEzE,MAAMsB,oBAAoB,GAAG5C,WAAW,CAAE,MAAM;IAC/C,IAAKyC,4BAA4B,CAACI,OAAO,EAAG;MAC3C;IACD;IAEAJ,4BAA4B,CAACI,OAAO,GAAG,IAAI;IAE3CK,eAAe,CAAC,CAAC;IAEjB,IAAK7B,OAAO,EAAG;MACdA,OAAO,CAAC,CAAC;IACV;EACD,CAAC,EAAE,CAAEA,OAAO,EAAE6B,eAAe,CAAG,CAAC;EAEjC,MAAMK,oBAAoB,GAAGvD,WAAW,CACrCoD,KAAK,IAAM;IACZ,MAAMI,aAAa,GAAGJ,KAAK,GAAG,QAAQ,GAAGK,SAAS;IAElD,IAAIC,UAAU,GAAGnB,iBAAiB;IAClC,IAAKiB,aAAa,IAAI,CAAEjB,iBAAiB,EAAG;MAC3CmB,UAAU,GAAGxC,WAAW;IACzB,CAAC,MAAM,IAAK,CAAEsC,aAAa,IAAIjB,iBAAiB,KAAKrB,WAAW,EAAG;MAClEwC,UAAU,GAAGD,SAAS;IACvB;IAEAnC,aAAa,CAAE;MACdW,UAAU,EAAEuB,aAAa;MACzBtB,GAAG,EAAEwB;IACN,CAAE,CAAC;EACJ,CAAC;EACD;EACA,CAAEnB,iBAAiB,CACpB,CAAC;EAED,MAAMoB,eAAe,GAAG3D,WAAW,CAAIoD,KAAK,IAAM;IACjDZ,oBAAoB,CAAEY,KAAM,CAAC;EAC9B,CAAC,EAAE,EAAG,CAAC;EAEP,eAAeH,mBAAmBA,CAAA,EAAG;IACpC,MAAMW,aAAa,GAAG,MAAMrE,SAAS,CAACsE,SAAS,CAAC,CAAC;IAEjD,IAAK,CAAED,aAAa,EAAG;MACtB;IACD;IACA;IACA,IAAK,CAAElE,KAAK,CAAEkE,aAAc,CAAC,EAAG;MAC/B;IACD;IAEAtC,aAAa,CAAE;MAAES,GAAG,EAAE6B;IAAc,CAAE,CAAC;EACxC;EAEA,SAASE,WAAWA,CAAA,EAAG;IACtB,oBACC7C,KAAA,CAAAF,SAAA;MAAAgD,QAAA,GACGvC,OAAO,CAACO,GAAG,KACVF,iBAAiB,gBAClBhB,IAAA,CAACV,WAAW,CAAC6D,QAAQ;QACpBpC,QAAQ,EAAGA,QAAU;QACrBwB,KAAK,EAAGrB,GAAK;QACbkC,SAAS,EAAGzC,OAAO,CAACO,GAAG,CAACkC,SAAW;QACnCC,OAAO,EAAGrC;MAAmB,CAC7B,CAAC,gBAEFhB,IAAA,CAACP,WAAW;QACX6D,IAAI,EAAGvC,QAAQ,IAAI3B,IAAM;QACzB+B,KAAK,EAAGR,OAAO,CAACO,GAAG,CAACC,KAAO;QAC3BoB,KAAK,EAAGjB,aAAe;QACvBiC,gBAAgB,EAAG5C,OAAO,CAACO,GAAG,CAACsC,WAAa;QAC5CC,QAAQ,EAAGnB,WAAa;QACxBoB,QAAQ,EAAG3B,oBAAsB;QACjC4B,cAAc,EAAC,MAAM;QACrBC,WAAW,EAAG;QACd;QAAA;QACAC,SAAS,EACRpF,QAAQ,CAACqF,EAAE,KAAK,KAAK,IAAInD,OAAO,CAACO,GAAG,CAAC2C,SACrC;QACDE,YAAY,EAAC;MAAK,CAClB,CACD,CAAE,EACFpD,OAAO,CAACqD,SAAS,iBAClBhE,IAAA,CAACP,WAAW;QACX0B,KAAK,EAAGR,OAAO,CAACqD,SAAS,CAAC7C,KAAO;QACjCoB,KAAK,EAAGf,eAAiB;QACzB+B,gBAAgB,EAAG5C,OAAO,CAACqD,SAAS,CAACR,WAAa;QAClDC,QAAQ,EAAGjB;MAAe,CAC1B,CACD,EACC,CAAC,CAAElB,aAAa,iBACjBlB,KAAA,CAAAF,SAAA;QAAAgD,QAAA,GACGvC,OAAO,CAACsD,YAAY,iBACrBjE,IAAA,CAACN,aAAa;UACb4D,IAAI,EAAGvC,QAAQ,IAAI1B,QAAU;UAC7B8B,KAAK,EAAGR,OAAO,CAACsD,YAAY,CAAC9C,KAAO;UACpC+C,OAAO,EAAG9C,UAAU,KAAK,QAAU;UACnCqC,QAAQ,EAAGf;QAAsB,CACjC,CACD,EACC/B,OAAO,CAACwD,OAAO,iBAChBnE,IAAA,CAACP,WAAW;UACX6D,IAAI,EAAGvC,QAAQ,IAAIlB,WAAa;UAChCsB,KAAK,EAAGR,OAAO,CAACwD,OAAO,CAAChD,KAAO;UAC/BoB,KAAK,EAAGb,iBAAmB;UAC3B6B,gBAAgB,EAAG5C,OAAO,CAACwD,OAAO,CAACX,WAAa;UAChDC,QAAQ,EAAGX,eAAiB;UAC5BY,QAAQ,EAAG3B,oBAAsB;UACjC4B,cAAc,EAAC,MAAM;UACrBC,WAAW,EAAG,KAAO;UACrBG,YAAY,EAAC;QAAS,CACtB,CACD;MAAA,CACA,CACF;IAAA,CACA,CAAC;EAEL;EAEA,IAAK,CAAEnD,eAAe,EAAG;IACxB,OAAOqC,WAAW,CAAC,CAAC;EACrB;EAEA,oBACC7C,KAAA,CAAAF,SAAA;IAAAgD,QAAA,gBACClD,IAAA,CAACR,SAAS;MAAC4E,KAAK,EAAGtE,MAAM,CAACuE,iBAAmB;MAAAnB,QAAA,EAC1CD,WAAW,CAAC;IAAC,CACL,CAAC,EACVtC,OAAO,CAAC2D,MAAM,iBACftE,IAAA,CAACR,SAAS;MAAC4E,KAAK,EAAGtE,MAAM,CAACuE,iBAAmB;MAAAnB,QAAA,eAC5ClD,IAAA,CAACL,oBAAoB;QACpBwB,KAAK,EAAGR,OAAO,CAAC2D,MAAM,CAACnD,KAAO;QAC9BoD,aAAa,EAAG5D,OAAO,CAAC2D,MAAM,CAACC;MAAe,CAC9C;IAAC,CACQ,CACX,EACC1D,OAAO,iBAAIb,IAAA,CAACJ,YAAY;MAACiB,OAAO,EAAGA;IAAS,CAAE,CAAC;EAAA,CAChD,CAAC;AAEL;AAEA,eAAelC,OAAO,CAAE,CACvBC,UAAU,CAAI4F,MAAM,IAAM;EACzB,MAAM;IAAEC;EAAsB,CAAC,GAAGD,MAAM,CAAE,gBAAiB,CAAC;EAC5D,OAAO;IACN1D,mBAAmB,EAAE2D,qBAAqB,CAAC;EAC5C,CAAC;AACF,CAAE,CAAC,CACF,CAAC,CAAEnE,YAAa,CAAC","ignoreList":[]}