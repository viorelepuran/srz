{"version":3,"names":["useObservableValue","useContext","useRef","useEffect","createPortal","SlotFillContext","StyleProvider","jsx","_jsx","Fill","name","children","_slot$fillProps","registry","slot","slots","instanceRef","instance","current","registerFill","unregisterFill","ref","wrappedChildren","document","ownerDocument","fillProps"],"sources":["@wordpress/components/src/slot-fill/bubbles-virtually/fill.tsx"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useObservableValue } from '@wordpress/compose';\nimport {\n\tuseContext,\n\tuseRef,\n\tuseEffect,\n\tcreatePortal,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport SlotFillContext from './slot-fill-context';\nimport StyleProvider from '../../style-provider';\nimport type { FillComponentProps } from '../types';\n\nexport default function Fill( { name, children }: FillComponentProps ) {\n\tconst registry = useContext( SlotFillContext );\n\tconst slot = useObservableValue( registry.slots, name );\n\tconst instanceRef = useRef( {} );\n\n\t// We register fills so we can keep track of their existence.\n\t// Slots can use the `useSlotFills` hook to know if there're already fills\n\t// registered so they can choose to render themselves or not.\n\tuseEffect( () => {\n\t\tconst instance = instanceRef.current;\n\t\tregistry.registerFill( name, instance );\n\t\treturn () => registry.unregisterFill( name, instance );\n\t}, [ registry, name ] );\n\n\tif ( ! slot || ! slot.ref.current ) {\n\t\treturn null;\n\t}\n\n\t// When using a `Fill`, the `children` will be rendered in the document of the\n\t// `Slot`. This means that we need to wrap the `children` in a `StyleProvider`\n\t// to make sure we're referencing the right document/iframe (instead of the\n\t// context of the `Fill`'s parent).\n\tconst wrappedChildren = (\n\t\t<StyleProvider document={ slot.ref.current.ownerDocument }>\n\t\t\t{ typeof children === 'function'\n\t\t\t\t? children( slot.fillProps ?? {} )\n\t\t\t\t: children }\n\t\t</StyleProvider>\n\t);\n\n\treturn createPortal( wrappedChildren, slot.ref.current );\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,kBAAkB,QAAQ,oBAAoB;AACvD,SACCC,UAAU,EACVC,MAAM,EACNC,SAAS,EACTC,YAAY,QACN,oBAAoB;;AAE3B;AACA;AACA;AACA,OAAOC,eAAe,MAAM,qBAAqB;AACjD,OAAOC,aAAa,MAAM,sBAAsB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAGjD,eAAe,SAASC,IAAIA,CAAE;EAAEC,IAAI;EAAEC;AAA6B,CAAC,EAAG;EAAA,IAAAC,eAAA;EACtE,MAAMC,QAAQ,GAAGZ,UAAU,CAAEI,eAAgB,CAAC;EAC9C,MAAMS,IAAI,GAAGd,kBAAkB,CAAEa,QAAQ,CAACE,KAAK,EAAEL,IAAK,CAAC;EACvD,MAAMM,WAAW,GAAGd,MAAM,CAAE,CAAC,CAAE,CAAC;;EAEhC;EACA;EACA;EACAC,SAAS,CAAE,MAAM;IAChB,MAAMc,QAAQ,GAAGD,WAAW,CAACE,OAAO;IACpCL,QAAQ,CAACM,YAAY,CAAET,IAAI,EAAEO,QAAS,CAAC;IACvC,OAAO,MAAMJ,QAAQ,CAACO,cAAc,CAAEV,IAAI,EAAEO,QAAS,CAAC;EACvD,CAAC,EAAE,CAAEJ,QAAQ,EAAEH,IAAI,CAAG,CAAC;EAEvB,IAAK,CAAEI,IAAI,IAAI,CAAEA,IAAI,CAACO,GAAG,CAACH,OAAO,EAAG;IACnC,OAAO,IAAI;EACZ;;EAEA;EACA;EACA;EACA;EACA,MAAMI,eAAe,gBACpBd,IAAA,CAACF,aAAa;IAACiB,QAAQ,EAAGT,IAAI,CAACO,GAAG,CAACH,OAAO,CAACM,aAAe;IAAAb,QAAA,EACvD,OAAOA,QAAQ,KAAK,UAAU,GAC7BA,QAAQ,EAAAC,eAAA,GAAEE,IAAI,CAACW,SAAS,cAAAb,eAAA,cAAAA,eAAA,GAAI,CAAC,CAAE,CAAC,GAChCD;EAAQ,CACG,CACf;EAED,OAAOP,YAAY,CAAEkB,eAAe,EAAER,IAAI,CAACO,GAAG,CAACH,OAAQ,CAAC;AACzD","ignoreList":[]}