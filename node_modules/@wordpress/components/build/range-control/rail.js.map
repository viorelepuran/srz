{"version":3,"names":["_i18n","require","_mark","_interopRequireDefault","_rangeControlStyles","_jsxRuntime","_react","RangeRail","props","disabled","marks","min","max","step","value","restProps","jsxs","Fragment","children","jsx","Rail","Marks","stepProp","marksData","useMarks","MarksWrapper","className","map","mark","createElement","default","key","range","Array","isArray","count","Math","round","push","length","placedMarks","forEach","index","isFilled","offset","offsetStyle","isRTL","style"],"sources":["@wordpress/components/src/range-control/rail.tsx"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { isRTL } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport RangeMark from './mark';\nimport { MarksWrapper, Rail } from './styles/range-control-styles';\n\nimport type { WordPressComponentProps } from '../context';\nimport type {\n\tMarksProps,\n\tRangeMarkProps,\n\tRailProps,\n\tUseMarksArgs,\n} from './types';\n\nexport default function RangeRail(\n\tprops: WordPressComponentProps< RailProps, 'span' >\n) {\n\tconst {\n\t\tdisabled = false,\n\t\tmarks = false,\n\t\tmin = 0,\n\t\tmax = 100,\n\t\tstep = 1,\n\t\tvalue = 0,\n\t\t...restProps\n\t} = props;\n\n\treturn (\n\t\t<>\n\t\t\t<Rail disabled={ disabled } { ...restProps } />\n\t\t\t{ marks && (\n\t\t\t\t<Marks\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\tmarks={ marks }\n\t\t\t\t\tmin={ min }\n\t\t\t\t\tmax={ max }\n\t\t\t\t\tstep={ step }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction Marks( props: WordPressComponentProps< MarksProps, 'span' > ) {\n\tconst {\n\t\tdisabled = false,\n\t\tmarks = false,\n\t\tmin = 0,\n\t\tmax = 100,\n\t\tstep: stepProp = 1,\n\t\tvalue = 0,\n\t} = props;\n\n\tconst step = stepProp === 'any' ? 1 : stepProp;\n\tconst marksData = useMarks( { marks, min, max, step, value } );\n\n\treturn (\n\t\t<MarksWrapper\n\t\t\taria-hidden=\"true\"\n\t\t\tclassName=\"components-range-control__marks\"\n\t\t>\n\t\t\t{ marksData.map( ( mark ) => (\n\t\t\t\t<RangeMark\n\t\t\t\t\t{ ...mark }\n\t\t\t\t\tkey={ mark.key }\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</MarksWrapper>\n\t);\n}\n\nfunction useMarks( {\n\tmarks,\n\tmin = 0,\n\tmax = 100,\n\tstep = 1,\n\tvalue = 0,\n}: UseMarksArgs ) {\n\tif ( ! marks ) {\n\t\treturn [];\n\t}\n\n\tconst range = max - min;\n\tif ( ! Array.isArray( marks ) ) {\n\t\tmarks = [];\n\t\tconst count = 1 + Math.round( range / step );\n\t\twhile ( count > marks.push( { value: step * marks.length + min } ) ) {}\n\t}\n\n\tconst placedMarks: RangeMarkProps[] = [];\n\tmarks.forEach( ( mark, index ) => {\n\t\tif ( mark.value < min || mark.value > max ) {\n\t\t\treturn;\n\t\t}\n\t\tconst key = `mark-${ index }`;\n\t\tconst isFilled = mark.value <= value;\n\t\tconst offset = `${ ( ( mark.value - min ) / range ) * 100 }%`;\n\n\t\tconst offsetStyle = {\n\t\t\t[ isRTL() ? 'right' : 'left' ]: offset,\n\t\t};\n\n\t\tplacedMarks.push( {\n\t\t\t...mark,\n\t\t\tisFilled,\n\t\t\tkey,\n\t\t\tstyle: offsetStyle,\n\t\t} );\n\t} );\n\n\treturn placedMarks;\n}\n"],"mappings":"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","ignoreList":[]}