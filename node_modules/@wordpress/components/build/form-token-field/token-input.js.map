{"version":3,"names":["_clsx","_interopRequireDefault","require","_element","_jsxRuntime","UnForwardedTokenInput","props","ref","value","isExpanded","instanceId","selectedSuggestionIndex","className","onChange","onFocus","onBlur","restProps","hasFocus","setHasFocus","useState","size","length","onChangeHandler","event","target","onFocusHandler","e","onBlurHandler","jsx","id","type","clsx","autoComplete","role","undefined","TokenInput","exports","forwardRef","_default","default"],"sources":["@wordpress/components/src/form-token-field/token-input.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport type { ChangeEvent, ForwardedRef, FocusEventHandler } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { WordPressComponentProps } from '../context';\nimport type { TokenInputProps } from './types';\n\nexport function UnForwardedTokenInput(\n\tprops: WordPressComponentProps< TokenInputProps, 'input', false >,\n\tref: ForwardedRef< HTMLInputElement >\n) {\n\tconst {\n\t\tvalue,\n\t\tisExpanded,\n\t\tinstanceId,\n\t\tselectedSuggestionIndex,\n\t\tclassName,\n\t\tonChange,\n\t\tonFocus,\n\t\tonBlur,\n\t\t...restProps\n\t} = props;\n\n\tconst [ hasFocus, setHasFocus ] = useState( false );\n\n\tconst size = value ? value.length + 1 : 0;\n\n\tconst onChangeHandler = ( event: ChangeEvent< HTMLInputElement > ) => {\n\t\tif ( onChange ) {\n\t\t\tonChange( {\n\t\t\t\tvalue: event.target.value,\n\t\t\t} );\n\t\t}\n\t};\n\n\tconst onFocusHandler: FocusEventHandler< HTMLInputElement > = ( e ) => {\n\t\tsetHasFocus( true );\n\t\tonFocus?.( e );\n\t};\n\n\tconst onBlurHandler: FocusEventHandler< HTMLInputElement > = ( e ) => {\n\t\tsetHasFocus( false );\n\t\tonBlur?.( e );\n\t};\n\n\treturn (\n\t\t<input\n\t\t\tref={ ref }\n\t\t\tid={ `components-form-token-input-${ instanceId }` }\n\t\t\ttype=\"text\"\n\t\t\t{ ...restProps }\n\t\t\tvalue={ value || '' }\n\t\t\tonChange={ onChangeHandler }\n\t\t\tonFocus={ onFocusHandler }\n\t\t\tonBlur={ onBlurHandler }\n\t\t\tsize={ size }\n\t\t\tclassName={ clsx(\n\t\t\t\tclassName,\n\t\t\t\t'components-form-token-field__input'\n\t\t\t) }\n\t\t\tautoComplete=\"off\"\n\t\t\trole=\"combobox\"\n\t\t\taria-expanded={ isExpanded }\n\t\t\taria-autocomplete=\"list\"\n\t\t\taria-owns={\n\t\t\t\tisExpanded\n\t\t\t\t\t? `components-form-token-suggestions-${ instanceId }`\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\taria-activedescendant={\n\t\t\t\t// Only add the `aria-activedescendant` attribute when:\n\t\t\t\t// - the user is actively interacting with the input (`hasFocus`)\n\t\t\t\t// - there is a selected suggestion (`selectedSuggestionIndex !== -1`)\n\t\t\t\t// - the list of suggestions are rendered in the DOM (`isExpanded`)\n\t\t\t\thasFocus && selectedSuggestionIndex !== -1 && isExpanded\n\t\t\t\t\t? `components-form-token-suggestions-${ instanceId }-${ selectedSuggestionIndex }`\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\taria-describedby={ `components-form-token-suggestions-howto-${ instanceId }` }\n\t\t/>\n\t);\n}\n\nexport const TokenInput = forwardRef( UnForwardedTokenInput );\n\nexport default TokenInput;\n"],"mappings":";;;;;;;;;AAGA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAMA,IAAAC,QAAA,GAAAD,OAAA;AAA0D,IAAAE,WAAA,GAAAF,OAAA;AAT1D;AACA;AACA;;AAIA;AACA;AACA;;AAGA;AACA;AACA;;AAIO,SAASG,qBAAqBA,CACpCC,KAAiE,EACjEC,GAAqC,EACpC;EACD,MAAM;IACLC,KAAK;IACLC,UAAU;IACVC,UAAU;IACVC,uBAAuB;IACvBC,SAAS;IACTC,QAAQ;IACRC,OAAO;IACPC,MAAM;IACN,GAAGC;EACJ,CAAC,GAAGV,KAAK;EAET,MAAM,CAAEW,QAAQ,EAAEC,WAAW,CAAE,GAAG,IAAAC,iBAAQ,EAAE,KAAM,CAAC;EAEnD,MAAMC,IAAI,GAAGZ,KAAK,GAAGA,KAAK,CAACa,MAAM,GAAG,CAAC,GAAG,CAAC;EAEzC,MAAMC,eAAe,GAAKC,KAAsC,IAAM;IACrE,IAAKV,QAAQ,EAAG;MACfA,QAAQ,CAAE;QACTL,KAAK,EAAEe,KAAK,CAACC,MAAM,CAAChB;MACrB,CAAE,CAAC;IACJ;EACD,CAAC;EAED,MAAMiB,cAAqD,GAAKC,CAAC,IAAM;IACtER,WAAW,CAAE,IAAK,CAAC;IACnBJ,OAAO,GAAIY,CAAE,CAAC;EACf,CAAC;EAED,MAAMC,aAAoD,GAAKD,CAAC,IAAM;IACrER,WAAW,CAAE,KAAM,CAAC;IACpBH,MAAM,GAAIW,CAAE,CAAC;EACd,CAAC;EAED,oBACC,IAAAtB,WAAA,CAAAwB,GAAA;IACCrB,GAAG,EAAGA,GAAK;IACXsB,EAAE,EAAG,+BAAgCnB,UAAU,EAAK;IACpDoB,IAAI,EAAC,MAAM;IAAA,GACNd,SAAS;IACdR,KAAK,EAAGA,KAAK,IAAI,EAAI;IACrBK,QAAQ,EAAGS,eAAiB;IAC5BR,OAAO,EAAGW,cAAgB;IAC1BV,MAAM,EAAGY,aAAe;IACxBP,IAAI,EAAGA,IAAM;IACbR,SAAS,EAAG,IAAAmB,aAAI,EACfnB,SAAS,EACT,oCACD,CAAG;IACHoB,YAAY,EAAC,KAAK;IAClBC,IAAI,EAAC,UAAU;IACf,iBAAgBxB,UAAY;IAC5B,qBAAkB,MAAM;IACxB,aACCA,UAAU,GACP,qCAAsCC,UAAU,EAAG,GACnDwB,SACH;IACD;IACC;IACA;IACA;IACA;IACAjB,QAAQ,IAAIN,uBAAuB,KAAK,CAAC,CAAC,IAAIF,UAAU,GACrD,qCAAsCC,UAAU,IAAMC,uBAAuB,EAAG,GAChFuB,SACH;IACD,oBAAmB,2CAA4CxB,UAAU;EAAK,CAC9E,CAAC;AAEJ;AAEO,MAAMyB,UAAU,GAAAC,OAAA,CAAAD,UAAA,GAAG,IAAAE,mBAAU,EAAEhC,qBAAsB,CAAC;AAAC,IAAAiC,QAAA,GAAAF,OAAA,CAAAG,OAAA,GAE/CJ,UAAU","ignoreList":[]}