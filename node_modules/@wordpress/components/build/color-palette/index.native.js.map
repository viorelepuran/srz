{"version":3,"names":["_reactNative","require","_i18n","_element","_compose","_style","_interopRequireDefault","_colorIndicator","_utils","_jsxRuntime","ANIMATION_DURATION","contentWidth","scrollPosition","customIndicatorWidth","ColorPalette","enableCustomColor","setColor","activeColor","isGradientColor","defaultSettings","currentSegment","onCustomPress","shouldEnableBottomSheetScroll","shouldShowCustomIndicatorOption","shouldShowCustomLabel","shouldShowCustomVerticalSeparator","customColorIndicatorStyles","customIndicatorWrapperStyles","label","_defaultSettings$colo","_defaultSettings$grad","_defaultSettings$allC","_defaultSettings$allG","customSwatchGradients","scrollViewRef","useRef","isIOS","Platform","OS","isGradientSegment","colorsUtils","segments","scale","Animated","Value","current","opacity","delayedScrollRef","mergedColors","Set","colors","map","color","mergedGradients","gradients","gradient","allAvailableColors","allColors","allAvailableGradients","allGradients","customIndicatorColor","isCustomGradientColor","isSelectedCustom","shouldShowCustomIndicator","accessibilityHint","__","customText","useEffect","scrollToEndWithDelay","scrollTo","x","y","isWithinColors","includes","isSelected","timingAnimation","property","toValue","timing","duration","easing","Easing","ease","useNativeDriver","performAnimation","setValue","parallel","start","scaleInterpolation","interpolate","inputRange","outputRange","deselectCustomGradient","width","Dimensions","get","isVisible","getColorGradientName","value","fallbackName","sprintf","foundColorName","find","name","onColorPress","onContentSizeChange","setTimeout","scrollToEnd","clearTimeout","onCustomIndicatorLayout","nativeEvent","layout","onScroll","contentOffset","verticalSeparatorStyle","usePreferredColorSchemeStyle","styles","verticalSeparator","verticalSeparatorDark","customTextStyle","customTextAndroid","customTextDark","customIndicatorWrapperStyle","customIndicatorWrapper","jsxs","Fragment","children","jsx","Text","accessibilityRole","style","headerText","ScrollView","contentContainerStyle","contentContainer","horizontal","showsHorizontalScrollIndicator","keyboardShouldPersistTaps","disableScrollViewPanResponder","scrollEventThrottle","onScrollBeginDrag","onScrollEndDrag","ref","testID","scaleValue","colorName","View","TouchableWithoutFeedback","onPress","accessibilityState","selected","accessibilityLabel","transform","default","colorIndicator","onLayout","withCustomPicker","toUpperCase","_default","exports"],"sources":["@wordpress/components/src/color-palette/index.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tScrollView,\n\tTouchableWithoutFeedback,\n\tView,\n\tAnimated,\n\tEasing,\n\tDimensions,\n\tPlatform,\n\tText,\n} from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useRef, useEffect } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\nimport ColorIndicator from '../color-indicator';\nimport { colorsUtils } from '../mobile/color-settings/utils';\n\nconst ANIMATION_DURATION = 200;\n\nlet contentWidth = 0;\nlet scrollPosition = 0;\nlet customIndicatorWidth = 0;\n\nfunction ColorPalette( {\n\tenableCustomColor = false,\n\tsetColor,\n\tactiveColor,\n\tisGradientColor,\n\tdefaultSettings,\n\tcurrentSegment,\n\tonCustomPress,\n\tshouldEnableBottomSheetScroll,\n\tshouldShowCustomIndicatorOption = true,\n\tshouldShowCustomLabel = true,\n\tshouldShowCustomVerticalSeparator = true,\n\tcustomColorIndicatorStyles,\n\tcustomIndicatorWrapperStyles,\n\tlabel,\n} ) {\n\tconst customSwatchGradients = [\n\t\t'linear-gradient(120deg, rgba(255,0,0,.8) 0%, rgba(255,255,255,1) 70.71%)',\n\t\t'linear-gradient(240deg, rgba(0,255,0,.8) 0%, rgba(0,255,0,0) 70.71%)',\n\t\t'linear-gradient(360deg, rgba(0,0,255,.8) 0%, rgba(0,0,255,0) 70.71%)',\n\t];\n\n\tconst scrollViewRef = useRef();\n\tconst isIOS = Platform.OS === 'ios';\n\n\tconst isGradientSegment = currentSegment === colorsUtils.segments[ 1 ];\n\n\tconst scale = useRef( new Animated.Value( 1 ) ).current;\n\tconst opacity = useRef( new Animated.Value( 1 ) ).current;\n\tconst delayedScrollRef = useRef();\n\n\tconst mergedColors = [\n\t\t...new Set(\n\t\t\t( defaultSettings.colors ?? [] ).map( ( { color } ) => color )\n\t\t),\n\t];\n\tconst mergedGradients = [\n\t\t...new Set(\n\t\t\t( defaultSettings.gradients ?? [] ).map(\n\t\t\t\t( { gradient } ) => gradient\n\t\t\t)\n\t\t),\n\t];\n\tconst allAvailableColors = [\n\t\t...new Set(\n\t\t\t( defaultSettings.allColors ?? [] ).map( ( { color } ) => color )\n\t\t),\n\t];\n\tconst allAvailableGradients = [\n\t\t...new Set(\n\t\t\t( defaultSettings.allGradients ?? [] ).map(\n\t\t\t\t( { gradient } ) => gradient\n\t\t\t)\n\t\t),\n\t];\n\n\tconst colors = isGradientSegment ? mergedGradients : mergedColors;\n\tconst allColors = isGradientSegment\n\t\t? allAvailableGradients\n\t\t: allAvailableColors;\n\n\tconst customIndicatorColor = isGradientSegment\n\t\t? activeColor\n\t\t: customSwatchGradients;\n\tconst isCustomGradientColor = isGradientColor && isSelectedCustom();\n\tconst shouldShowCustomIndicator =\n\t\tenableCustomColor &&\n\t\tshouldShowCustomIndicatorOption &&\n\t\t( ! isGradientSegment || isCustomGradientColor );\n\n\tconst accessibilityHint = isGradientSegment\n\t\t? __( 'Navigates to customize the gradient' )\n\t\t: __( 'Navigates to custom color picker' );\n\tconst customText = __( 'Custom' );\n\n\tuseEffect( () => {\n\t\tif ( scrollViewRef.current ) {\n\t\t\tif ( isSelectedCustom() ) {\n\t\t\t\tscrollToEndWithDelay();\n\t\t\t} else {\n\t\t\t\tscrollViewRef.current.scrollTo( { x: 0, y: 0 } );\n\t\t\t}\n\t\t}\n\t\t// Not adding additional dependencies until the component can be refactored and updated safely.\n\t\t// Please see https://github.com/WordPress/gutenberg/pull/41253 for discussion and details.\n\t}, [ currentSegment ] );\n\n\tfunction isSelectedCustom() {\n\t\tconst isWithinColors =\n\t\t\tactiveColor && allColors?.includes( activeColor );\n\t\tif ( enableCustomColor && activeColor ) {\n\t\t\tif ( isGradientSegment ) {\n\t\t\t\treturn isGradientColor && ! isWithinColors;\n\t\t\t}\n\t\t\treturn ! isGradientColor && ! isWithinColors;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction isSelected( color ) {\n\t\treturn ! isSelectedCustom() && activeColor === color;\n\t}\n\n\tfunction timingAnimation( property, toValue ) {\n\t\treturn Animated.timing( property, {\n\t\t\ttoValue,\n\t\t\tduration: ANIMATION_DURATION,\n\t\t\teasing: Easing.ease,\n\t\t\tuseNativeDriver: true,\n\t\t} );\n\t}\n\n\tfunction performAnimation( color ) {\n\t\tif ( ! isSelected( color ) ) {\n\t\t\topacity.setValue( 0 );\n\t\t}\n\n\t\tAnimated.parallel( [\n\t\t\ttimingAnimation( scale, 2 ),\n\t\t\ttimingAnimation( opacity, 1 ),\n\t\t] ).start( () => {\n\t\t\topacity.setValue( 1 );\n\t\t\tscale.setValue( 1 );\n\t\t} );\n\t}\n\n\tconst scaleInterpolation = scale.interpolate( {\n\t\tinputRange: [ 1, 1.5, 2 ],\n\t\toutputRange: [ 1, 0.7, 1 ],\n\t} );\n\n\tfunction deselectCustomGradient() {\n\t\tconst { width } = Dimensions.get( 'window' );\n\t\tconst isVisible =\n\t\t\tcontentWidth - scrollPosition - customIndicatorWidth < width;\n\n\t\tif ( isCustomGradientColor ) {\n\t\t\tif ( ! isIOS ) {\n\t\t\t\t// Scroll position on Android doesn't adjust automatically when removing the last item from the horizontal list.\n\t\t\t\t// https://github.com/facebook/react-native/issues/27504\n\t\t\t\t// Workaround: Force the scroll when deselecting custom gradient color and when custom indicator is visible on layout.\n\t\t\t\tif (\n\t\t\t\t\tisCustomGradientColor &&\n\t\t\t\t\tisVisible &&\n\t\t\t\t\tscrollViewRef.current\n\t\t\t\t) {\n\t\t\t\t\tscrollViewRef.current.scrollTo( {\n\t\t\t\t\t\tx: scrollPosition - customIndicatorWidth,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getColorGradientName( value ) {\n\t\tconst fallbackName = sprintf(\n\t\t\t/* translators: %s: the hex color value */\n\t\t\t__( 'Unlabeled color. %s' ),\n\t\t\tvalue\n\t\t);\n\t\tconst foundColorName = isGradientSegment\n\t\t\t? defaultSettings.gradients?.find(\n\t\t\t\t\t( gradient ) => gradient.gradient === value\n\t\t\t  )\n\t\t\t: defaultSettings.allColors?.find(\n\t\t\t\t\t( color ) => color.color === value\n\t\t\t  );\n\t\treturn foundColorName ? foundColorName?.name : fallbackName;\n\t}\n\n\tfunction onColorPress( color ) {\n\t\tdeselectCustomGradient();\n\t\tperformAnimation( color );\n\t\tsetColor( color );\n\t}\n\n\tfunction onContentSizeChange( width ) {\n\t\tcontentWidth = width;\n\t\tif ( isSelectedCustom() && scrollViewRef.current ) {\n\t\t\tscrollToEndWithDelay();\n\t\t}\n\t}\n\n\tfunction scrollToEndWithDelay() {\n\t\tdelayedScrollRef.current = setTimeout( () => {\n\t\t\tscrollViewRef?.current.scrollToEnd();\n\t\t}, ANIMATION_DURATION );\n\t\treturn () => {\n\t\t\tclearTimeout( delayedScrollRef.current );\n\t\t};\n\t}\n\n\tfunction onCustomIndicatorLayout( { nativeEvent } ) {\n\t\tconst { width } = nativeEvent.layout;\n\t\tif ( width !== customIndicatorWidth ) {\n\t\t\tcustomIndicatorWidth = width;\n\t\t}\n\t}\n\n\tfunction onScroll( { nativeEvent } ) {\n\t\tscrollPosition = nativeEvent.contentOffset.x;\n\t}\n\n\tconst verticalSeparatorStyle = usePreferredColorSchemeStyle(\n\t\tstyles.verticalSeparator,\n\t\tstyles.verticalSeparatorDark\n\t);\n\n\tconst customTextStyle = usePreferredColorSchemeStyle(\n\t\t[ styles.customText, ! isIOS && styles.customTextAndroid ],\n\t\tstyles.customTextDark\n\t);\n\n\tconst customIndicatorWrapperStyle = [\n\t\tstyles.customIndicatorWrapper,\n\t\tcustomIndicatorWrapperStyles,\n\t];\n\n\treturn (\n\t\t<>\n\t\t\t{ label && (\n\t\t\t\t<Text accessibilityRole=\"header\" style={ styles.headerText }>\n\t\t\t\t\t{ label }\n\t\t\t\t</Text>\n\t\t\t) }\n\n\t\t\t<ScrollView\n\t\t\t\tcontentContainerStyle={ styles.contentContainer }\n\t\t\t\thorizontal\n\t\t\t\tshowsHorizontalScrollIndicator={ false }\n\t\t\t\tkeyboardShouldPersistTaps=\"always\"\n\t\t\t\tdisableScrollViewPanResponder\n\t\t\t\tscrollEventThrottle={ 16 }\n\t\t\t\tonScroll={ onScroll }\n\t\t\t\tonContentSizeChange={ onContentSizeChange }\n\t\t\t\tonScrollBeginDrag={ () =>\n\t\t\t\t\tshouldEnableBottomSheetScroll( false )\n\t\t\t\t}\n\t\t\t\tonScrollEndDrag={ () => shouldEnableBottomSheetScroll( true ) }\n\t\t\t\tref={ scrollViewRef }\n\t\t\t\ttestID={ `color-palette${ label ? '-' + label : '' }` }\n\t\t\t>\n\t\t\t\t{ colors.map( ( color ) => {\n\t\t\t\t\tconst scaleValue = isSelected( color )\n\t\t\t\t\t\t? scaleInterpolation\n\t\t\t\t\t\t: 1;\n\t\t\t\t\tconst colorName = getColorGradientName( color );\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<View key={ `${ color }-${ isSelected( color ) }` }>\n\t\t\t\t\t\t\t<TouchableWithoutFeedback\n\t\t\t\t\t\t\t\tonPress={ () => onColorPress( color ) }\n\t\t\t\t\t\t\t\taccessibilityRole=\"button\"\n\t\t\t\t\t\t\t\taccessibilityState={ {\n\t\t\t\t\t\t\t\t\tselected: isSelected( color ),\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\taccessibilityHint={ color }\n\t\t\t\t\t\t\t\taccessibilityLabel={ colorName }\n\t\t\t\t\t\t\t\ttestID={ color }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Animated.View\n\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\ttransform: [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tscale: scaleValue,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ColorIndicator\n\t\t\t\t\t\t\t\t\t\tcolor={ color }\n\t\t\t\t\t\t\t\t\t\tisSelected={ isSelected( color ) }\n\t\t\t\t\t\t\t\t\t\topacity={ opacity }\n\t\t\t\t\t\t\t\t\t\tstyle={ [\n\t\t\t\t\t\t\t\t\t\t\tstyles.colorIndicator,\n\t\t\t\t\t\t\t\t\t\t\tcustomColorIndicatorStyles,\n\t\t\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Animated.View>\n\t\t\t\t\t\t\t</TouchableWithoutFeedback>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t\t{ shouldShowCustomIndicator && (\n\t\t\t\t\t<View\n\t\t\t\t\t\tstyle={ customIndicatorWrapperStyle }\n\t\t\t\t\t\tonLayout={ onCustomIndicatorLayout }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ shouldShowCustomVerticalSeparator && (\n\t\t\t\t\t\t\t<View style={ verticalSeparatorStyle } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<TouchableWithoutFeedback\n\t\t\t\t\t\t\tonPress={ onCustomPress }\n\t\t\t\t\t\t\taccessibilityRole=\"button\"\n\t\t\t\t\t\t\taccessibilityState={ {\n\t\t\t\t\t\t\t\tselected: isSelectedCustom(),\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\taccessibilityHint={ accessibilityHint }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<View style={ customIndicatorWrapperStyle }>\n\t\t\t\t\t\t\t\t<ColorIndicator\n\t\t\t\t\t\t\t\t\twithCustomPicker={ ! isGradientSegment }\n\t\t\t\t\t\t\t\t\tcolor={ customIndicatorColor }\n\t\t\t\t\t\t\t\t\tisSelected={ isSelectedCustom() }\n\t\t\t\t\t\t\t\t\tstyle={ [\n\t\t\t\t\t\t\t\t\t\tstyles.colorIndicator,\n\t\t\t\t\t\t\t\t\t\tcustomColorIndicatorStyles,\n\t\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ shouldShowCustomLabel && (\n\t\t\t\t\t\t\t\t\t<Text style={ customTextStyle }>\n\t\t\t\t\t\t\t\t\t\t{ isIOS\n\t\t\t\t\t\t\t\t\t\t\t? customText\n\t\t\t\t\t\t\t\t\t\t\t: customText.toUpperCase() }\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</TouchableWithoutFeedback>\n\t\t\t\t\t</View>\n\t\t\t\t) }\n\t\t\t</ScrollView>\n\t\t</>\n\t);\n}\n\nexport default ColorPalette;\n"],"mappings":"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","ignoreList":[]}