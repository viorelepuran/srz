{"version":3,"names":["_clsx","_interopRequireDefault","require","_compose","_i18n","_icons","_element","_deprecated","_button","_context","_styles","_jsxRuntime","SuffixItem","searchRef","value","onChange","onClose","jsx","Icon","icon","search","deprecated","since","onReset","current","focus","default","size","closeSmall","label","__","onClick","UnforwardedSearchControl","__nextHasNoMarginBottom","className","placeholder","hideLabelFromVision","restProps","forwardedRef","disabled","filteredRestProps","useRef","instanceId","useInstanceId","SearchControl","contextValue","useMemo","BaseControl","_overrides","__associatedWPComponentName","InputBase","isBorderless","ContextSystemProvider","children","StyledInputControl","__next40pxDefaultSize","id","ref","useMergeRefs","type","clsx","nextValue","autoComplete","suffix","SuffixItemWrapper","exports","forwardRef","_default"],"sources":["@wordpress/components/src/search-control/index.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId, useMergeRefs } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { Icon, search, closeSmall } from '@wordpress/icons';\nimport { forwardRef, useMemo, useRef } from '@wordpress/element';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport type { WordPressComponentProps } from '../context/wordpress-component';\nimport type { SearchControlProps, SuffixItemProps } from './types';\nimport type { ForwardedRef } from 'react';\nimport { ContextSystemProvider } from '../context';\nimport { StyledInputControl, SuffixItemWrapper } from './styles';\n\nfunction SuffixItem( {\n\tsearchRef,\n\tvalue,\n\tonChange,\n\tonClose,\n}: SuffixItemProps ) {\n\tif ( ! onClose && ! value ) {\n\t\treturn <Icon icon={ search } />;\n\t}\n\n\tif ( onClose ) {\n\t\tdeprecated( '`onClose` prop in wp.components.SearchControl', {\n\t\t\tsince: '6.8',\n\t\t} );\n\t}\n\n\tconst onReset = () => {\n\t\tonChange( '' );\n\t\tsearchRef.current?.focus();\n\t};\n\n\treturn (\n\t\t<Button\n\t\t\tsize=\"small\"\n\t\t\ticon={ closeSmall }\n\t\t\tlabel={ onClose ? __( 'Close search' ) : __( 'Reset search' ) }\n\t\t\tonClick={ onClose ?? onReset }\n\t\t/>\n\t);\n}\n\nfunction UnforwardedSearchControl(\n\t{\n\t\t__nextHasNoMarginBottom = false,\n\t\tclassName,\n\t\tonChange,\n\t\tvalue,\n\t\tlabel = __( 'Search' ),\n\t\tplaceholder = __( 'Search' ),\n\t\thideLabelFromVision = true,\n\t\tonClose,\n\t\tsize = 'default',\n\t\t...restProps\n\t}: Omit<\n\t\tWordPressComponentProps< SearchControlProps, 'input', false >,\n\t\t// TODO: Background styling currently doesn't support a disabled state. Needs design work.\n\t\t'disabled'\n\t>,\n\tforwardedRef: ForwardedRef< HTMLInputElement >\n) {\n\t// @ts-expect-error The `disabled` prop is not yet supported in the SearchControl component.\n\t// Work with the design team (@WordPress/gutenberg-design) if you need this feature.\n\tconst { disabled, ...filteredRestProps } = restProps;\n\n\tconst searchRef = useRef< HTMLInputElement >( null );\n\tconst instanceId = useInstanceId(\n\t\tSearchControl,\n\t\t'components-search-control'\n\t);\n\n\tconst contextValue = useMemo(\n\t\t() => ( {\n\t\t\tBaseControl: {\n\t\t\t\t// Overrides the underlying BaseControl `__nextHasNoMarginBottom` via the context system\n\t\t\t\t// to provide backwards compatible margin for SearchControl.\n\t\t\t\t// (In a standard InputControl, the BaseControl `__nextHasNoMarginBottom` is always set to true.)\n\t\t\t\t_overrides: { __nextHasNoMarginBottom },\n\t\t\t\t__associatedWPComponentName: 'SearchControl',\n\t\t\t},\n\t\t\t// `isBorderless` is still experimental and not a public prop for InputControl yet.\n\t\t\tInputBase: { isBorderless: true },\n\t\t} ),\n\t\t[ __nextHasNoMarginBottom ]\n\t);\n\n\treturn (\n\t\t<ContextSystemProvider value={ contextValue }>\n\t\t\t<StyledInputControl\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tid={ instanceId }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\tlabel={ label }\n\t\t\t\tref={ useMergeRefs( [ searchRef, forwardedRef ] ) }\n\t\t\t\ttype=\"search\"\n\t\t\t\tsize={ size }\n\t\t\t\tclassName={ clsx( 'components-search-control', className ) }\n\t\t\t\tonChange={ ( nextValue?: string ) =>\n\t\t\t\t\tonChange( nextValue ?? '' )\n\t\t\t\t}\n\t\t\t\tautoComplete=\"off\"\n\t\t\t\tplaceholder={ placeholder }\n\t\t\t\tvalue={ value ?? '' }\n\t\t\t\tsuffix={\n\t\t\t\t\t<SuffixItemWrapper size={ size }>\n\t\t\t\t\t\t<SuffixItem\n\t\t\t\t\t\t\tsearchRef={ searchRef }\n\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</SuffixItemWrapper>\n\t\t\t\t}\n\t\t\t\t{ ...filteredRestProps }\n\t\t\t/>\n\t\t</ContextSystemProvider>\n\t);\n}\n\n/**\n * SearchControl components let users display a search control.\n *\n * ```jsx\n * import { SearchControl } from '@wordpress/components';\n * import { useState } from '@wordpress/element';\n *\n * function MySearchControl( { className, setState } ) {\n *   const [ searchInput, setSearchInput ] = useState( '' );\n *\n *   return (\n *     <SearchControl\n *       __nextHasNoMarginBottom\n *       value={ searchInput }\n *       onChange={ setSearchInput }\n *     />\n *   );\n * }\n * ```\n */\nexport const SearchControl = forwardRef( UnforwardedSearchControl );\n\nexport default SearchControl;\n"],"mappings":"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","ignoreList":[]}