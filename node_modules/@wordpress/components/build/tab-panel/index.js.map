{"version":3,"names":["Ariakit","_interopRequireWildcard","require","_clsx","_interopRequireDefault","_element","_compose","_i18n","_button","_jsxRuntime","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","extractTabName","id","match","UnforwardedTabPanel","className","children","tabs","selectOnMove","initialTabName","orientation","activeClass","onSelect","ref","instanceId","useInstanceId","TabPanel","prependInstanceId","useCallback","tabName","tabStore","useTabStore","setSelectedId","newTabValue","newTab","find","name","disabled","selectedTab","simplifiedTabName","defaultSelectedId","rtl","isRTL","selectedTabName","useStoreState","setTabStoreSelectedId","setState","previousSelectedTabName","usePrevious","useEffect","useLayoutEffect","initialTab","tab","firstEnabledTab","jsxs","jsx","TabList","store","map","Tab","clsx","render","__next40pxDefaultSize","icon","label","title","showTooltip","tabId","exports","forwardRef","_default"],"sources":["@wordpress/components/src/tab-panel/index.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport * as Ariakit from '@ariakit/react';\nimport clsx from 'clsx';\nimport type { ForwardedRef } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tforwardRef,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseCallback,\n} from '@wordpress/element';\nimport { useInstanceId, usePrevious } from '@wordpress/compose';\nimport { isRTL } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\n\nimport Button from '../button';\nimport type { TabPanelProps } from './types';\nimport type { WordPressComponentProps } from '../context';\n\n// Separate the actual tab name from the instance ID. This is\n// necessary because Ariakit internally uses the element ID when\n// a new tab is selected, but our implementation looks specifically\n// for the tab name to be passed to the `onSelect` callback.\nconst extractTabName = ( id: string | undefined | null ) => {\n\tif ( typeof id === 'undefined' || id === null ) {\n\t\treturn;\n\t}\n\treturn id.match( /^tab-panel-[0-9]*-(.*)/ )?.[ 1 ];\n};\n\n/**\n * TabPanel is an ARIA-compliant tabpanel.\n *\n * TabPanels organize content across different screens, data sets, and interactions.\n * It has two sections: a list of tabs, and the view to show when tabs are chosen.\n *\n * ```jsx\n * import { TabPanel } from '@wordpress/components';\n *\n * const onSelect = ( tabName ) => {\n *   console.log( 'Selecting tab', tabName );\n * };\n *\n * const MyTabPanel = () => (\n *   <TabPanel\n *     className=\"my-tab-panel\"\n *     activeClass=\"active-tab\"\n *     onSelect={ onSelect }\n *     tabs={ [\n *       {\n *         name: 'tab1',\n *         title: 'Tab 1',\n *         className: 'tab-one',\n *       },\n *       {\n *         name: 'tab2',\n *         title: 'Tab 2',\n *         className: 'tab-two',\n *       },\n *     ] }\n *   >\n *     { ( tab ) => <p>{ tab.title }</p> }\n *   </TabPanel>\n * );\n * ```\n */\nconst UnforwardedTabPanel = (\n\t{\n\t\tclassName,\n\t\tchildren,\n\t\ttabs,\n\t\tselectOnMove = true,\n\t\tinitialTabName,\n\t\torientation = 'horizontal',\n\t\tactiveClass = 'is-active',\n\t\tonSelect,\n\t}: WordPressComponentProps< TabPanelProps, 'div', false >,\n\tref: ForwardedRef< any >\n) => {\n\tconst instanceId = useInstanceId( TabPanel, 'tab-panel' );\n\n\tconst prependInstanceId = useCallback(\n\t\t( tabName: string | undefined ) => {\n\t\t\tif ( typeof tabName === 'undefined' ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn `${ instanceId }-${ tabName }`;\n\t\t},\n\t\t[ instanceId ]\n\t);\n\n\tconst tabStore = Ariakit.useTabStore( {\n\t\tsetSelectedId: ( newTabValue ) => {\n\t\t\tif ( typeof newTabValue === 'undefined' || newTabValue === null ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst newTab = tabs.find(\n\t\t\t\t( t ) => prependInstanceId( t.name ) === newTabValue\n\t\t\t);\n\t\t\tif ( newTab?.disabled || newTab === selectedTab ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst simplifiedTabName = extractTabName( newTabValue );\n\t\t\tif ( typeof simplifiedTabName === 'undefined' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tonSelect?.( simplifiedTabName );\n\t\t},\n\t\torientation,\n\t\tselectOnMove,\n\t\tdefaultSelectedId: prependInstanceId( initialTabName ),\n\t\trtl: isRTL(),\n\t} );\n\n\tconst selectedTabName = extractTabName(\n\t\tAriakit.useStoreState( tabStore, 'selectedId' )\n\t);\n\n\tconst setTabStoreSelectedId = useCallback(\n\t\t( tabName: string ) => {\n\t\t\ttabStore.setState( 'selectedId', prependInstanceId( tabName ) );\n\t\t},\n\t\t[ prependInstanceId, tabStore ]\n\t);\n\n\tconst selectedTab = tabs.find( ( { name } ) => name === selectedTabName );\n\n\tconst previousSelectedTabName = usePrevious( selectedTabName );\n\n\t// Ensure `onSelect` is called when the initial tab is selected.\n\tuseEffect( () => {\n\t\tif (\n\t\t\tpreviousSelectedTabName !== selectedTabName &&\n\t\t\tselectedTabName === initialTabName &&\n\t\t\t!! selectedTabName\n\t\t) {\n\t\t\tonSelect?.( selectedTabName );\n\t\t}\n\t}, [ selectedTabName, initialTabName, onSelect, previousSelectedTabName ] );\n\n\t// Handle selecting the initial tab.\n\tuseLayoutEffect( () => {\n\t\t// If there's a selected tab, don't override it.\n\t\tif ( selectedTab ) {\n\t\t\treturn;\n\t\t}\n\t\tconst initialTab = tabs.find( ( tab ) => tab.name === initialTabName );\n\t\t// Wait for the denoted initial tab to be declared before making a\n\t\t// selection. This ensures that if a tab is declared lazily it can\n\t\t// still receive initial selection.\n\t\tif ( initialTabName && ! initialTab ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( initialTab && ! initialTab.disabled ) {\n\t\t\t// Select the initial tab if it's not disabled.\n\t\t\tsetTabStoreSelectedId( initialTab.name );\n\t\t} else {\n\t\t\t// Fallback to the first enabled tab when the initial tab is\n\t\t\t// disabled or it can't be found.\n\t\t\tconst firstEnabledTab = tabs.find( ( tab ) => ! tab.disabled );\n\t\t\tif ( firstEnabledTab ) {\n\t\t\t\tsetTabStoreSelectedId( firstEnabledTab.name );\n\t\t\t}\n\t\t}\n\t}, [\n\t\ttabs,\n\t\tselectedTab,\n\t\tinitialTabName,\n\t\tinstanceId,\n\t\tsetTabStoreSelectedId,\n\t] );\n\n\t// Handle the currently selected tab becoming disabled.\n\tuseEffect( () => {\n\t\t// This effect only runs when the selected tab is defined and becomes disabled.\n\t\tif ( ! selectedTab?.disabled ) {\n\t\t\treturn;\n\t\t}\n\t\tconst firstEnabledTab = tabs.find( ( tab ) => ! tab.disabled );\n\t\t// If the currently selected tab becomes disabled, select the first enabled tab.\n\t\t// (if there is one).\n\t\tif ( firstEnabledTab ) {\n\t\t\tsetTabStoreSelectedId( firstEnabledTab.name );\n\t\t}\n\t}, [ tabs, selectedTab?.disabled, setTabStoreSelectedId, instanceId ] );\n\treturn (\n\t\t<div className={ className } ref={ ref }>\n\t\t\t<Ariakit.TabList\n\t\t\t\tstore={ tabStore }\n\t\t\t\tclassName=\"components-tab-panel__tabs\"\n\t\t\t>\n\t\t\t\t{ tabs.map( ( tab ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Ariakit.Tab\n\t\t\t\t\t\t\tkey={ tab.name }\n\t\t\t\t\t\t\tid={ prependInstanceId( tab.name ) }\n\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t'components-tab-panel__tabs-item',\n\t\t\t\t\t\t\t\ttab.className,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t[ activeClass ]:\n\t\t\t\t\t\t\t\t\t\ttab.name === selectedTabName,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tdisabled={ tab.disabled }\n\t\t\t\t\t\t\taria-controls={ `${ prependInstanceId(\n\t\t\t\t\t\t\t\ttab.name\n\t\t\t\t\t\t\t) }-view` }\n\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\ticon={ tab.icon }\n\t\t\t\t\t\t\t\t\tlabel={ tab.icon && tab.title }\n\t\t\t\t\t\t\t\t\tshowTooltip={ !! tab.icon }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ ! tab.icon && tab.title }\n\t\t\t\t\t\t</Ariakit.Tab>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</Ariakit.TabList>\n\t\t\t{ selectedTab && (\n\t\t\t\t<Ariakit.TabPanel\n\t\t\t\t\tid={ `${ prependInstanceId( selectedTab.name ) }-view` }\n\t\t\t\t\tstore={ tabStore }\n\t\t\t\t\ttabId={ prependInstanceId( selectedTab.name ) }\n\t\t\t\t\tclassName=\"components-tab-panel__tab-content\"\n\t\t\t\t>\n\t\t\t\t\t{ children( selectedTab ) }\n\t\t\t\t</Ariakit.TabPanel>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\nexport const TabPanel = forwardRef( UnforwardedTabPanel );\nexport default TabPanel;\n"],"mappings":"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","ignoreList":[]}