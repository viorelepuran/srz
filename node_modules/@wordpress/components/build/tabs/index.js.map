{"version":3,"names":["Ariakit","_interopRequireWildcard","require","_compose","_element","_i18n","_context","_tab","_tablist","_tabpanel","_jsxRuntime","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","externalToInternalTabId","externalId","instanceId","internalToExternalTabId","internalId","replace","Tabs","exports","assign","selectOnMove","defaultTabId","orientation","onSelect","children","selectedTabId","activeTabId","defaultActiveTabId","onActiveTabIdChange","useInstanceId","store","useTabStore","defaultSelectedId","setSelectedId","newSelectedId","selectedId","defaultActiveId","setActiveId","newActiveId","activeId","rtl","isRTL","items","useStoreState","useEffect","requestAnimationFrame","focusedElement","element","ownerDocument","activeElement","some","item","id","contextValue","useMemo","jsx","TabsContext","Provider","value","Tab","displayName","TabList","TabPanel","Context"],"sources":["@wordpress/components/src/tabs/index.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport * as Ariakit from '@ariakit/react';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@wordpress/compose';\nimport { useEffect, useMemo } from '@wordpress/element';\nimport { isRTL } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { TabsProps } from './types';\nimport { TabsContext } from './context';\nimport { Tab } from './tab';\nimport { TabList } from './tablist';\nimport { TabPanel } from './tabpanel';\n\nfunction externalToInternalTabId(\n\texternalId: string | undefined | null,\n\tinstanceId: string\n) {\n\treturn externalId && `${ instanceId }-${ externalId }`;\n}\n\nfunction internalToExternalTabId(\n\tinternalId: string | undefined | null,\n\tinstanceId: string\n) {\n\treturn typeof internalId === 'string'\n\t\t? internalId.replace( `${ instanceId }-`, '' )\n\t\t: internalId;\n}\n\n/**\n * Tabs is a collection of React components that combine to render\n * an [ARIA-compliant tabs pattern](https://www.w3.org/WAI/ARIA/apg/patterns/tabs/).\n *\n * Tabs organizes content across different screens, data sets, and interactions.\n * It has two sections: a list of tabs, and the view to show when a tab is chosen.\n *\n * `Tabs` itself is a wrapper component and context provider.\n * It is responsible for managing the state of the tabs, and rendering one instance of the `Tabs.TabList` component and one or more instances of the `Tab.TabPanel` component.\n */\nexport const Tabs = Object.assign(\n\tfunction Tabs( {\n\t\tselectOnMove = true,\n\t\tdefaultTabId,\n\t\torientation = 'horizontal',\n\t\tonSelect,\n\t\tchildren,\n\t\tselectedTabId,\n\t\tactiveTabId,\n\t\tdefaultActiveTabId,\n\t\tonActiveTabIdChange,\n\t}: TabsProps ) {\n\t\tconst instanceId = useInstanceId( Tabs, 'tabs' );\n\t\tconst store = Ariakit.useTabStore( {\n\t\t\tselectOnMove,\n\t\t\torientation,\n\t\t\tdefaultSelectedId: externalToInternalTabId(\n\t\t\t\tdefaultTabId,\n\t\t\t\tinstanceId\n\t\t\t),\n\t\t\tsetSelectedId: ( newSelectedId ) => {\n\t\t\t\tonSelect?.(\n\t\t\t\t\tinternalToExternalTabId( newSelectedId, instanceId )\n\t\t\t\t);\n\t\t\t},\n\t\t\tselectedId: externalToInternalTabId( selectedTabId, instanceId ),\n\t\t\tdefaultActiveId: externalToInternalTabId(\n\t\t\t\tdefaultActiveTabId,\n\t\t\t\tinstanceId\n\t\t\t),\n\t\t\tsetActiveId: ( newActiveId ) => {\n\t\t\t\tonActiveTabIdChange?.(\n\t\t\t\t\tinternalToExternalTabId( newActiveId, instanceId )\n\t\t\t\t);\n\t\t\t},\n\t\t\tactiveId: externalToInternalTabId( activeTabId, instanceId ),\n\t\t\trtl: isRTL(),\n\t\t} );\n\n\t\tconst { items, activeId } = Ariakit.useStoreState( store );\n\t\tconst { setActiveId } = store;\n\n\t\tuseEffect( () => {\n\t\t\trequestAnimationFrame( () => {\n\t\t\t\tconst focusedElement =\n\t\t\t\t\titems?.[ 0 ]?.element?.ownerDocument.activeElement;\n\n\t\t\t\tif (\n\t\t\t\t\t! focusedElement ||\n\t\t\t\t\t! items.some( ( item ) => focusedElement === item.element )\n\t\t\t\t) {\n\t\t\t\t\treturn; // Return early if no tabs are focused.\n\t\t\t\t}\n\n\t\t\t\t// If, after ariakit re-computes the active tab, that tab doesn't match\n\t\t\t\t// the currently focused tab, then we force an update to ariakit to avoid\n\t\t\t\t// any mismatches, especially when navigating to previous/next tab with\n\t\t\t\t// arrow keys.\n\t\t\t\tif ( activeId !== focusedElement.id ) {\n\t\t\t\t\tsetActiveId( focusedElement.id );\n\t\t\t\t}\n\t\t\t} );\n\t\t}, [ activeId, items, setActiveId ] );\n\n\t\tconst contextValue = useMemo(\n\t\t\t() => ( {\n\t\t\t\tstore,\n\t\t\t\tinstanceId,\n\t\t\t} ),\n\t\t\t[ store, instanceId ]\n\t\t);\n\n\t\treturn (\n\t\t\t<TabsContext.Provider value={ contextValue }>\n\t\t\t\t{ children }\n\t\t\t</TabsContext.Provider>\n\t\t);\n\t},\n\t{\n\t\t/**\n\t\t * Renders a single tab.\n\t\t *\n\t\t * The currently active tab receives default styling that can be\n\t\t * overridden with CSS targeting `[aria-selected=\"true\"]`.\n\t\t */\n\t\tTab: Object.assign( Tab, {\n\t\t\tdisplayName: 'Tabs.Tab',\n\t\t} ),\n\t\t/**\n\t\t * A wrapper component for the `Tab` components.\n\t\t *\n\t\t * It is responsible for rendering the list of tabs.\n\t\t */\n\t\tTabList: Object.assign( TabList, {\n\t\t\tdisplayName: 'Tabs.TabList',\n\t\t} ),\n\t\t/**\n\t\t * Renders the content to display for a single tab once that tab is selected.\n\t\t */\n\t\tTabPanel: Object.assign( TabPanel, {\n\t\t\tdisplayName: 'Tabs.TabPanel',\n\t\t} ),\n\t\tContext: Object.assign( TabsContext, {\n\t\t\tdisplayName: 'Tabs.Context',\n\t\t} ),\n\t}\n);\n"],"mappings":"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","ignoreList":[]}