{"version":3,"names":["_clsx","_interopRequireDefault","require","_element","_i18n","_icons","_compose","_deprecated","_numberControlStyles","inputControlActionTypes","_interopRequireWildcard","_math","_values","_hStack","_spacer","_utils","_useDeprecatedProps","_deprecated36pxSize","_jsxRuntime","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","noop","UnforwardedNumberControl","props","forwardedRef","__unstableStateReducer","stateReducerProp","className","dragDirection","hideHTMLArrows","spinControls","isDragEnabled","isShiftStepEnabled","label","max","Infinity","min","required","shiftStep","step","spinFactor","type","typeProp","value","valueProp","size","suffix","onChange","__shouldNotWarnDeprecated36pxSize","restProps","useDeprecated36pxDefaultSizeProp","maybeWarnDeprecated36pxSize","componentName","__next40pxDefaultSize","deprecated","alternative","since","version","inputRef","useRef","mergedRef","useMergeRefs","isStepAny","baseStep","ensureNumber","baseSpin","constrainValue","stepOverride","ensureValidStep","clamp","baseValue","autoComplete","undefined","classes","clsx","cx","useCx","spinButtonClasses","styles","smallSpinButtons","spinValue","direction","event","preventDefault","shift","shiftKey","delta","nextValue","isValueEmpty","add","subtract","numberControlStateReducer","state","action","nextState","payload","currentValue","PRESS_UP","PRESS_DOWN","DRAG","x","y","enableShift","modifier","directionModifier","isRTL","Math","ceil","abs","sign","distance","PRESS_ENTER","COMMIT","applyEmptyValue","buildSpinButtonClickHandler","String","target","current","jsx","Input","inputMode","ref","_stateReducerProp","baseState","jsxs","Fragment","children","Spacer","marginBottom","marginRight","HStack","spacing","SpinButton","icon","plusIcon","__","onClick","resetIcon","NumberControl","exports","forwardRef","_default"],"sources":["@wordpress/components/src/number-control/index.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport type { ForwardedRef, KeyboardEvent, MouseEvent } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { useRef, forwardRef } from '@wordpress/element';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { plus as plusIcon, reset as resetIcon } from '@wordpress/icons';\nimport { useMergeRefs } from '@wordpress/compose';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport { Input, SpinButton, styles } from './styles/number-control-styles';\nimport * as inputControlActionTypes from '../input-control/reducer/actions';\nimport { add, subtract, clamp, ensureValidStep } from '../utils/math';\nimport { ensureNumber, isValueEmpty } from '../utils/values';\nimport type { WordPressComponentProps } from '../context/wordpress-component';\nimport type { NumberControlProps } from './types';\nimport { HStack } from '../h-stack';\nimport { Spacer } from '../spacer';\nimport { useCx } from '../utils';\nimport { useDeprecated36pxDefaultSizeProp } from '../utils/use-deprecated-props';\nimport { maybeWarnDeprecated36pxSize } from '../utils/deprecated-36px-size';\n\nconst noop = () => {};\n\nfunction UnforwardedNumberControl(\n\tprops: WordPressComponentProps< NumberControlProps, 'input', false >,\n\tforwardedRef: ForwardedRef< any >\n) {\n\tconst {\n\t\t__unstableStateReducer: stateReducerProp,\n\t\tclassName,\n\t\tdragDirection = 'n',\n\t\thideHTMLArrows = false,\n\t\tspinControls = hideHTMLArrows ? 'none' : 'native',\n\t\tisDragEnabled = true,\n\t\tisShiftStepEnabled = true,\n\t\tlabel,\n\t\tmax = Infinity,\n\t\tmin = -Infinity,\n\t\trequired = false,\n\t\tshiftStep = 10,\n\t\tstep = 1,\n\t\tspinFactor = 1,\n\t\ttype: typeProp = 'number',\n\t\tvalue: valueProp,\n\t\tsize = 'default',\n\t\tsuffix,\n\t\tonChange = noop,\n\t\t__shouldNotWarnDeprecated36pxSize,\n\t\t...restProps\n\t} = useDeprecated36pxDefaultSizeProp< NumberControlProps >( props );\n\n\tmaybeWarnDeprecated36pxSize( {\n\t\tcomponentName: 'NumberControl',\n\t\tsize,\n\t\t__next40pxDefaultSize: restProps.__next40pxDefaultSize,\n\t\t__shouldNotWarnDeprecated36pxSize,\n\t} );\n\n\tif ( hideHTMLArrows ) {\n\t\tdeprecated( 'wp.components.NumberControl hideHTMLArrows prop ', {\n\t\t\talternative: 'spinControls=\"none\"',\n\t\t\tsince: '6.2',\n\t\t\tversion: '6.3',\n\t\t} );\n\t}\n\tconst inputRef = useRef< HTMLInputElement >();\n\tconst mergedRef = useMergeRefs( [ inputRef, forwardedRef ] );\n\n\tconst isStepAny = step === 'any';\n\tconst baseStep = isStepAny ? 1 : ensureNumber( step );\n\tconst baseSpin = ensureNumber( spinFactor ) * baseStep;\n\tconst constrainValue = (\n\t\tvalue: number | string,\n\t\tstepOverride?: number\n\t) => {\n\t\t// When step is not \"any\" the value must be a valid step.\n\t\tif ( ! isStepAny ) {\n\t\t\tvalue = ensureValidStep( value, min, stepOverride ?? baseStep );\n\t\t}\n\n\t\treturn `${ clamp( value, min, max ) }`;\n\t};\n\tconst baseValue = constrainValue( 0 );\n\n\tconst autoComplete = typeProp === 'number' ? 'off' : undefined;\n\tconst classes = clsx( 'components-number-control', className );\n\tconst cx = useCx();\n\tconst spinButtonClasses = cx( size === 'small' && styles.smallSpinButtons );\n\n\tconst spinValue = (\n\t\tvalue: string | number | undefined,\n\t\tdirection: 'up' | 'down',\n\t\tevent: KeyboardEvent | MouseEvent | undefined\n\t) => {\n\t\tevent?.preventDefault();\n\t\tconst shift = event?.shiftKey && isShiftStepEnabled;\n\t\tconst delta = shift ? ensureNumber( shiftStep ) * baseSpin : baseSpin;\n\t\tlet nextValue = isValueEmpty( value ) ? baseValue : value;\n\t\tif ( direction === 'up' ) {\n\t\t\tnextValue = add( nextValue, delta );\n\t\t} else if ( direction === 'down' ) {\n\t\t\tnextValue = subtract( nextValue, delta );\n\t\t}\n\t\treturn constrainValue( nextValue, shift ? delta : undefined );\n\t};\n\n\t/**\n\t * \"Middleware\" function that intercepts updates from InputControl.\n\t * This allows us to tap into actions to transform the (next) state for\n\t * InputControl.\n\t *\n\t * @return The updated state to apply to InputControl\n\t */\n\tconst numberControlStateReducer: NumberControlProps[ '__unstableStateReducer' ] =\n\t\t( state, action ) => {\n\t\t\tconst nextState = { ...state };\n\n\t\t\tconst { type, payload } = action;\n\t\t\tconst event = payload.event;\n\t\t\tconst currentValue = nextState.value;\n\n\t\t\t/**\n\t\t\t * Handles custom UP and DOWN Keyboard events\n\t\t\t */\n\t\t\tif (\n\t\t\t\ttype === inputControlActionTypes.PRESS_UP ||\n\t\t\t\ttype === inputControlActionTypes.PRESS_DOWN\n\t\t\t) {\n\t\t\t\tnextState.value = spinValue(\n\t\t\t\t\tcurrentValue,\n\t\t\t\t\ttype === inputControlActionTypes.PRESS_UP ? 'up' : 'down',\n\t\t\t\t\tevent as KeyboardEvent | undefined\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Handles drag to update events\n\t\t\t */\n\t\t\tif ( type === inputControlActionTypes.DRAG && isDragEnabled ) {\n\t\t\t\tconst [ x, y ] = payload.delta;\n\t\t\t\tconst enableShift = payload.shiftKey && isShiftStepEnabled;\n\t\t\t\tconst modifier = enableShift\n\t\t\t\t\t? ensureNumber( shiftStep ) * baseSpin\n\t\t\t\t\t: baseSpin;\n\n\t\t\t\tlet directionModifier;\n\t\t\t\tlet delta;\n\n\t\t\t\tswitch ( dragDirection ) {\n\t\t\t\t\tcase 'n':\n\t\t\t\t\t\tdelta = y;\n\t\t\t\t\t\tdirectionModifier = -1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'e':\n\t\t\t\t\t\tdelta = x;\n\t\t\t\t\t\tdirectionModifier = isRTL() ? -1 : 1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 's':\n\t\t\t\t\t\tdelta = y;\n\t\t\t\t\t\tdirectionModifier = 1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'w':\n\t\t\t\t\t\tdelta = x;\n\t\t\t\t\t\tdirectionModifier = isRTL() ? 1 : -1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif ( delta !== 0 ) {\n\t\t\t\t\tdelta = Math.ceil( Math.abs( delta ) ) * Math.sign( delta );\n\t\t\t\t\tconst distance = delta * modifier * directionModifier;\n\n\t\t\t\t\tnextState.value = constrainValue(\n\t\t\t\t\t\t// @ts-expect-error TODO: Investigate if it's ok for currentValue to be undefined\n\t\t\t\t\t\tadd( currentValue, distance ),\n\t\t\t\t\t\tenableShift ? modifier : undefined\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Handles commit (ENTER key press or blur)\n\t\t\t */\n\t\t\tif (\n\t\t\t\ttype === inputControlActionTypes.PRESS_ENTER ||\n\t\t\t\ttype === inputControlActionTypes.COMMIT\n\t\t\t) {\n\t\t\t\tconst applyEmptyValue =\n\t\t\t\t\trequired === false && currentValue === '';\n\n\t\t\t\tnextState.value = applyEmptyValue\n\t\t\t\t\t? currentValue\n\t\t\t\t\t: // @ts-expect-error TODO: Investigate if it's ok for currentValue to be undefined\n\t\t\t\t\t  constrainValue( currentValue );\n\t\t\t}\n\n\t\t\treturn nextState;\n\t\t};\n\n\tconst buildSpinButtonClickHandler =\n\t\t( direction: 'up' | 'down' ) =>\n\t\t( event: MouseEvent< HTMLButtonElement > ) =>\n\t\t\tonChange( String( spinValue( valueProp, direction, event ) ), {\n\t\t\t\t// Set event.target to the <input> so that consumers can use\n\t\t\t\t// e.g. event.target.validity.\n\t\t\t\tevent: {\n\t\t\t\t\t...event,\n\t\t\t\t\ttarget: inputRef.current!,\n\t\t\t\t},\n\t\t\t} );\n\n\treturn (\n\t\t<Input\n\t\t\tautoComplete={ autoComplete }\n\t\t\tinputMode=\"numeric\"\n\t\t\t{ ...restProps }\n\t\t\tclassName={ classes }\n\t\t\tdragDirection={ dragDirection }\n\t\t\thideHTMLArrows={ spinControls !== 'native' }\n\t\t\tisDragEnabled={ isDragEnabled }\n\t\t\tlabel={ label }\n\t\t\tmax={ max === Infinity ? undefined : max }\n\t\t\tmin={ min === -Infinity ? undefined : min }\n\t\t\tref={ mergedRef }\n\t\t\trequired={ required }\n\t\t\tstep={ step }\n\t\t\ttype={ typeProp }\n\t\t\t// @ts-expect-error TODO: Resolve discrepancy between `value` types in InputControl based components\n\t\t\tvalue={ valueProp }\n\t\t\t__unstableStateReducer={ ( state, action ) => {\n\t\t\t\tconst baseState = numberControlStateReducer( state, action );\n\t\t\t\treturn stateReducerProp?.( baseState, action ) ?? baseState;\n\t\t\t} }\n\t\t\tsize={ size }\n\t\t\t__shouldNotWarnDeprecated36pxSize\n\t\t\tsuffix={\n\t\t\t\tspinControls === 'custom' ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ suffix }\n\t\t\t\t\t\t<Spacer marginBottom={ 0 } marginRight={ 2 }>\n\t\t\t\t\t\t\t<HStack spacing={ 1 }>\n\t\t\t\t\t\t\t\t<SpinButton\n\t\t\t\t\t\t\t\t\tclassName={ spinButtonClasses }\n\t\t\t\t\t\t\t\t\ticon={ plusIcon }\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Increment' ) }\n\t\t\t\t\t\t\t\t\tonClick={ buildSpinButtonClickHandler(\n\t\t\t\t\t\t\t\t\t\t'up'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<SpinButton\n\t\t\t\t\t\t\t\t\tclassName={ spinButtonClasses }\n\t\t\t\t\t\t\t\t\ticon={ resetIcon }\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Decrement' ) }\n\t\t\t\t\t\t\t\t\tonClick={ buildSpinButtonClickHandler(\n\t\t\t\t\t\t\t\t\t\t'down'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t</Spacer>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\tsuffix\n\t\t\t\t)\n\t\t\t}\n\t\t\tonChange={ onChange }\n\t\t/>\n\t);\n}\n\nexport const NumberControl = forwardRef( UnforwardedNumberControl );\n\nexport default NumberControl;\n"],"mappings":"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","ignoreList":[]}