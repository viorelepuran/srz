{"version":3,"names":["clsx","__","useState","commentAuthorAvatar","authorIcon","__experimentalHStack","HStack","Icon","useSelect","store","coreStore","jsx","_jsx","jsxs","_jsxs","AuthorView","item","text","imageUrl","select","getEntityRecord","user","author","avatar_urls","name","isImageLoaded","setIsImageLoaded","alignment","spacing","children","className","onLoad","alt","src","icon"],"sources":["@wordpress/fields/src/fields/author/author-view.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { commentAuthorAvatar as authorIcon } from '@wordpress/icons';\nimport { __experimentalHStack as HStack, Icon } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport type { User } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport type { BasePostWithEmbeddedAuthor } from '../../types';\n\nfunction AuthorView( { item }: { item: BasePostWithEmbeddedAuthor } ) {\n\tconst { text, imageUrl } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord } = select( coreStore );\n\t\t\tlet user: User | undefined;\n\t\t\tif ( !! item.author ) {\n\t\t\t\tuser = getEntityRecord( 'root', 'user', item.author );\n\t\t\t}\n\t\t\treturn {\n\t\t\t\timageUrl: user?.avatar_urls?.[ 48 ],\n\t\t\t\ttext: user?.name,\n\t\t\t};\n\t\t},\n\t\t[ item ]\n\t);\n\tconst [ isImageLoaded, setIsImageLoaded ] = useState( false );\n\treturn (\n\t\t<HStack alignment=\"left\" spacing={ 0 }>\n\t\t\t{ !! imageUrl && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ clsx( 'page-templates-author-field__avatar', {\n\t\t\t\t\t\t'is-loaded': isImageLoaded,\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tonLoad={ () => setIsImageLoaded( true ) }\n\t\t\t\t\t\talt={ __( 'Author avatar' ) }\n\t\t\t\t\t\tsrc={ imageUrl }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ ! imageUrl && (\n\t\t\t\t<div className=\"page-templates-author-field__icon\">\n\t\t\t\t\t<Icon icon={ authorIcon } />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<span className=\"page-templates-author-field__name\">{ text }</span>\n\t\t</HStack>\n\t);\n}\n\nexport default AuthorView;\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;;AAEvB;AACA;AACA;AACA,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,mBAAmB,IAAIC,UAAU,QAAQ,kBAAkB;AACpE,SAASC,oBAAoB,IAAIC,MAAM,EAAEC,IAAI,QAAQ,uBAAuB;AAC5E,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;;AAGzD;AACA;AACA;AAFA,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAKA,SAASC,UAAUA,CAAE;EAAEC;AAA2C,CAAC,EAAG;EACrE,MAAM;IAAEC,IAAI;IAAEC;EAAS,CAAC,GAAGV,SAAS,CACjCW,MAAM,IAAM;IACb,MAAM;MAAEC;IAAgB,CAAC,GAAGD,MAAM,CAAET,SAAU,CAAC;IAC/C,IAAIW,IAAsB;IAC1B,IAAK,CAAC,CAAEL,IAAI,CAACM,MAAM,EAAG;MACrBD,IAAI,GAAGD,eAAe,CAAE,MAAM,EAAE,MAAM,EAAEJ,IAAI,CAACM,MAAO,CAAC;IACtD;IACA,OAAO;MACNJ,QAAQ,EAAEG,IAAI,EAAEE,WAAW,GAAI,EAAE,CAAE;MACnCN,IAAI,EAAEI,IAAI,EAAEG;IACb,CAAC;EACF,CAAC,EACD,CAAER,IAAI,CACP,CAAC;EACD,MAAM,CAAES,aAAa,EAAEC,gBAAgB,CAAE,GAAGxB,QAAQ,CAAE,KAAM,CAAC;EAC7D,oBACCY,KAAA,CAACR,MAAM;IAACqB,SAAS,EAAC,MAAM;IAACC,OAAO,EAAG,CAAG;IAAAC,QAAA,GACnC,CAAC,CAAEX,QAAQ,iBACZN,IAAA;MACCkB,SAAS,EAAG9B,IAAI,CAAE,qCAAqC,EAAE;QACxD,WAAW,EAAEyB;MACd,CAAE,CAAG;MAAAI,QAAA,eAELjB,IAAA;QACCmB,MAAM,EAAGA,CAAA,KAAML,gBAAgB,CAAE,IAAK,CAAG;QACzCM,GAAG,EAAG/B,EAAE,CAAE,eAAgB,CAAG;QAC7BgC,GAAG,EAAGf;MAAU,CAChB;IAAC,CACE,CACL,EACC,CAAEA,QAAQ,iBACXN,IAAA;MAAKkB,SAAS,EAAC,mCAAmC;MAAAD,QAAA,eACjDjB,IAAA,CAACL,IAAI;QAAC2B,IAAI,EAAG9B;MAAY,CAAE;IAAC,CACxB,CACL,eACDQ,IAAA;MAAMkB,SAAS,EAAC,mCAAmC;MAAAD,QAAA,EAAGZ;IAAI,CAAQ,CAAC;EAAA,CAC5D,CAAC;AAEX;AAEA,eAAeF,UAAU","ignoreList":[]}