{"version":3,"names":["_icons","require","_data","_coreData","_i18n","_notices","_element","_blocks","_components","_url","_apiFetch","_interopRequireDefault","_utils","_jsxRuntime","isTemplateRevertable","templateOrTemplatePart","source","Boolean","plugin","has_theme_file","revertTemplate","template","allowUndo","noticeId","dispatch","noticesStore","removeNotice","createErrorNotice","__","type","templateEntityConfig","select","coreStore","getEntityConfig","fileTemplatePath","addQueryArgs","baseURL","id","context","origin","fileTemplate","apiFetch","path","serializeBlocks","blocks","blocksForSerialization","__unstableSerializeAndClean","edited","getEditedEntityRecord","editEntityRecord","content","undoIgnore","parse","raw","undoRevert","createSuccessNotice","actions","label","onClick","error","errorMessage","message","code","resetPostAction","isEligible","item","isTemplateOrTemplatePart","icon","backup","supportsBulk","hideModalHeader","modalFocusOnMount","RenderModal","items","closeModal","onActionPerformed","isBusy","setIsBusy","useState","saveEditedEntityRecord","useDispatch","onConfirm","length","sprintf","getItemTitle","fallbackErrorMessage","typedError","jsxs","__experimentalVStack","spacing","children","jsx","__experimentalText","__experimentalHStack","justify","Button","__next40pxDefaultSize","variant","disabled","accessibleWhenDisabled","_default","exports","default"],"sources":["@wordpress/fields/src/actions/reset-post.tsx"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { backup } from '@wordpress/icons';\nimport { dispatch, select, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useState } from '@wordpress/element';\n// @ts-ignore\nimport { parse, __unstableSerializeAndClean } from '@wordpress/blocks';\nimport {\n\tButton,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport type { Action } from '@wordpress/dataviews';\nimport { addQueryArgs } from '@wordpress/url';\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Internal dependencies\n */\nimport { getItemTitle, isTemplateOrTemplatePart } from './utils';\nimport type { CoreDataError, Template, TemplatePart } from '../types';\n\nconst isTemplateRevertable = (\n\ttemplateOrTemplatePart: Template | TemplatePart\n) => {\n\tif ( ! templateOrTemplatePart ) {\n\t\treturn false;\n\t}\n\n\treturn (\n\t\ttemplateOrTemplatePart.source === 'custom' &&\n\t\t( Boolean( templateOrTemplatePart?.plugin ) ||\n\t\t\ttemplateOrTemplatePart?.has_theme_file )\n\t);\n};\n\n/**\n *  Copied - pasted from https://github.com/WordPress/gutenberg/blob/bf1462ad37d4637ebbf63270b9c244b23c69e2a8/packages/editor/src/store/private-actions.js#L233-L365\n *\n * @param {Object}  template            The template to revert.\n * @param {Object}  [options]\n * @param {boolean} [options.allowUndo] Whether to allow the user to undo\n *                                      reverting the template. Default true.\n */\nconst revertTemplate = async (\n\ttemplate: TemplatePart | Template,\n\t{ allowUndo = true } = {}\n) => {\n\tconst noticeId = 'edit-site-template-reverted';\n\tdispatch( noticesStore ).removeNotice( noticeId );\n\tif ( ! isTemplateRevertable( template ) ) {\n\t\tdispatch( noticesStore ).createErrorNotice(\n\t\t\t__( 'This template is not revertable.' ),\n\t\t\t{\n\t\t\t\ttype: 'snackbar',\n\t\t\t}\n\t\t);\n\t\treturn;\n\t}\n\n\ttry {\n\t\tconst templateEntityConfig = select( coreStore ).getEntityConfig(\n\t\t\t'postType',\n\t\t\ttemplate.type\n\t\t);\n\n\t\tif ( ! templateEntityConfig ) {\n\t\t\tdispatch( noticesStore ).createErrorNotice(\n\t\t\t\t__(\n\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar' }\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst fileTemplatePath = addQueryArgs(\n\t\t\t`${ templateEntityConfig.baseURL }/${ template.id }`,\n\t\t\t{ context: 'edit', source: template.origin }\n\t\t);\n\n\t\tconst fileTemplate = ( await apiFetch( {\n\t\t\tpath: fileTemplatePath,\n\t\t} ) ) as any;\n\t\tif ( ! fileTemplate ) {\n\t\t\tdispatch( noticesStore ).createErrorNotice(\n\t\t\t\t__(\n\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar' }\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst serializeBlocks = ( { blocks: blocksForSerialization = [] } ) =>\n\t\t\t__unstableSerializeAndClean( blocksForSerialization );\n\n\t\tconst edited = select( coreStore ).getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\ttemplate.type,\n\t\t\ttemplate.id\n\t\t) as any;\n\n\t\t// We are fixing up the undo level here to make sure we can undo\n\t\t// the revert in the header toolbar correctly.\n\t\tdispatch( coreStore ).editEntityRecord(\n\t\t\t'postType',\n\t\t\ttemplate.type,\n\t\t\ttemplate.id,\n\t\t\t{\n\t\t\t\tcontent: serializeBlocks, // Required to make the `undo` behave correctly.\n\t\t\t\tblocks: edited.blocks, // Required to revert the blocks in the editor.\n\t\t\t\tsource: 'custom', // required to avoid turning the editor into a dirty state\n\t\t\t},\n\t\t\t{\n\t\t\t\tundoIgnore: true, // Required to merge this edit with the last undo level.\n\t\t\t}\n\t\t);\n\n\t\tconst blocks = parse( fileTemplate?.content?.raw );\n\n\t\tdispatch( coreStore ).editEntityRecord(\n\t\t\t'postType',\n\t\t\ttemplate.type,\n\t\t\tfileTemplate.id,\n\t\t\t{\n\t\t\t\tcontent: serializeBlocks,\n\t\t\t\tblocks,\n\t\t\t\tsource: 'theme',\n\t\t\t}\n\t\t);\n\n\t\tif ( allowUndo ) {\n\t\t\tconst undoRevert = () => {\n\t\t\t\tdispatch( coreStore ).editEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplate.type,\n\t\t\t\t\tedited.id,\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: serializeBlocks,\n\t\t\t\t\t\tblocks: edited.blocks,\n\t\t\t\t\t\tsource: 'custom',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tdispatch( noticesStore ).createSuccessNotice(\n\t\t\t\t__( 'Template reset.' ),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tid: noticeId,\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\t\tonClick: undoRevert,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t} catch ( error: any ) {\n\t\tconst errorMessage =\n\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t? error.message\n\t\t\t\t: __( 'Template revert failed. Please reload.' );\n\n\t\tdispatch( noticesStore ).createErrorNotice( errorMessage, {\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t}\n};\n\nconst resetPostAction: Action< Template | TemplatePart > = {\n\tid: 'reset-post',\n\tlabel: __( 'Reset' ),\n\tisEligible: ( item ) => {\n\t\treturn (\n\t\t\tisTemplateOrTemplatePart( item ) &&\n\t\t\titem?.source === 'custom' &&\n\t\t\t( Boolean( item.type === 'wp_template' && item?.plugin ) ||\n\t\t\t\titem?.has_theme_file )\n\t\t);\n\t},\n\ticon: backup,\n\tsupportsBulk: true,\n\thideModalHeader: true,\n\tmodalFocusOnMount: 'firstContentElement',\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ isBusy, setIsBusy ] = useState( false );\n\n\t\tconst { saveEditedEntityRecord } = useDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\t\tconst onConfirm = async () => {\n\t\t\ttry {\n\t\t\t\tfor ( const template of items ) {\n\t\t\t\t\tawait revertTemplate( template, {\n\t\t\t\t\t\tallowUndo: false,\n\t\t\t\t\t} );\n\t\t\t\t\tawait saveEditedEntityRecord(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\ttemplate.type,\n\t\t\t\t\t\ttemplate.id\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\titems.length > 1\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t/* translators: The number of items. */\n\t\t\t\t\t\t\t\t__( '%s items reset.' ),\n\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t/* translators: The template/part's name. */\n\t\t\t\t\t\t\t\t__( '\"%s\" reset.' ),\n\t\t\t\t\t\t\t\tgetItemTitle( items[ 0 ] )\n\t\t\t\t\t\t  ),\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tid: 'revert-template-action',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} catch ( error ) {\n\t\t\t\tlet fallbackErrorMessage;\n\t\t\t\tif ( items[ 0 ].type === 'wp_template' ) {\n\t\t\t\t\tfallbackErrorMessage =\n\t\t\t\t\t\titems.length === 1\n\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template.'\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the templates.'\n\t\t\t\t\t\t\t  );\n\t\t\t\t} else {\n\t\t\t\t\tfallbackErrorMessage =\n\t\t\t\t\t\titems.length === 1\n\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template part.'\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template parts.'\n\t\t\t\t\t\t\t  );\n\t\t\t\t}\n\n\t\t\t\tconst typedError = error as CoreDataError;\n\t\t\t\tconst errorMessage =\n\t\t\t\t\ttypedError.message && typedError.code !== 'unknown_error'\n\t\t\t\t\t\t? typedError.message\n\t\t\t\t\t\t: fallbackErrorMessage;\n\n\t\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t\t}\n\t\t};\n\t\treturn (\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>\n\t\t\t\t\t{ __( 'Reset to default and clear all customizations?' ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetIsBusy( true );\n\t\t\t\t\t\t\tawait onConfirm();\n\t\t\t\t\t\t\tonActionPerformed?.( items );\n\t\t\t\t\t\t\tsetIsBusy( false );\n\t\t\t\t\t\t\tcloseModal?.();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t);\n\t},\n};\n\n/**\n * Reset action for Template and TemplatePart.\n */\nexport default resetPostAction;\n"],"mappings":"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","ignoreList":[]}