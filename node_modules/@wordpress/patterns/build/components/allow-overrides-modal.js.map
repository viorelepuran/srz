{"version":3,"names":["_components","require","_i18n","_element","_a11y","_jsxRuntime","AllowOverridesModal","placeholder","initialName","onClose","onSave","editedBlockName","setEditedBlockName","useState","descriptionId","useId","isNameValid","trim","handleSubmit","message","sprintf","__","speak","jsx","Modal","title","onRequestClose","focusOnMount","aria","describedby","size","children","onSubmit","event","preventDefault","jsxs","__experimentalVStack","spacing","__experimentalText","id","TextControl","__nextHasNoMarginBottom","__next40pxDefaultSize","value","label","help","onChange","__experimentalHStack","justify","Button","variant","onClick","type","DisallowOverridesModal"],"sources":["@wordpress/patterns/src/components/allow-overrides-modal.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tButton,\n\t__experimentalText as Text,\n\tTextControl,\n\tModal,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useState, useId } from '@wordpress/element';\nimport { speak } from '@wordpress/a11y';\n\nexport function AllowOverridesModal( {\n\tplaceholder,\n\tinitialName = '',\n\tonClose,\n\tonSave,\n} ) {\n\tconst [ editedBlockName, setEditedBlockName ] = useState( initialName );\n\tconst descriptionId = useId();\n\n\tconst isNameValid = !! editedBlockName.trim();\n\n\tconst handleSubmit = () => {\n\t\tif ( editedBlockName !== initialName ) {\n\t\t\tconst message = sprintf(\n\t\t\t\t/* translators: %s: new name/label for the block */\n\t\t\t\t__( 'Block name changed to: \"%s\".' ),\n\t\t\t\teditedBlockName\n\t\t\t);\n\n\t\t\t// Must be assertive to immediately announce change.\n\t\t\tspeak( message, 'assertive' );\n\t\t}\n\t\tonSave( editedBlockName );\n\n\t\t// Immediate close avoids ability to hit save multiple times.\n\t\tonClose();\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Enable overrides' ) }\n\t\t\tonRequestClose={ onClose }\n\t\t\tfocusOnMount=\"firstContentElement\"\n\t\t\taria={ { describedby: descriptionId } }\n\t\t\tsize=\"small\"\n\t\t>\n\t\t\t<form\n\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tif ( ! isNameValid ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\thandleSubmit();\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<VStack spacing=\"6\">\n\t\t\t\t\t<Text id={ descriptionId }>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Overrides are changes you make to a block within a synced pattern instance. Use overrides to customize a synced pattern instance to suit its new context. Name this block to specify an override.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvalue={ editedBlockName }\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'For example, if you are creating a recipe pattern, you use \"Recipe Title\", \"Recipe Description\", etc.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\t\tonChange={ setEditedBlockName }\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\taria-disabled={ ! isNameValid }\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Enable' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n\nexport function DisallowOverridesModal( { onClose, onSave } ) {\n\tconst descriptionId = useId();\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Disable overrides' ) }\n\t\t\tonRequestClose={ onClose }\n\t\t\taria={ { describedby: descriptionId } }\n\t\t\tsize=\"small\"\n\t\t>\n\t\t\t<form\n\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tonSave();\n\t\t\t\t\tonClose();\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<VStack spacing=\"6\">\n\t\t\t\t\t<Text id={ descriptionId }>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Are you sure you want to disable overrides? Disabling overrides will revert all applied overrides for this block throughout instances of this pattern.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Disable' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}