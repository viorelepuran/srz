{"version":3,"names":["Dimensions","dispatch","store","matchWidth","operator","breakpoint","width","get","Error","addDimensionsEventListener","breakpoints","operators","operatorEntries","Object","entries","breakpointEntries","setIsMatching","matches","fromEntries","flatMap","name","map","condition","addEventListener"],"sources":["@wordpress/viewport/src/listener.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { Dimensions } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { dispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store } from './store';\n\nconst matchWidth = ( operator, breakpoint ) => {\n\tconst { width } = Dimensions.get( 'window' );\n\tif ( operator === 'max-width' ) {\n\t\treturn width < breakpoint;\n\t} else if ( operator === 'min-width' ) {\n\t\treturn width >= breakpoint;\n\t}\n\tthrow new Error( `Unsupported viewport operator: ${ operator }` );\n};\n\nconst addDimensionsEventListener = ( breakpoints, operators ) => {\n\tconst operatorEntries = Object.entries( operators );\n\tconst breakpointEntries = Object.entries( breakpoints );\n\n\tconst setIsMatching = () => {\n\t\tconst matches = Object.fromEntries(\n\t\t\tbreakpointEntries.flatMap( ( [ name, width ] ) => {\n\t\t\t\treturn operatorEntries.map( ( [ operator, condition ] ) => [\n\t\t\t\t\t`${ operator } ${ name }`,\n\t\t\t\t\tmatchWidth( condition, width ),\n\t\t\t\t] );\n\t\t\t} )\n\t\t);\n\n\t\tdispatch( store ).setIsMatching( matches );\n\t};\n\n\tDimensions.addEventListener( 'change', setIsMatching );\n\n\t// Set initial values.\n\tsetIsMatching();\n};\n\nexport default addDimensionsEventListener;\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,UAAU,QAAQ,cAAc;;AAEzC;AACA;AACA;AACA,SAASC,QAAQ,QAAQ,iBAAiB;;AAE1C;AACA;AACA;AACA,SAASC,KAAK,QAAQ,SAAS;AAE/B,MAAMC,UAAU,GAAGA,CAAEC,QAAQ,EAAEC,UAAU,KAAM;EAC9C,MAAM;IAAEC;EAAM,CAAC,GAAGN,UAAU,CAACO,GAAG,CAAE,QAAS,CAAC;EAC5C,IAAKH,QAAQ,KAAK,WAAW,EAAG;IAC/B,OAAOE,KAAK,GAAGD,UAAU;EAC1B,CAAC,MAAM,IAAKD,QAAQ,KAAK,WAAW,EAAG;IACtC,OAAOE,KAAK,IAAID,UAAU;EAC3B;EACA,MAAM,IAAIG,KAAK,CAAE,kCAAmCJ,QAAQ,EAAI,CAAC;AAClE,CAAC;AAED,MAAMK,0BAA0B,GAAGA,CAAEC,WAAW,EAAEC,SAAS,KAAM;EAChE,MAAMC,eAAe,GAAGC,MAAM,CAACC,OAAO,CAAEH,SAAU,CAAC;EACnD,MAAMI,iBAAiB,GAAGF,MAAM,CAACC,OAAO,CAAEJ,WAAY,CAAC;EAEvD,MAAMM,aAAa,GAAGA,CAAA,KAAM;IAC3B,MAAMC,OAAO,GAAGJ,MAAM,CAACK,WAAW,CACjCH,iBAAiB,CAACI,OAAO,CAAE,CAAE,CAAEC,IAAI,EAAEd,KAAK,CAAE,KAAM;MACjD,OAAOM,eAAe,CAACS,GAAG,CAAE,CAAE,CAAEjB,QAAQ,EAAEkB,SAAS,CAAE,KAAM,CAC1D,GAAIlB,QAAQ,IAAMgB,IAAI,EAAG,EACzBjB,UAAU,CAAEmB,SAAS,EAAEhB,KAAM,CAAC,CAC7B,CAAC;IACJ,CAAE,CACH,CAAC;IAEDL,QAAQ,CAAEC,KAAM,CAAC,CAACc,aAAa,CAAEC,OAAQ,CAAC;EAC3C,CAAC;EAEDjB,UAAU,CAACuB,gBAAgB,CAAE,QAAQ,EAAEP,aAAc,CAAC;;EAEtD;EACAA,aAAa,CAAC,CAAC;AAChB,CAAC;AAED,eAAeP,0BAA0B","ignoreList":[]}