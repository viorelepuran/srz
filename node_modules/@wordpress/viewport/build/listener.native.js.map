{"version":3,"names":["_reactNative","require","_data","_store","matchWidth","operator","breakpoint","width","Dimensions","get","Error","addDimensionsEventListener","breakpoints","operators","operatorEntries","Object","entries","breakpointEntries","setIsMatching","matches","fromEntries","flatMap","name","map","condition","dispatch","store","addEventListener","_default","exports","default"],"sources":["@wordpress/viewport/src/listener.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { Dimensions } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { dispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store } from './store';\n\nconst matchWidth = ( operator, breakpoint ) => {\n\tconst { width } = Dimensions.get( 'window' );\n\tif ( operator === 'max-width' ) {\n\t\treturn width < breakpoint;\n\t} else if ( operator === 'min-width' ) {\n\t\treturn width >= breakpoint;\n\t}\n\tthrow new Error( `Unsupported viewport operator: ${ operator }` );\n};\n\nconst addDimensionsEventListener = ( breakpoints, operators ) => {\n\tconst operatorEntries = Object.entries( operators );\n\tconst breakpointEntries = Object.entries( breakpoints );\n\n\tconst setIsMatching = () => {\n\t\tconst matches = Object.fromEntries(\n\t\t\tbreakpointEntries.flatMap( ( [ name, width ] ) => {\n\t\t\t\treturn operatorEntries.map( ( [ operator, condition ] ) => [\n\t\t\t\t\t`${ operator } ${ name }`,\n\t\t\t\t\tmatchWidth( condition, width ),\n\t\t\t\t] );\n\t\t\t} )\n\t\t);\n\n\t\tdispatch( store ).setIsMatching( matches );\n\t};\n\n\tDimensions.addEventListener( 'change', setIsMatching );\n\n\t// Set initial values.\n\tsetIsMatching();\n};\n\nexport default addDimensionsEventListener;\n"],"mappings":";;;;;;AAGA,IAAAA,YAAA,GAAAC,OAAA;AAKA,IAAAC,KAAA,GAAAD,OAAA;AAKA,IAAAE,MAAA,GAAAF,OAAA;AAbA;AACA;AACA;;AAGA;AACA;AACA;;AAGA;AACA;AACA;;AAGA,MAAMG,UAAU,GAAGA,CAAEC,QAAQ,EAAEC,UAAU,KAAM;EAC9C,MAAM;IAAEC;EAAM,CAAC,GAAGC,uBAAU,CAACC,GAAG,CAAE,QAAS,CAAC;EAC5C,IAAKJ,QAAQ,KAAK,WAAW,EAAG;IAC/B,OAAOE,KAAK,GAAGD,UAAU;EAC1B,CAAC,MAAM,IAAKD,QAAQ,KAAK,WAAW,EAAG;IACtC,OAAOE,KAAK,IAAID,UAAU;EAC3B;EACA,MAAM,IAAII,KAAK,CAAE,kCAAmCL,QAAQ,EAAI,CAAC;AAClE,CAAC;AAED,MAAMM,0BAA0B,GAAGA,CAAEC,WAAW,EAAEC,SAAS,KAAM;EAChE,MAAMC,eAAe,GAAGC,MAAM,CAACC,OAAO,CAAEH,SAAU,CAAC;EACnD,MAAMI,iBAAiB,GAAGF,MAAM,CAACC,OAAO,CAAEJ,WAAY,CAAC;EAEvD,MAAMM,aAAa,GAAGA,CAAA,KAAM;IAC3B,MAAMC,OAAO,GAAGJ,MAAM,CAACK,WAAW,CACjCH,iBAAiB,CAACI,OAAO,CAAE,CAAE,CAAEC,IAAI,EAAEf,KAAK,CAAE,KAAM;MACjD,OAAOO,eAAe,CAACS,GAAG,CAAE,CAAE,CAAElB,QAAQ,EAAEmB,SAAS,CAAE,KAAM,CAC1D,GAAInB,QAAQ,IAAMiB,IAAI,EAAG,EACzBlB,UAAU,CAAEoB,SAAS,EAAEjB,KAAM,CAAC,CAC7B,CAAC;IACJ,CAAE,CACH,CAAC;IAED,IAAAkB,cAAQ,EAAEC,YAAM,CAAC,CAACR,aAAa,CAAEC,OAAQ,CAAC;EAC3C,CAAC;EAEDX,uBAAU,CAACmB,gBAAgB,CAAE,QAAQ,EAAET,aAAc,CAAC;;EAEtD;EACAA,aAAa,CAAC,CAAC;AAChB,CAAC;AAAC,IAAAU,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEanB,0BAA0B","ignoreList":[]}